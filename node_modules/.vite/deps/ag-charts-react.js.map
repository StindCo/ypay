{
  "version": 3,
  "sources": ["../../object-assign/index.js", "../../prop-types/lib/ReactPropTypesSecret.js", "../../prop-types/lib/has.js", "../../prop-types/checkPropTypes.js", "../../prop-types/factoryWithTypeCheckers.js", "../../prop-types/index.js", "../../ag-charts-community/dist/esm/es5/chart/agChartOptions.js", "../../ag-charts-community/dist/esm/es5/util/time/interval.js", "../../ag-charts-community/dist/esm/es5/util/time/millisecond.js", "../../ag-charts-community/dist/esm/es5/util/time/duration.js", "../../ag-charts-community/dist/esm/es5/util/time/second.js", "../../ag-charts-community/dist/esm/es5/util/time/minute.js", "../../ag-charts-community/dist/esm/es5/util/time/hour.js", "../../ag-charts-community/dist/esm/es5/util/time/day.js", "../../ag-charts-community/dist/esm/es5/util/time/week.js", "../../ag-charts-community/dist/esm/es5/util/time/month.js", "../../ag-charts-community/dist/esm/es5/util/time/year.js", "../../ag-charts-community/dist/esm/es5/util/time/utcMinute.js", "../../ag-charts-community/dist/esm/es5/util/time/utcHour.js", "../../ag-charts-community/dist/esm/es5/util/time/utcDay.js", "../../ag-charts-community/dist/esm/es5/util/time/utcMonth.js", "../../ag-charts-community/dist/esm/es5/util/time/utcYear.js", "../../ag-charts-community/dist/esm/es5/util/time/index.js", "../../ag-charts-community/dist/esm/es5/util/userAgent.js", "../../ag-charts-community/dist/esm/es5/canvas/hdpiCanvas.js", "../../ag-charts-community/dist/esm/es5/scene/bbox.js", "../../ag-charts-community/dist/esm/es5/scene/matrix.js", "../../ag-charts-community/dist/esm/es5/util/id.js", "../../ag-charts-community/dist/esm/es5/util/window.js", "../../ag-charts-community/dist/esm/es5/scene/changeDetectable.js", "../../ag-charts-community/dist/esm/es5/scene/node.js", "../../ag-charts-community/dist/esm/es5/util/compare.js", "../../ag-charts-community/dist/esm/es5/util/function.js", "../../ag-charts-community/dist/esm/es5/util/logger.js", "../../ag-charts-community/dist/esm/es5/scene/group.js", "../../ag-charts-community/dist/esm/es5/canvas/hdpiOffscreenCanvas.js", "../../ag-charts-community/dist/esm/es5/scene/scene.js", "../../ag-charts-community/dist/esm/es5/util/observable.js", "../../ag-charts-community/dist/esm/es5/util/value.js", "../../ag-charts-community/dist/esm/es5/util/decorator.js", "../../ag-charts-community/dist/esm/es5/util/deprecation.js", "../../ag-charts-community/dist/esm/es5/util/color.js", "../../ag-charts-community/dist/esm/es5/util/validation.js", "../../ag-charts-community/dist/esm/es5/chart/layers.js", "../../ag-charts-community/dist/esm/es5/chart/chartAxisDirection.js", "../../ag-charts-community/dist/esm/es5/chart/tooltip/tooltip.js", "../../ag-charts-community/dist/esm/es5/chart/series/series.js", "../../ag-charts-community/dist/esm/es5/util/padding.js", "../../ag-charts-community/dist/esm/es5/scene/selection.js", "../../ag-charts-community/dist/esm/es5/scene/gradient/gradient.js", "../../ag-charts-community/dist/esm/es5/util/angle.js", "../../ag-charts-community/dist/esm/es5/scene/gradient/linearGradient.js", "../../ag-charts-community/dist/esm/es5/scene/shape/shape.js", "../../ag-charts-community/dist/esm/es5/scene/shape/text.js", "../../ag-charts-community/dist/esm/es5/scene/polyRoots.js", "../../ag-charts-community/dist/esm/es5/scene/intersection.js", "../../ag-charts-community/dist/esm/es5/scene/path2D.js", "../../ag-charts-community/dist/esm/es5/scene/shape/path.js", "../../ag-charts-community/dist/esm/es5/chart/marker/marker.js", "../../ag-charts-community/dist/esm/es5/chart/marker/square.js", "../../ag-charts-community/dist/esm/es5/util/proxy.js", "../../ag-charts-community/dist/esm/es5/chart/markerLabel.js", "../../ag-charts-community/dist/esm/es5/chart/marker/circle.js", "../../ag-charts-community/dist/esm/es5/chart/marker/cross.js", "../../ag-charts-community/dist/esm/es5/chart/marker/diamond.js", "../../ag-charts-community/dist/esm/es5/chart/marker/heart.js", "../../ag-charts-community/dist/esm/es5/chart/marker/plus.js", "../../ag-charts-community/dist/esm/es5/chart/marker/triangle.js", "../../ag-charts-community/dist/esm/es5/chart/marker/util.js", "../../ag-charts-community/dist/esm/es5/chart/chartUpdateType.js", "../../ag-charts-community/dist/esm/es5/chart/gridLayout.js", "../../ag-charts-community/dist/esm/es5/chart/pagination/pagination.js", "../../ag-charts-community/dist/esm/es5/chart/legend.js", "../../ag-charts-community/dist/esm/es5/util/sizeMonitor.js", "../../ag-charts-community/dist/esm/es5/util/labelPlacement.js", "../../ag-charts-community/dist/esm/es5/util/render.js", "../../ag-charts-community/dist/esm/es5/chart/series/seriesMarker.js", "../../ag-charts-community/dist/esm/es5/scale/continuousScale.js", "../../ag-charts-community/dist/esm/es5/scale/bandScale.js", "../../ag-charts-community/dist/esm/es5/scene/shape/line.js", "../../ag-charts-community/dist/esm/es5/util/number.js", "../../ag-charts-community/dist/esm/es5/scene/shape/arc.js", "../../ag-charts-community/dist/esm/es5/caption.js", "../../ag-charts-community/dist/esm/es5/util/equal.js", "../../ag-charts-community/dist/esm/es5/util/ticks.js", "../../ag-charts-community/dist/esm/es5/util/timeFormat.js", "../../ag-charts-community/dist/esm/es5/scale/timeScale.js", "../../ag-charts-community/dist/esm/es5/util/numberFormat.js", "../../ag-charts-community/dist/esm/es5/scale/logScale.js", "../../ag-charts-community/dist/esm/es5/util/default.js", "../../ag-charts-community/dist/esm/es5/util/array.js", "../../ag-charts-community/dist/esm/es5/chart/label.js", "../../ag-charts-community/dist/esm/es5/axis.js", "../../ag-charts-community/dist/esm/es5/scale/linearScale.js", "../../ag-charts-community/dist/esm/es5/chart/chartAxis.js", "../../ag-charts-community/dist/esm/es5/chart/axis/categoryAxis.js", "../../ag-charts-community/dist/esm/es5/util/json.js", "../../ag-charts-community/dist/esm/es5/chart/series/cartesian/cartesianSeries.js", "../../ag-charts-community/dist/esm/es5/util/async.js", "../../ag-charts-community/dist/esm/es5/chart/overlay/overlay.js", "../../ag-charts-community/dist/esm/es5/chart/overlay/chartOverlays.js", "../../ag-charts-community/dist/esm/es5/util/listeners.js", "../../ag-charts-community/dist/esm/es5/chart/interaction/baseManager.js", "../../ag-charts-community/dist/esm/es5/chart/interaction/interactionManager.js", "../../ag-charts-community/dist/esm/es5/chart/interaction/cursorManager.js", "../../ag-charts-community/dist/esm/es5/chart/interaction/highlightManager.js", "../../ag-charts-community/dist/esm/es5/chart/interaction/tooltipManager.js", "../../ag-charts-community/dist/esm/es5/chart/interaction/zoomManager.js", "../../ag-charts-community/dist/esm/es5/chart/layout/layoutService.js", "../../ag-charts-community/dist/esm/es5/chart/updateService.js", "../../ag-charts-community/dist/esm/es5/chart/chartHighlight.js", "../../ag-charts-community/dist/esm/es5/chart/chart.js", "../../ag-charts-community/dist/esm/es5/layout/tree.js", "../../ag-charts-community/dist/esm/es5/chart/axis/groupedCategoryAxis.js", "../../ag-charts-community/dist/esm/es5/chart/cartesianChart.js", "../../ag-charts-community/dist/esm/es5/chart/series/polar/polarSeries.js", "../../ag-charts-community/dist/esm/es5/chart/polarChart.js", "../../ag-charts-community/dist/esm/es5/chart/hierarchyChart.js", "../../ag-charts-community/dist/esm/es5/util/string.js", "../../ag-charts-community/dist/esm/es5/util/sanitize.js", "../../ag-charts-community/dist/esm/es5/util/secondaryAxisTicks.js", "../../ag-charts-community/dist/esm/es5/chart/axis/numberAxis.js", "../../ag-charts-community/dist/esm/es5/chart/axis/logAxis.js", "../../ag-charts-community/dist/esm/es5/chart/data/dataModel.js", "../../ag-charts-community/dist/esm/es5/chart/axis/timeAxis.js", "../../ag-charts-community/dist/esm/es5/chart/series/cartesian/areaSeries.js", "../../ag-charts-community/dist/esm/es5/scene/shape/rect.js", "../../ag-charts-community/dist/esm/es5/chart/series/cartesian/barSeries.js", "../../ag-charts-community/dist/esm/es5/chart/series/cartesian/histogramSeries.js", "../../ag-charts-community/dist/esm/es5/chart/series/cartesian/lineSeries.js", "../../ag-charts-community/dist/esm/es5/chart/series/cartesian/scatterSeries.js", "../../ag-charts-community/dist/esm/es5/util/sector.js", "../../ag-charts-community/dist/esm/es5/scene/shape/sector.js", "../../ag-charts-community/dist/esm/es5/chart/series/polar/pieSeries.js", "../../ag-charts-community/dist/esm/es5/chart/series/hierarchy/hierarchySeries.js", "../../ag-charts-community/dist/esm/es5/scene/dropShadow.js", "../../ag-charts-community/dist/esm/es5/interpolate/number.js", "../../ag-charts-community/dist/esm/es5/interpolate/color.js", "../../ag-charts-community/dist/esm/es5/scale/colorScale.js", "../../ag-charts-community/dist/esm/es5/chart/series/hierarchy/treemapSeries.js", "../../ag-charts-community/dist/esm/es5/chart/chartTypes.js", "../../ag-charts-community/dist/esm/es5/util/object.js", "../../ag-charts-community/dist/esm/es5/chart/themes/chartTheme.js", "../../ag-charts-community/dist/esm/es5/chart/themes/darkTheme.js", "../../ag-charts-community/dist/esm/es5/util/module.js", "../../ag-charts-community/dist/esm/es5/chart/shapes/rangeHandle.js", "../../ag-charts-community/dist/esm/es5/chart/shapes/rangeMask.js", "../../ag-charts-community/dist/esm/es5/chart/shapes/rangeSelector.js", "../../ag-charts-community/dist/esm/es5/chart/navigator/navigatorMask.js", "../../ag-charts-community/dist/esm/es5/chart/navigator/navigatorHandle.js", "../../ag-charts-community/dist/esm/es5/chart/navigator/navigator.js", "../../ag-charts-community/dist/esm/es5/util/navigator-module.js", "../../ag-charts-community/dist/esm/es5/chart/background/background.js", "../../ag-charts-community/dist/esm/es5/chart/background/backgroundModule.js", "../../ag-charts-community/dist/esm/es5/module-support.js", "../../ag-charts-community/dist/esm/es5/chart/series/seriesTypes.js", "../../ag-charts-community/dist/esm/es5/chart/mapping/defaults.js", "../../ag-charts-community/dist/esm/es5/chart/mapping/transforms.js", "../../ag-charts-community/dist/esm/es5/chart/themes/materialLight.js", "../../ag-charts-community/dist/esm/es5/chart/themes/materialDark.js", "../../ag-charts-community/dist/esm/es5/chart/themes/pastelLight.js", "../../ag-charts-community/dist/esm/es5/chart/themes/pastelDark.js", "../../ag-charts-community/dist/esm/es5/chart/themes/solarLight.js", "../../ag-charts-community/dist/esm/es5/chart/themes/solarDark.js", "../../ag-charts-community/dist/esm/es5/chart/themes/vividLight.js", "../../ag-charts-community/dist/esm/es5/chart/themes/vividDark.js", "../../ag-charts-community/dist/esm/es5/chart/mapping/themes.js", "../../ag-charts-community/dist/esm/es5/chart/mapping/prepareSeries.js", "../../ag-charts-community/dist/esm/es5/chart/chartAxesTypes.js", "../../ag-charts-community/dist/esm/es5/chart/mapping/prepare.js", "../../ag-charts-community/dist/esm/es5/chart/crossline/crossLineLabelPosition.js", "../../ag-charts-community/dist/esm/es5/scene/shape/range.js", "../../ag-charts-community/dist/esm/es5/chart/crossline/crossLine.js", "../../ag-charts-community/dist/esm/es5/scene/image.js", "../../ag-charts-community/dist/esm/es5/chart/background/backgroundImage.js", "../../ag-charts-community/dist/esm/es5/chart/agChartV2.js", "../../ag-charts-community/dist/esm/es5/version.js", "../../ag-charts-community/dist/esm/es5/integrated-charts-scene.js", "../../ag-charts-community/dist/esm/es5/integrated-charts-theme.js", "../../ag-charts-community/dist/esm/es5/sparklines-scale.js", "../../ag-charts-community/dist/esm/es5/sparklines-util.js", "../../ag-charts-community/dist/esm/es5/main.js", "../../ag-charts-react/lib/agChartsReact.js", "../../ag-charts-react/main.js"],
  "sourcesContent": ["/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n", "/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n", "module.exports = Function.call.bind(Object.prototype.hasOwnProperty);\n", "/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = require('./lib/has');\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) { /**/ }\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' +\n              'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n", "/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar has = require('./lib/has');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bigint: createPrimitiveTypeChecker('bigint'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message, data) {\n    this.message = message;\n    this.data = data && typeof data === 'object' ? data: {};\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError(\n          'Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'),\n          {expectedType: expectedType}\n        );\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var expectedTypes = [];\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        var checkerResult = checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret);\n        if (checkerResult == null) {\n          return null;\n        }\n        if (checkerResult.data && has(checkerResult.data, 'expectedType')) {\n          expectedTypes.push(checkerResult.data.expectedType);\n        }\n      }\n      var expectedTypesMessage = (expectedTypes.length > 0) ? ', expected one of type [' + expectedTypes.join(', ') + ']': '';\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`' + expectedTypesMessage + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function invalidValidatorError(componentName, location, propFullName, key, type) {\n    return new PropTypeError(\n      (componentName || 'React class') + ': ' + location + ' type `' + propFullName + '.' + key + '` is invalid; ' +\n      'it must be a function, usually from the `prop-types` package, but received `' + type + '`.'\n    );\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (typeof checker !== 'function') {\n          return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (has(shapeTypes, key) && typeof checker !== 'function') {\n          return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));\n        }\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n", "/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n", "/**\n * Internal Use Only: Used to ensure this file is treated as a module until we can use moduleDetection flag in Ts v4.7\n */\nexport var __FORCE_MODULE_DETECTION = 0;\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n/**\n * The interval methods don't mutate Date parameters.\n */\nvar TimeInterval = /** @class */ (function () {\n    function TimeInterval(encode, decode, rangeCallback) {\n        this._encode = encode;\n        this._decode = decode;\n        this._rangeCallback = rangeCallback;\n    }\n    /**\n     * Returns a new date representing the latest interval boundary date before or equal to date.\n     * For example, `day.floor(date)` typically returns 12:00 AM local time on the given date.\n     * @param date\n     */\n    TimeInterval.prototype.floor = function (date) {\n        var d = new Date(date);\n        var e = this._encode(d);\n        return this._decode(e);\n    };\n    /**\n     * Returns a new date representing the earliest interval boundary date after or equal to date.\n     * @param date\n     */\n    TimeInterval.prototype.ceil = function (date) {\n        var d = new Date(Number(date) - 1);\n        var e = this._encode(d);\n        return this._decode(e + 1);\n    };\n    /**\n     * Returns an array of dates representing every interval boundary after or equal to start (inclusive) and before stop (exclusive).\n     * @param start Range start.\n     * @param stop Range end.\n     * @param extend If specified, the requested range will be extended to the closest \"nice\" values.\n     */\n    TimeInterval.prototype.range = function (start, stop, extend) {\n        var _a;\n        var rangeCallback = (_a = this._rangeCallback) === null || _a === void 0 ? void 0 : _a.call(this, start, stop);\n        var e0 = this._encode(extend ? this.floor(start) : this.ceil(start));\n        var e1 = this._encode(extend ? this.ceil(stop) : this.floor(stop));\n        if (e1 < e0) {\n            return [];\n        }\n        var range = [];\n        for (var e = e0; e <= e1; e++) {\n            var d = this._decode(e);\n            range.push(d);\n        }\n        rangeCallback === null || rangeCallback === void 0 ? void 0 : rangeCallback();\n        return range;\n    };\n    return TimeInterval;\n}());\nexport { TimeInterval };\nvar CountableTimeInterval = /** @class */ (function (_super) {\n    __extends(CountableTimeInterval, _super);\n    function CountableTimeInterval() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CountableTimeInterval.prototype.getOffset = function (snapTo, step) {\n        var s = typeof snapTo === 'number' || snapTo instanceof Date ? this._encode(new Date(snapTo)) : 0;\n        return Math.floor(s) % step;\n    };\n    /**\n     * Returns a filtered view of this interval representing every step'th date.\n     * It can be a number of minutes, hours, days etc.\n     * Must be a positive integer.\n     * @param step\n     */\n    CountableTimeInterval.prototype.every = function (step, options) {\n        var _this = this;\n        var offset = 0;\n        var rangeCallback;\n        var _a = (options !== null && options !== void 0 ? options : {}).snapTo, snapTo = _a === void 0 ? 'start' : _a;\n        if (typeof snapTo === 'string') {\n            var initialOffset_1 = offset;\n            rangeCallback = function (start, stop) {\n                var s = snapTo === 'start' ? start : stop;\n                offset = _this.getOffset(s, step);\n                return function () { return (offset = initialOffset_1); };\n            };\n        }\n        else if (typeof snapTo === 'number') {\n            offset = this.getOffset(new Date(snapTo), step);\n        }\n        else if (snapTo instanceof Date) {\n            offset = this.getOffset(snapTo, step);\n        }\n        var encode = function (date) {\n            var e = _this._encode(date);\n            return Math.floor((e - offset) / step);\n        };\n        var decode = function (encoded) {\n            return _this._decode(encoded * step + offset);\n        };\n        var interval = new TimeInterval(encode, decode, rangeCallback);\n        return interval;\n    };\n    return CountableTimeInterval;\n}(TimeInterval));\nexport { CountableTimeInterval };\n", "import { CountableTimeInterval } from './interval';\nfunction encode(date) {\n    return date.getTime();\n}\nfunction decode(encoded) {\n    return new Date(encoded);\n}\nexport var millisecond = new CountableTimeInterval(encode, decode);\nexport default millisecond;\n", "// Common time unit sizes in milliseconds.\nexport var epochYear = new Date(0).getFullYear();\nexport var durationSecond = 1000;\nexport var durationMinute = durationSecond * 60;\nexport var durationHour = durationMinute * 60;\nexport var durationDay = durationHour * 24;\nexport var durationWeek = durationDay * 7;\nexport var durationMonth = durationDay * 30;\nexport var durationYear = durationDay * 365;\n", "import { CountableTimeInterval } from './interval';\nimport { durationSecond, durationMinute } from './duration';\nvar offset = new Date().getTimezoneOffset() * durationMinute;\nfunction encode(date) {\n    return Math.floor((date.getTime() - offset) / durationSecond);\n}\nfunction decode(encoded) {\n    return new Date(offset + encoded * durationSecond);\n}\nexport var second = new CountableTimeInterval(encode, decode);\nexport default second;\n", "import { CountableTimeInterval } from './interval';\nimport { durationMinute } from './duration';\nvar offset = new Date().getTimezoneOffset() * durationMinute;\nfunction encode(date) {\n    return Math.floor((date.getTime() - offset) / durationMinute);\n}\nfunction decode(encoded) {\n    return new Date(offset + encoded * durationMinute);\n}\nexport var minute = new CountableTimeInterval(encode, decode);\nexport default minute;\n", "import { CountableTimeInterval } from './interval';\nimport { durationHour, durationMinute } from './duration';\nvar offset = new Date().getTimezoneOffset() * durationMinute;\nfunction encode(date) {\n    return Math.floor((date.getTime() - offset) / durationHour);\n}\nfunction decode(encoded) {\n    return new Date(offset + encoded * durationHour);\n}\nexport var hour = new CountableTimeInterval(encode, decode);\nexport default hour;\n", "import { CountableTimeInterval } from './interval';\nimport { durationDay } from './duration';\nfunction encode(date) {\n    var utc = Date.UTC(date.getFullYear(), date.getMonth(), date.getDate());\n    return Math.floor(utc / durationDay);\n}\nfunction decode(encoded) {\n    var d = new Date(0);\n    d.setDate(d.getDate() + encoded);\n    d.setHours(0, 0, 0, 0);\n    return d;\n}\nexport var day = new CountableTimeInterval(encode, decode);\nexport default day;\n", "import { durationWeek, durationDay } from './duration';\nimport { CountableTimeInterval } from './interval';\nvar baseSunday = new Date(2023, 0, 1);\n// Set date to n-th day of the week.\nfunction weekday(n) {\n    // Use UTC for weeks calculation to get into account time zone shifts\n    var base = Date.UTC(baseSunday.getFullYear(), baseSunday.getMonth(), baseSunday.getDate()) + n * durationDay;\n    function encode(date) {\n        var utc = Date.UTC(date.getFullYear(), date.getMonth(), date.getDate());\n        return Math.floor((utc - base) / durationWeek);\n    }\n    function decode(encoded) {\n        var d = new Date(base);\n        d.setDate(d.getDate() + encoded * 7);\n        return d;\n    }\n    return new CountableTimeInterval(encode, decode);\n}\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\nexport default sunday;\n", "import { CountableTimeInterval } from './interval';\nfunction encode(date) {\n    return date.getFullYear() * 12 + date.getMonth();\n}\nfunction decode(encoded) {\n    var year = Math.floor(encoded / 12);\n    var month = encoded - year * 12;\n    return new Date(year, month, 1);\n}\nexport var month = new CountableTimeInterval(encode, decode);\nexport default month;\n", "import { CountableTimeInterval } from './interval';\nfunction encode(date) {\n    return date.getFullYear();\n}\nfunction decode(encoded) {\n    // Note: assigning years through the constructor\n    // will break for years 0 - 99 AD (will turn 1900's).\n    var d = new Date();\n    d.setFullYear(encoded);\n    d.setMonth(0, 1);\n    d.setHours(0, 0, 0, 0);\n    return d;\n}\nexport var year = new CountableTimeInterval(encode, decode);\nexport default year;\n", "import { CountableTimeInterval } from './interval';\nimport { durationMinute } from './duration';\nfunction encode(date) {\n    return Math.floor(date.getTime() / durationMinute);\n}\nfunction decode(encoded) {\n    return new Date(encoded * durationMinute);\n}\nexport var utcMinute = new CountableTimeInterval(encode, decode);\n", "import { CountableTimeInterval } from './interval';\nimport { durationHour } from './duration';\nfunction encode(date) {\n    return Math.floor(date.getTime() / durationHour);\n}\nfunction decode(encoded) {\n    return new Date(encoded * durationHour);\n}\nexport var utcHour = new CountableTimeInterval(encode, decode);\n", "import { CountableTimeInterval } from './interval';\nimport { durationDay } from './duration';\nfunction encode(date) {\n    return Math.floor(date.getTime() / durationDay);\n}\nfunction decode(encoded) {\n    var d = new Date(0);\n    d.setUTCDate(d.getUTCDate() + encoded);\n    d.setUTCHours(0, 0, 0, 0);\n    return d;\n}\nexport var utcDay = new CountableTimeInterval(encode, decode);\nexport default utcDay;\n", "import { CountableTimeInterval } from './interval';\nfunction encode(date) {\n    return date.getUTCFullYear() * 12 + date.getUTCMonth();\n}\nfunction decode(encoded) {\n    var year = Math.floor(encoded / 12);\n    var month = encoded - year * 12;\n    return new Date(Date.UTC(year, month, 1));\n}\nexport var utcMonth = new CountableTimeInterval(encode, decode);\n", "import { CountableTimeInterval } from './interval';\nfunction encode(date) {\n    return date.getUTCFullYear();\n}\nfunction decode(encoded) {\n    // Note: assigning years through the constructor\n    // will break for years 0 - 99 AD (will turn 1900's).\n    var d = new Date();\n    d.setUTCFullYear(encoded);\n    d.setUTCMonth(0, 1);\n    d.setUTCHours(0, 0, 0, 0);\n    return d;\n}\nexport var utcYear = new CountableTimeInterval(encode, decode);\nexport default utcYear;\n", "export { millisecond } from './millisecond';\nexport { second } from './second';\nexport { minute } from './minute';\nexport { hour } from './hour';\nexport { day } from './day';\nexport { sunday, monday, tuesday, wednesday, thursday, friday, saturday } from './week';\nexport { month } from './month';\nexport { year } from './year';\nexport { utcMinute } from './utcMinute';\nexport { utcHour } from './utcHour';\nexport { utcDay } from './utcDay';\nexport { utcMonth } from './utcMonth';\nexport { utcYear } from './utcYear';\n", "var MOBILE = [/Android/i, /webOS/i, /iPhone/i, /iPad/i, /iPod/i, /BlackBerry/i, /Windows Phone/i];\nexport function isDesktop() {\n    var userAgent = navigator.userAgent;\n    if (MOBILE.some(function (r) { return r.test(userAgent); })) {\n        return false;\n    }\n    return true;\n}\n", "import { isDesktop } from '../util/userAgent';\n/**\n * Wraps the native Canvas element and overrides its CanvasRenderingContext2D to\n * provide resolution independent rendering based on `window.devicePixelRatio`.\n */\nvar HdpiCanvas = /** @class */ (function () {\n    // The width/height attributes of the Canvas element default to\n    // 300/150 according to w3.org.\n    function HdpiCanvas(_a) {\n        var _b = _a.document, document = _b === void 0 ? window.document : _b, _c = _a.width, width = _c === void 0 ? 600 : _c, _d = _a.height, height = _d === void 0 ? 300 : _d, _e = _a.domLayer, domLayer = _e === void 0 ? false : _e, _f = _a.zIndex, zIndex = _f === void 0 ? 0 : _f, _g = _a.name, name = _g === void 0 ? undefined : _g, _h = _a.overrideDevicePixelRatio, overrideDevicePixelRatio = _h === void 0 ? undefined : _h;\n        this._container = undefined;\n        this._enabled = true;\n        // `NaN` is deliberate here, so that overrides are always applied\n        // and the `resetTransform` inside the `resize` method works in IE11.\n        this._pixelRatio = NaN;\n        this._width = 0;\n        this._height = 0;\n        this.document = document;\n        // Create canvas and immediately apply width + height to avoid out-of-memory\n        // errors on iOS/iPadOS Safari.\n        this.element = document.createElement('canvas');\n        this.element.width = width;\n        this.element.height = height;\n        this.context = this.element.getContext('2d');\n        this.imageSource = this.context.canvas;\n        var style = this.element.style;\n        style.userSelect = 'none';\n        style.display = 'block';\n        if (domLayer) {\n            style.position = 'absolute';\n            style.zIndex = String(zIndex);\n            style.top = '0';\n            style.left = '0';\n            style.pointerEvents = 'none';\n            style.opacity = \"1\";\n            if (name) {\n                this.element.id = name;\n            }\n        }\n        this.setPixelRatio(overrideDevicePixelRatio);\n        this.resize(width, height);\n    }\n    Object.defineProperty(HdpiCanvas.prototype, \"container\", {\n        get: function () {\n            return this._container;\n        },\n        set: function (value) {\n            if (this._container !== value) {\n                this.remove();\n                if (value) {\n                    value.appendChild(this.element);\n                }\n                this._container = value;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas.prototype, \"enabled\", {\n        get: function () {\n            return this._enabled;\n        },\n        set: function (value) {\n            this.element.style.display = value ? 'block' : 'none';\n            this._enabled = !!value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HdpiCanvas.prototype.remove = function () {\n        var parentNode = this.element.parentNode;\n        if (parentNode != null) {\n            parentNode.removeChild(this.element);\n        }\n    };\n    HdpiCanvas.prototype.destroy = function () {\n        this.element.remove();\n        // Workaround memory allocation quirks in iOS Safari by resizing to 0x0 and clearing.\n        // See https://bugs.webkit.org/show_bug.cgi?id=195325.\n        this.element.width = 0;\n        this.element.height = 0;\n        this.context.clearRect(0, 0, 0, 0);\n        Object.freeze(this);\n    };\n    HdpiCanvas.prototype.snapshot = function () {\n        // No-op for compatibility with HdpiOffscreenCanvas.\n    };\n    HdpiCanvas.prototype.clear = function () {\n        this.context.save();\n        this.context.resetTransform();\n        this.context.clearRect(0, 0, this.width, this.height);\n        this.context.restore();\n    };\n    HdpiCanvas.prototype.toImage = function () {\n        var img = this.document.createElement('img');\n        img.src = this.getDataURL();\n        return img;\n    };\n    HdpiCanvas.prototype.getDataURL = function (type) {\n        return this.element.toDataURL(type);\n    };\n    /**\n     * @param fileName The name of the downloaded file.\n     * @param fileFormat The file format, the default is `image/png`\n     */\n    HdpiCanvas.prototype.download = function (fileName, fileFormat) {\n        if (fileFormat === void 0) { fileFormat = 'image/png'; }\n        fileName = (fileName || '').trim() || 'image';\n        var dataUrl = this.getDataURL(fileFormat);\n        var document = this.document;\n        var a = document.createElement('a');\n        a.href = dataUrl;\n        a.download = fileName;\n        a.style.display = 'none';\n        document.body.appendChild(a); // required for the `click` to work in Firefox\n        a.click();\n        document.body.removeChild(a);\n    };\n    Object.defineProperty(HdpiCanvas.prototype, \"pixelRatio\", {\n        get: function () {\n            return this._pixelRatio;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Changes the pixel ratio of the Canvas element to the given value,\n     * or uses the window.devicePixelRatio (default), then resizes the Canvas\n     * element accordingly (default).\n     */\n    HdpiCanvas.prototype.setPixelRatio = function (ratio) {\n        var pixelRatio = ratio !== null && ratio !== void 0 ? ratio : window.devicePixelRatio;\n        if (!isDesktop()) {\n            // Mobile browsers have stricter memory limits, we reduce rendering resolution to\n            // improve stability on mobile browsers. iOS Safari 12->16 are pain-points since they\n            // have memory allocation quirks - see https://bugs.webkit.org/show_bug.cgi?id=195325.\n            pixelRatio = 1;\n        }\n        HdpiCanvas.overrideScale(this.context, pixelRatio);\n        this._pixelRatio = pixelRatio;\n    };\n    Object.defineProperty(HdpiCanvas.prototype, \"pixelated\", {\n        get: function () {\n            return this.element.style.imageRendering === 'pixelated';\n        },\n        set: function (value) {\n            this.element.style.imageRendering = value ? 'pixelated' : 'auto';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HdpiCanvas.prototype.resize = function (width, height) {\n        if (!(width > 0 && height > 0)) {\n            return;\n        }\n        var _a = this, element = _a.element, context = _a.context, pixelRatio = _a.pixelRatio;\n        element.width = Math.round(width * pixelRatio);\n        element.height = Math.round(height * pixelRatio);\n        element.style.width = width + 'px';\n        element.style.height = height + 'px';\n        context.resetTransform();\n        this._width = width;\n        this._height = height;\n    };\n    Object.defineProperty(HdpiCanvas, \"textMeasuringContext\", {\n        get: function () {\n            if (this._textMeasuringContext) {\n                return this._textMeasuringContext;\n            }\n            var canvas = document.createElement('canvas');\n            this._textMeasuringContext = canvas.getContext('2d');\n            return this._textMeasuringContext;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas, \"svgText\", {\n        get: function () {\n            if (this._svgText) {\n                return this._svgText;\n            }\n            var xmlns = 'http://www.w3.org/2000/svg';\n            var svg = document.createElementNS(xmlns, 'svg');\n            svg.setAttribute('width', '100');\n            svg.setAttribute('height', '100');\n            // Add a descriptive class name in case someone sees this SVG element\n            // in devtools and wonders about its purpose:\n            if (svg.classList) {\n                svg.classList.add('text-measuring-svg');\n            }\n            else {\n                svg.setAttribute('class', 'text-measuring-svg');\n            }\n            svg.style.position = 'absolute';\n            svg.style.top = '-1000px';\n            svg.style.visibility = 'hidden';\n            var svgText = document.createElementNS(xmlns, 'text');\n            svgText.setAttribute('x', '0');\n            svgText.setAttribute('y', '30');\n            svgText.setAttribute('text', 'black');\n            svg.appendChild(svgText);\n            document.body.appendChild(svg);\n            this._svgText = svgText;\n            return svgText;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HdpiCanvas, \"has\", {\n        get: function () {\n            if (this._has) {\n                return this._has;\n            }\n            var isChrome = navigator.userAgent.indexOf('Chrome') > -1;\n            var isFirefox = navigator.userAgent.indexOf('Firefox') > -1;\n            var isSafari = !isChrome && navigator.userAgent.indexOf('Safari') > -1;\n            this._has = Object.freeze({\n                textMetrics: this.textMeasuringContext.measureText('test').actualBoundingBoxDescent !== undefined &&\n                    // Firefox implemented advanced TextMetrics object in v74:\n                    // https://bugzilla.mozilla.org/show_bug.cgi?id=1102584\n                    // but it's buggy, so we'll keep using the SVG for text measurement in Firefox for now.\n                    !isFirefox &&\n                    !isSafari,\n                getTransform: this.textMeasuringContext.getTransform !== undefined,\n            });\n            return this._has;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HdpiCanvas.measureText = function (text, font, textBaseline, textAlign) {\n        var ctx = this.textMeasuringContext;\n        ctx.font = font;\n        ctx.textBaseline = textBaseline;\n        ctx.textAlign = textAlign;\n        return ctx.measureText(text);\n    };\n    /**\n     * Returns the width and height of the measured text.\n     * @param text The single-line text to measure.\n     * @param font The font shorthand string.\n     */\n    HdpiCanvas.getTextSize = function (text, font) {\n        if (this.has.textMetrics) {\n            var ctx = this.textMeasuringContext;\n            ctx.font = font;\n            var metrics = ctx.measureText(text);\n            return {\n                width: metrics.width,\n                height: metrics.actualBoundingBoxAscent + metrics.actualBoundingBoxDescent,\n            };\n        }\n        else {\n            return this.measureSvgText(text, font);\n        }\n    };\n    HdpiCanvas.measureSvgText = function (text, font) {\n        var cache = this.textSizeCache;\n        var fontCache = cache[font];\n        // Note: consider not caching the size of numeric strings.\n        // For example: if (isNaN(+text)) { // skip\n        if (fontCache) {\n            var size_1 = fontCache[text];\n            if (size_1) {\n                return size_1;\n            }\n        }\n        else {\n            cache[font] = {};\n        }\n        var svgText = this.svgText;\n        svgText.style.font = font;\n        svgText.textContent = text;\n        // `getBBox` returns an instance of `SVGRect` with the same `width` and `height`\n        // measurements as `DOMRect` instance returned by the `getBoundingClientRect`.\n        // But the `SVGRect` instance has half the properties of the `DOMRect`,\n        // so we use the `getBBox` method.\n        var bbox = svgText.getBBox();\n        var size = {\n            width: bbox.width,\n            height: bbox.height,\n        };\n        cache[font][text] = size;\n        return size;\n    };\n    HdpiCanvas.overrideScale = function (ctx, scale) {\n        var depth = 0;\n        var overrides = {\n            save: function () {\n                this.$save();\n                depth++;\n            },\n            restore: function () {\n                if (depth > 0) {\n                    this.$restore();\n                    depth--;\n                }\n                else {\n                    throw new Error('AG Charts - Unable to restore() past depth 0');\n                }\n            },\n            setTransform: function (a, b, c, d, e, f) {\n                if (typeof a === 'object') {\n                    this.$setTransform(a);\n                }\n                else {\n                    this.$setTransform(a * scale, b * scale, c * scale, d * scale, e * scale, f * scale);\n                }\n            },\n            resetTransform: function () {\n                // As of Jan 8, 2019, `resetTransform` is still an \"experimental technology\",\n                // and doesn't work in IE11 and Edge 44.\n                this.$setTransform(scale, 0, 0, scale, 0, 0);\n            },\n            verifyDepthZero: function () {\n                if (depth !== 0) {\n                    throw new Error('AG Charts - Save/restore depth is non-zero: ' + depth);\n                }\n            },\n        };\n        for (var name_1 in overrides) {\n            if (Object.prototype.hasOwnProperty.call(overrides, name_1)) {\n                // Save native methods under prefixed names,\n                // if this hasn't been done by the previous overrides already.\n                if (!ctx['$' + name_1]) {\n                    ctx['$' + name_1] = ctx[name_1];\n                }\n                // Replace native methods with overrides,\n                // or previous overrides with the new ones.\n                ctx[name_1] = overrides[name_1];\n            }\n        }\n    };\n    HdpiCanvas.textSizeCache = {};\n    return HdpiCanvas;\n}());\nexport { HdpiCanvas };\n", "// For small data structs like a bounding box, objects are superior to arrays\n// in terms of performance (by 3-4% in Chrome 71, Safari 12 and by 20% in Firefox 64).\n// They are also self descriptive and harder to abuse.\n// For example, one has to do:\n// `ctx.strokeRect(bbox.x, bbox.y, bbox.width, bbox.height);`\n// rather than become enticed by the much slower:\n// `ctx.strokeRect(...bbox);`\n// https://jsperf.com/array-vs-object-create-access\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar BBox = /** @class */ (function () {\n    function BBox(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n    }\n    BBox.prototype.clone = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        return new BBox(x, y, width, height);\n    };\n    BBox.prototype.equals = function (other) {\n        return this.x === other.x && this.y === other.y && this.width === other.width && this.height === other.height;\n    };\n    BBox.prototype.containsPoint = function (x, y) {\n        return x >= this.x && x <= this.x + this.width && y >= this.y && y <= this.y + this.height;\n    };\n    BBox.prototype.collidesBBox = function (other) {\n        return (this.x < other.x + other.width &&\n            this.x + this.width > other.x &&\n            this.y < other.y + other.height &&\n            this.y + this.height > other.y);\n    };\n    BBox.prototype.isInfinite = function () {\n        return (Math.abs(this.x) === Infinity ||\n            Math.abs(this.y) === Infinity ||\n            Math.abs(this.width) === Infinity ||\n            Math.abs(this.height) === Infinity);\n    };\n    BBox.prototype.shrink = function (amount, position) {\n        var _this = this;\n        var apply = function (pos, amt) {\n            switch (pos) {\n                case 'top':\n                    _this.y += amt;\n                // eslint-disable-next-line no-fallthrough\n                case 'bottom':\n                    _this.height -= amt;\n                    break;\n                case 'left':\n                    _this.x += amt;\n                // eslint-disable-next-line no-fallthrough\n                case 'right':\n                    _this.width -= amt;\n                    break;\n                case 'vertical':\n                    _this.y += amt;\n                    _this.height -= amt * 2;\n                    break;\n                case 'horizontal':\n                    _this.x += amt;\n                    _this.width -= amt * 2;\n                    break;\n                default:\n                    _this.x += amt;\n                    _this.width -= amt * 2;\n                    _this.y += amt;\n                    _this.height -= amt * 2;\n            }\n        };\n        if (typeof amount === 'number') {\n            apply(position, amount);\n        }\n        else {\n            Object.entries(amount).forEach(function (_a) {\n                var _b = __read(_a, 2), pos = _b[0], amt = _b[1];\n                return apply(pos, amt);\n            });\n        }\n        return this;\n    };\n    BBox.prototype.grow = function (amount, position) {\n        if (typeof amount === 'number') {\n            this.shrink(-amount, position);\n        }\n        else {\n            var paddingCopy = __assign({}, amount);\n            for (var key in paddingCopy) {\n                paddingCopy[key] *= -1;\n            }\n            this.shrink(paddingCopy);\n        }\n        return this;\n    };\n    BBox.merge = function (boxes) {\n        var left = Infinity;\n        var top = Infinity;\n        var right = -Infinity;\n        var bottom = -Infinity;\n        boxes.forEach(function (box) {\n            if (box.x < left) {\n                left = box.x;\n            }\n            if (box.y < top) {\n                top = box.y;\n            }\n            if (box.x + box.width > right) {\n                right = box.x + box.width;\n            }\n            if (box.y + box.height > bottom) {\n                bottom = box.y + box.height;\n            }\n        });\n        return new BBox(left, top, right - left, bottom - top);\n    };\n    return BBox;\n}());\nexport { BBox };\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { BBox } from './bbox';\n/**\n * As of Jan 8, 2019, Firefox still doesn't implement\n * `getTransform(): DOMMatrix;`\n * `setTransform(transform?: DOMMatrix2DInit)`\n * in the `CanvasRenderingContext2D`.\n * Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=928150\n * IE11 and Edge 44 also don't have the support.\n * Thus this class, to keep track of the current transform and\n * combine transformations.\n * Standards:\n * https://html.spec.whatwg.org/dev/canvas.html\n * https://www.w3.org/TR/geometry-1/\n */\nvar Matrix = /** @class */ (function () {\n    function Matrix(elements) {\n        if (elements === void 0) { elements = [1, 0, 0, 1, 0, 0]; }\n        this.elements = elements;\n    }\n    Matrix.prototype.setElements = function (elements) {\n        var e = this.elements;\n        // `this.elements = elements.slice()` is 4-5 times slower\n        // (in Chrome 71 and FF 64) than manually copying elements,\n        // since slicing allocates new memory.\n        // The performance of passing parameters individually\n        // vs as an array is about the same in both browsers, so we\n        // go with a single (array of elements) parameter, because\n        // `setElements(elements)` and `setElements([a, b, c, d, e, f])`\n        // calls give us roughly the same performance, versus\n        // `setElements(...elements)` and `setElements(a, b, c, d, e, f)`,\n        // where the spread operator causes a 20-30x performance drop\n        // (30x when compiled to ES5's `.apply(this, elements)`\n        //  20x when used natively).\n        e[0] = elements[0];\n        e[1] = elements[1];\n        e[2] = elements[2];\n        e[3] = elements[3];\n        e[4] = elements[4];\n        e[5] = elements[5];\n        return this;\n    };\n    Object.defineProperty(Matrix.prototype, \"identity\", {\n        get: function () {\n            var e = this.elements;\n            return e[0] === 1 && e[1] === 0 && e[2] === 0 && e[3] === 1 && e[4] === 0 && e[5] === 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"a\", {\n        get: function () {\n            return this.elements[0];\n        },\n        set: function (value) {\n            this.elements[0] = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"b\", {\n        get: function () {\n            return this.elements[1];\n        },\n        set: function (value) {\n            this.elements[1] = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"c\", {\n        get: function () {\n            return this.elements[2];\n        },\n        set: function (value) {\n            this.elements[2] = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"d\", {\n        get: function () {\n            return this.elements[3];\n        },\n        set: function (value) {\n            this.elements[3] = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"e\", {\n        get: function () {\n            return this.elements[4];\n        },\n        set: function (value) {\n            this.elements[4] = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Matrix.prototype, \"f\", {\n        get: function () {\n            return this.elements[5];\n        },\n        set: function (value) {\n            this.elements[5] = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Performs the AxB matrix multiplication and saves the result\n     * to `C`, if given, or to `A` otherwise.\n     */\n    Matrix.prototype.AxB = function (A, B, C) {\n        var a = A[0] * B[0] + A[2] * B[1], b = A[1] * B[0] + A[3] * B[1], c = A[0] * B[2] + A[2] * B[3], d = A[1] * B[2] + A[3] * B[3], e = A[0] * B[4] + A[2] * B[5] + A[4], f = A[1] * B[4] + A[3] * B[5] + A[5];\n        C = C || A;\n        C[0] = a;\n        C[1] = b;\n        C[2] = c;\n        C[3] = d;\n        C[4] = e;\n        C[5] = f;\n    };\n    /**\n     * The `other` matrix gets post-multiplied to the current matrix.\n     * Returns the current matrix.\n     * @param other\n     */\n    Matrix.prototype.multiplySelf = function (other) {\n        this.AxB(this.elements, other.elements);\n        return this;\n    };\n    /**\n     * The `other` matrix gets post-multiplied to the current matrix.\n     * Returns a new matrix.\n     * @param other\n     */\n    Matrix.prototype.multiply = function (other) {\n        var elements = new Array(6);\n        this.AxB(this.elements, other.elements, elements);\n        return new Matrix(elements);\n    };\n    Matrix.prototype.preMultiplySelf = function (other) {\n        this.AxB(other.elements, this.elements, this.elements);\n        return this;\n    };\n    /**\n     * Returns the inverse of this matrix as a new matrix.\n     */\n    Matrix.prototype.inverse = function () {\n        var el = this.elements;\n        var a = el[0], b = el[1], c = el[2], d = el[3];\n        var e = el[4], f = el[5];\n        var rD = 1 / (a * d - b * c); // reciprocal of determinant\n        a *= rD;\n        b *= rD;\n        c *= rD;\n        d *= rD;\n        return new Matrix([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n    };\n    /**\n     * Save the inverse of this matrix to the given matrix.\n     */\n    Matrix.prototype.inverseTo = function (other) {\n        var el = this.elements;\n        var a = el[0], b = el[1], c = el[2], d = el[3];\n        var e = el[4], f = el[5];\n        var rD = 1 / (a * d - b * c); // reciprocal of determinant\n        a *= rD;\n        b *= rD;\n        c *= rD;\n        d *= rD;\n        other.setElements([d, -b, -c, a, c * f - d * e, b * e - a * f]);\n        return this;\n    };\n    Matrix.prototype.invertSelf = function () {\n        var el = this.elements;\n        var a = el[0], b = el[1], c = el[2], d = el[3];\n        var e = el[4], f = el[5];\n        var rD = 1 / (a * d - b * c); // reciprocal of determinant\n        a *= rD;\n        b *= rD;\n        c *= rD;\n        d *= rD;\n        el[0] = d;\n        el[1] = -b;\n        el[2] = -c;\n        el[3] = a;\n        el[4] = c * f - d * e;\n        el[5] = b * e - a * f;\n        return this;\n    };\n    Matrix.prototype.transformPoint = function (x, y) {\n        var e = this.elements;\n        return {\n            x: x * e[0] + y * e[2] + e[4],\n            y: x * e[1] + y * e[3] + e[5],\n        };\n    };\n    Matrix.prototype.transformBBox = function (bbox, target) {\n        var elements = this.elements;\n        var xx = elements[0];\n        var xy = elements[1];\n        var yx = elements[2];\n        var yy = elements[3];\n        var h_w = bbox.width * 0.5;\n        var h_h = bbox.height * 0.5;\n        var cx = bbox.x + h_w;\n        var cy = bbox.y + h_h;\n        var w = Math.abs(h_w * xx) + Math.abs(h_h * yx);\n        var h = Math.abs(h_w * xy) + Math.abs(h_h * yy);\n        if (!target) {\n            target = new BBox(0, 0, 0, 0);\n        }\n        target.x = cx * xx + cy * yx + elements[4] - w;\n        target.y = cx * xy + cy * yy + elements[5] - h;\n        target.width = w + w;\n        target.height = h + h;\n        return target;\n    };\n    Matrix.prototype.toContext = function (ctx) {\n        // It's fair to say that matrix multiplications are not cheap.\n        // However, updating path definitions on every frame isn't either, so\n        // it may be cheaper to just translate paths. It's also fair to\n        // say, that most paths will have to be re-rendered anyway, say\n        // rectangle paths in a bar chart, where an animation would happen when\n        // the data set changes and existing bars are morphed into new ones.\n        // Or a pie chart, where old sectors are also morphed into new ones.\n        // Same for the line chart. The only plausible case where translating\n        // existing paths would be enough, is the scatter chart, where marker\n        // icons, typically circles, stay the same size. But if circle radii\n        // are bound to some data points, even circle paths would have to be\n        // updated. And thus it makes sense to optimize for fewer matrix\n        // transforms, where transform matrices of paths are mostly identity\n        // matrices and `x`/`y`, `centerX`/`centerY` and similar properties\n        // are used to define a path at specific coordinates. And only groups\n        // are used to collectively apply a transform to a set of nodes.\n        // If the matrix is mostly identity (95% of the time),\n        // the `if (this.isIdentity)` check can make this call 3-4 times\n        // faster on average: https://jsperf.com/matrix-check-first-vs-always-set\n        if (this.identity) {\n            return;\n        }\n        var e = this.elements;\n        ctx.transform(e[0], e[1], e[2], e[3], e[4], e[5]);\n    };\n    Matrix.flyweight = function (sourceMatrix) {\n        return Matrix.instance.setElements(sourceMatrix.elements);\n    };\n    Matrix.updateTransformMatrix = function (matrix, scalingX, scalingY, rotation, translationX, translationY, opts) {\n        // Assume that centers of scaling and rotation are at the origin.\n        var _a = __read([0, 0], 2), bbcx = _a[0], bbcy = _a[1];\n        var sx = scalingX;\n        var sy = scalingY;\n        var scx;\n        var scy;\n        if (sx === 1 && sy === 1) {\n            scx = 0;\n            scy = 0;\n        }\n        else {\n            scx = (opts === null || opts === void 0 ? void 0 : opts.scalingCenterX) == null ? bbcx : opts === null || opts === void 0 ? void 0 : opts.scalingCenterX;\n            scy = (opts === null || opts === void 0 ? void 0 : opts.scalingCenterY) == null ? bbcy : opts === null || opts === void 0 ? void 0 : opts.scalingCenterY;\n        }\n        var r = rotation;\n        var cos = Math.cos(r);\n        var sin = Math.sin(r);\n        var rcx;\n        var rcy;\n        if (r === 0) {\n            rcx = 0;\n            rcy = 0;\n        }\n        else {\n            rcx = (opts === null || opts === void 0 ? void 0 : opts.rotationCenterX) == null ? bbcx : opts === null || opts === void 0 ? void 0 : opts.rotationCenterX;\n            rcy = (opts === null || opts === void 0 ? void 0 : opts.rotationCenterY) == null ? bbcy : opts === null || opts === void 0 ? void 0 : opts.rotationCenterY;\n        }\n        var tx = translationX;\n        var ty = translationY;\n        // The transform matrix `M` is a result of the following transformations:\n        // 1) translate the center of scaling to the origin\n        // 2) scale\n        // 3) translate back\n        // 4) translate the center of rotation to the origin\n        // 5) rotate\n        // 6) translate back\n        // 7) translate\n        //         (7)          (6)             (5)             (4)           (3)           (2)           (1)\n        //     | 1 0 tx |   | 1 0 rcx |   | cos -sin 0 |   | 1 0 -rcx |   | 1 0 scx |   | sx 0 0 |   | 1 0 -scx |\n        // M = | 0 1 ty | * | 0 1 rcy | * | sin  cos 0 | * | 0 1 -rcy | * | 0 1 scy | * | 0 sy 0 | * | 0 1 -scy |\n        //     | 0 0  1 |   | 0 0  1  |   |  0    0  1 |   | 0 0  1   |   | 0 0  1  |   | 0  0 0 |   | 0 0  1   |\n        // Translation after steps 1-4 above:\n        var tx4 = scx * (1 - sx) - rcx;\n        var ty4 = scy * (1 - sy) - rcy;\n        matrix.setElements([\n            cos * sx,\n            sin * sx,\n            -sin * sy,\n            cos * sy,\n            cos * tx4 - sin * ty4 + rcx + tx,\n            sin * tx4 + cos * ty4 + rcy + ty,\n        ]);\n        return matrix;\n    };\n    Matrix.fromContext = function (ctx) {\n        var domMatrix = ctx.getTransform();\n        return new Matrix([domMatrix.a, domMatrix.b, domMatrix.c, domMatrix.d, domMatrix.e, domMatrix.f]);\n    };\n    Matrix.instance = new Matrix();\n    return Matrix;\n}());\nexport { Matrix };\n", "var ID_MAP = {};\nexport function resetIds() {\n    for (var key in ID_MAP) {\n        delete ID_MAP[key];\n    }\n}\nexport function createId(instance) {\n    var _a;\n    var constructor = instance.constructor;\n    var className = Object.prototype.hasOwnProperty.call(constructor, 'className')\n        ? constructor.className\n        : constructor.name;\n    if (!className) {\n        throw new Error(\"The \" + constructor + \" is missing the 'className' property.\");\n    }\n    var nextId = ((_a = ID_MAP[className]) !== null && _a !== void 0 ? _a : 0) + 1;\n    ID_MAP[className] = nextId;\n    return className + '-' + nextId;\n}\n", "export function windowValue(name) {\n    /**\n     * Redeclaration of window that is safe for use with Gatsby server-side (webpack) compilation.\n     */\n    var WINDOW = typeof window !== 'undefined'\n        ? window\n        : // typeof global !== 'undefined' ? (global as any) :\n            undefined;\n    return WINDOW === null || WINDOW === void 0 ? void 0 : WINDOW[name];\n}\n", "import { windowValue } from '../util/window';\nexport var RedrawType;\n(function (RedrawType) {\n    RedrawType[RedrawType[\"NONE\"] = 0] = \"NONE\";\n    // Canvas doesn't need clearing, an incremental re-rerender is sufficient.\n    RedrawType[RedrawType[\"TRIVIAL\"] = 1] = \"TRIVIAL\";\n    // Group needs clearing, a semi-incremental re-render is sufficient.\n    RedrawType[RedrawType[\"MINOR\"] = 2] = \"MINOR\";\n    // Canvas needs to be cleared for these redraw types.\n    RedrawType[RedrawType[\"MAJOR\"] = 3] = \"MAJOR\";\n})(RedrawType || (RedrawType = {}));\n/** @returns true if eval() is disabled in the current execution context. */\nfunction evalAvailable() {\n    try {\n        eval('');\n        return true;\n    }\n    catch (e) {\n        return false;\n    }\n}\nvar EVAL_USEABLE = evalAvailable();\nexport function SceneChangeDetection(opts) {\n    var _a = opts || {}, _b = _a.redraw, redraw = _b === void 0 ? RedrawType.TRIVIAL : _b, _c = _a.type, type = _c === void 0 ? 'normal' : _c, changeCb = _a.changeCb, convertor = _a.convertor, _d = _a.checkDirtyOnAssignment, checkDirtyOnAssignment = _d === void 0 ? false : _d;\n    var debug = windowValue('agChartsSceneChangeDetectionDebug') != null;\n    return function (target, key) {\n        // `target` is either a constructor (static member) or prototype (instance member)\n        var privateKey = \"__\" + key;\n        if (target[key]) {\n            return;\n        }\n        if (EVAL_USEABLE) {\n            // Optimised code-path.\n            // Remove all conditional logic from runtime - generate a setter with the exact necessary\n            // steps, as these setters are called a LOT during update cycles.\n            var setterJs = \"\\n                \" + (debug ? 'var setCount = 0;' : '') + \"\\n                function set_\" + key + \"(value) {\\n                    const oldValue = this.\" + privateKey + \";\\n                    \" + (convertor ? 'value = convertor(value);' : '') + \"\\n                    if (value !== oldValue) {\\n                        this.\" + privateKey + \" = value;\\n                        \" + (debug\n                ? \"console.log({ t: this, property: '\" + key + \"', oldValue, value, stack: new Error().stack });\"\n                : '') + \"\\n                        \" + (type === 'normal' ? \"this.markDirty(this, \" + redraw + \");\" : '') + \"\\n                        \" + (type === 'transform' ? \"this.markDirtyTransform(\" + redraw + \");\" : '') + \"\\n                        \" + (type === 'path'\n                ? \"if (!this._dirtyPath) { this._dirtyPath = true; this.markDirty(this, \" + redraw + \"); }\"\n                : '') + \"\\n                        \" + (type === 'font'\n                ? \"if (!this._dirtyFont) { this._dirtyFont = true; this.markDirty(this, \" + redraw + \"); }\"\n                : '') + \"\\n                        \" + (changeCb ? 'changeCb(this);' : '') + \"\\n                    }\\n                    \" + (checkDirtyOnAssignment\n                ? \"if (value != null && value._dirty > \" + RedrawType.NONE + \") { this.markDirty(value, value._dirty); }\"\n                : '') + \"\\n                };\\n                set_\" + key + \";\\n            \";\n            var getterJs = \"\\n                function get_\" + key + \"() {\\n                    return this.\" + privateKey + \";\\n                };\\n                get_\" + key + \";\\n            \";\n            Object.defineProperty(target, key, {\n                set: eval(setterJs),\n                get: eval(getterJs),\n                enumerable: true,\n                configurable: true,\n            });\n        }\n        else {\n            // Unoptimised but 'safe' code-path, for environments with CSP headers and no 'unsafe-eval'.\n            // We deliberately do not support debug branches found in the optimised path above, since\n            // for large data-set series performance deteriorates with every extra branch here.\n            var setter = function (value) {\n                var oldValue = this[privateKey];\n                value = convertor ? convertor(value) : value;\n                if (value !== oldValue) {\n                    this[privateKey] = value;\n                    if (type === 'normal')\n                        this.markDirty(this, redraw);\n                    if (type === 'transform')\n                        this.markDirtyTransform(redraw);\n                    if (type === 'path' && !this._dirtyPath) {\n                        this._dirtyPath = true;\n                        this.markDirty(this, redraw);\n                    }\n                    if (type === 'font' && !this._dirtyFont) {\n                        this._dirtyFont = true;\n                        this.markDirty(this, redraw);\n                    }\n                    if (changeCb)\n                        changeCb(this);\n                }\n                if (checkDirtyOnAssignment && value != null && value._dirty > RedrawType.NONE)\n                    this.markDirty(value, value._dirty);\n            };\n            var getter = function () {\n                return this[privateKey];\n            };\n            Object.defineProperty(target, key, {\n                set: setter,\n                get: getter,\n                enumerable: true,\n                configurable: true,\n            });\n        }\n    };\n}\nvar ChangeDetectable = /** @class */ (function () {\n    function ChangeDetectable() {\n        this._dirty = RedrawType.MAJOR;\n    }\n    ChangeDetectable.prototype.markDirty = function (_source, type) {\n        if (type === void 0) { type = RedrawType.TRIVIAL; }\n        if (this._dirty > type) {\n            return;\n        }\n        this._dirty = type;\n    };\n    ChangeDetectable.prototype.markClean = function (_opts) {\n        this._dirty = RedrawType.NONE;\n    };\n    ChangeDetectable.prototype.isDirty = function () {\n        return this._dirty > RedrawType.NONE;\n    };\n    return ChangeDetectable;\n}());\nexport { ChangeDetectable };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { Matrix } from './matrix';\nimport { createId } from '../util/id';\nimport { ChangeDetectable, SceneChangeDetection, RedrawType } from './changeDetectable';\nexport { SceneChangeDetection, RedrawType };\nexport var PointerEvents;\n(function (PointerEvents) {\n    PointerEvents[PointerEvents[\"All\"] = 0] = \"All\";\n    PointerEvents[PointerEvents[\"None\"] = 1] = \"None\";\n})(PointerEvents || (PointerEvents = {}));\nvar zIndexChangedCallback = function (o) {\n    if (o.parent) {\n        o.parent.dirtyZIndex = true;\n    }\n    o.zIndexChanged();\n};\n/**\n * Abstract scene graph node.\n * Each node can have zero or one parent and belong to zero or one scene.\n */\nvar Node = /** @class */ (function (_super) {\n    __extends(Node, _super);\n    function Node() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** Unique number to allow creation order to be easily determined. */\n        _this.serialNumber = Node._nextSerialNumber++;\n        /**\n         * Unique node ID in the form `ClassName-NaturalNumber`.\n         */\n        _this.id = createId(_this);\n        /**\n         * Some number to identify this node, typically within a `Group` node.\n         * Usually this will be some enum value used as a selector.\n         */\n        _this.tag = NaN;\n        /**\n         * To simplify the type system (especially in Selections) we don't have the `Parent` node\n         * (one that has children). Instead, we mimic HTML DOM, where any node can have children.\n         * But we still need to distinguish regular leaf nodes from container leafs somehow.\n         */\n        _this.isContainerNode = false;\n        _this._children = [];\n        // Used to check for duplicate nodes.\n        _this.childSet = {}; // new Set<Node>()\n        // These matrices may need to have package level visibility\n        // for performance optimization purposes.\n        _this.matrix = new Matrix();\n        _this.inverseMatrix = new Matrix();\n        _this._dirtyTransform = false;\n        _this.scalingX = 1;\n        _this.scalingY = 1;\n        /**\n         * The center of scaling.\n         * The default value of `null` means the scaling center will be\n         * determined automatically, as the center of the bounding box\n         * of a node.\n         */\n        _this.scalingCenterX = null;\n        _this.scalingCenterY = null;\n        _this.rotationCenterX = null;\n        _this.rotationCenterY = null;\n        /**\n         * Rotation angle in radians.\n         * The value is set as is. No normalization to the [-180, 180) or [0, 360)\n         * interval is performed.\n         */\n        _this.rotation = 0;\n        _this.translationX = 0;\n        _this.translationY = 0;\n        _this.visible = true;\n        _this.dirtyZIndex = false;\n        _this.zIndex = 0;\n        /** Discriminators for render order within a zIndex. */\n        _this.zIndexSubOrder = undefined;\n        _this.pointerEvents = PointerEvents.All;\n        return _this;\n    }\n    Object.defineProperty(Node.prototype, \"datum\", {\n        /**\n         * Some arbitrary data bound to the node.\n         */\n        get: function () {\n            var _a;\n            if (this._datum !== undefined) {\n                return this._datum;\n            }\n            return (_a = this._parent) === null || _a === void 0 ? void 0 : _a.datum;\n        },\n        set: function (datum) {\n            this._datum = datum;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Node.prototype._setLayerManager = function (value) {\n        var e_1, _a;\n        this._layerManager = value;\n        this._debug = value === null || value === void 0 ? void 0 : value.debug;\n        try {\n            for (var _b = __values(this.children), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var child = _c.value;\n                child._setLayerManager(value);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    Object.defineProperty(Node.prototype, \"layerManager\", {\n        get: function () {\n            return this._layerManager;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"parent\", {\n        get: function () {\n            return this._parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"children\", {\n        get: function () {\n            return this._children;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Appends one or more new node instances to this parent.\n     * If one needs to:\n     * - move a child to the end of the list of children\n     * - move a child from one parent to another (including parents in other scenes)\n     * one should use the {@link insertBefore} method instead.\n     * @param nodes A node or nodes to append.\n     */\n    Node.prototype.append = function (nodes) {\n        var e_2, _a;\n        // Passing a single parameter to an open-ended version of `append`\n        // would be 30-35% slower than this.\n        if (!Array.isArray(nodes)) {\n            nodes = [nodes];\n        }\n        try {\n            for (var nodes_1 = __values(nodes), nodes_1_1 = nodes_1.next(); !nodes_1_1.done; nodes_1_1 = nodes_1.next()) {\n                var node = nodes_1_1.value;\n                if (node.parent) {\n                    throw new Error(node + \" already belongs to another parent: \" + node.parent + \".\");\n                }\n                if (node.layerManager) {\n                    throw new Error(node + \" already belongs to a scene: \" + node.layerManager + \".\");\n                }\n                if (this.childSet[node.id]) {\n                    // Cast to `any` to avoid `Property 'name' does not exist on type 'Function'`.\n                    throw new Error(\"Duplicate \" + node.constructor.name + \" node: \" + node);\n                }\n                this._children.push(node);\n                this.childSet[node.id] = true;\n                node._parent = this;\n                node._setLayerManager(this.layerManager);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (nodes_1_1 && !nodes_1_1.done && (_a = nodes_1.return)) _a.call(nodes_1);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        this.dirtyZIndex = true;\n        this.markDirty(this, RedrawType.MAJOR);\n    };\n    Node.prototype.appendChild = function (node) {\n        this.append(node);\n        return node;\n    };\n    Node.prototype.removeChild = function (node) {\n        if (node.parent === this) {\n            var i = this.children.indexOf(node);\n            if (i >= 0) {\n                this._children.splice(i, 1);\n                delete this.childSet[node.id];\n                node._parent = undefined;\n                node._setLayerManager();\n                this.dirtyZIndex = true;\n                this.markDirty(node, RedrawType.MAJOR);\n                return node;\n            }\n        }\n        throw new Error(\"The node to be removed is not a child of this node.\");\n    };\n    /**\n     * Inserts the node `node` before the existing child node `nextNode`.\n     * If `nextNode` is null, insert `node` at the end of the list of children.\n     * If the `node` belongs to another parent, it is first removed.\n     * Returns the `node`.\n     * @param node\n     * @param nextNode\n     */\n    Node.prototype.insertBefore = function (node, nextNode) {\n        var parent = node.parent;\n        if (node.parent) {\n            node.parent.removeChild(node);\n        }\n        if (nextNode && nextNode.parent === this) {\n            var i = this.children.indexOf(nextNode);\n            if (i >= 0) {\n                this._children.splice(i, 0, node);\n                this.childSet[node.id] = true;\n                node._parent = this;\n                node._setLayerManager(this.layerManager);\n            }\n            else {\n                throw new Error(nextNode + \" has \" + parent + \" as the parent, \" + \"but is not in its list of children.\");\n            }\n            this.dirtyZIndex = true;\n            this.markDirty(node, RedrawType.MAJOR);\n        }\n        else {\n            this.append(node);\n        }\n        return node;\n    };\n    Node.prototype.calculateCumulativeMatrix = function () {\n        this.computeTransformMatrix();\n        var matrix = Matrix.flyweight(this.matrix);\n        var parent = this.parent;\n        while (parent) {\n            parent.computeTransformMatrix();\n            matrix.preMultiplySelf(parent.matrix);\n            parent = parent.parent;\n        }\n        return matrix;\n    };\n    Node.prototype.transformPoint = function (x, y) {\n        var matrix = this.calculateCumulativeMatrix();\n        return matrix.invertSelf().transformPoint(x, y);\n    };\n    Node.prototype.inverseTransformPoint = function (x, y) {\n        var matrix = this.calculateCumulativeMatrix();\n        return matrix.transformPoint(x, y);\n    };\n    Node.prototype.transformBBox = function (bbox) {\n        var matrix = this.calculateCumulativeMatrix();\n        return matrix.invertSelf().transformBBox(bbox);\n    };\n    Node.prototype.inverseTransformBBox = function (bbox) {\n        var matrix = this.calculateCumulativeMatrix();\n        return matrix.transformBBox(bbox);\n    };\n    Node.prototype.markDirtyTransform = function () {\n        this._dirtyTransform = true;\n        this.markDirty(this, RedrawType.MAJOR);\n    };\n    Node.prototype.containsPoint = function (_x, _y) {\n        return false;\n    };\n    /**\n     * Hit testing method.\n     * Recursively checks if the given point is inside this node or any of its children.\n     * Returns the first matching node or `undefined`.\n     * Nodes that render later (show on top) are hit tested first.\n     */\n    Node.prototype.pickNode = function (x, y) {\n        var _a;\n        if (!this.visible || this.pointerEvents === PointerEvents.None || !this.containsPoint(x, y)) {\n            return;\n        }\n        var children = this.children;\n        if (children.length > 1000) {\n            // Try to optimise which children to interrogate; BBox calculation is an approximation\n            // for more complex shapes, so discarding items based on this will save a lot of\n            // processing when the point is nowhere near the child.\n            for (var i = children.length - 1; i >= 0; i--) {\n                var hit = ((_a = children[i].computeBBox()) === null || _a === void 0 ? void 0 : _a.containsPoint(x, y)) ? children[i].pickNode(x, y) : undefined;\n                if (hit) {\n                    return hit;\n                }\n            }\n        }\n        else if (children.length) {\n            // Nodes added later should be hit-tested first,\n            // as they are rendered on top of the previously added nodes.\n            for (var i = children.length - 1; i >= 0; i--) {\n                var hit = children[i].pickNode(x, y);\n                if (hit) {\n                    return hit;\n                }\n            }\n        }\n        else if (!this.isContainerNode) {\n            // a leaf node, but not a container leaf\n            return this;\n        }\n    };\n    Node.prototype.findNodes = function (predicate) {\n        var e_3, _a;\n        var result = predicate(this) ? [this] : [];\n        try {\n            for (var _b = __values(this.children), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var child = _c.value;\n                var childResult = child.findNodes(predicate);\n                if (childResult) {\n                    result.push.apply(result, __spread(childResult));\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return result;\n    };\n    Node.prototype.computeBBox = function () {\n        return;\n    };\n    Node.prototype.computeTransformedBBox = function () {\n        var bbox = this.computeBBox();\n        if (!bbox) {\n            return undefined;\n        }\n        this.computeTransformMatrix();\n        var matrix = Matrix.flyweight(this.matrix);\n        var parent = this.parent;\n        while (parent) {\n            parent.computeTransformMatrix();\n            matrix.preMultiplySelf(parent.matrix);\n            parent = parent.parent;\n        }\n        matrix.transformBBox(bbox, bbox);\n        return bbox;\n    };\n    Node.prototype.computeTransformMatrix = function () {\n        if (!this._dirtyTransform) {\n            return;\n        }\n        var _a = this, matrix = _a.matrix, scalingX = _a.scalingX, scalingY = _a.scalingY, rotation = _a.rotation, translationX = _a.translationX, translationY = _a.translationY, scalingCenterX = _a.scalingCenterX, scalingCenterY = _a.scalingCenterY, rotationCenterX = _a.rotationCenterX, rotationCenterY = _a.rotationCenterY;\n        Matrix.updateTransformMatrix(matrix, scalingX, scalingY, rotation, translationX, translationY, {\n            scalingCenterX: scalingCenterX,\n            scalingCenterY: scalingCenterY,\n            rotationCenterX: rotationCenterX,\n            rotationCenterY: rotationCenterY,\n        });\n        matrix.inverseTo(this.inverseMatrix);\n        this._dirtyTransform = false;\n    };\n    Node.prototype.render = function (renderCtx) {\n        var stats = renderCtx.stats;\n        this._dirty = RedrawType.NONE;\n        if (stats)\n            stats.nodesRendered++;\n    };\n    Node.prototype.clearBBox = function (ctx) {\n        var bbox = this.computeBBox();\n        if (bbox == null) {\n            return;\n        }\n        var x = bbox.x, y = bbox.y, width = bbox.width, height = bbox.height;\n        var topLeft = this.transformPoint(x, y);\n        var bottomRight = this.transformPoint(x + width, y + height);\n        ctx.clearRect(topLeft.x, topLeft.y, bottomRight.x - topLeft.x, bottomRight.y - topLeft.y);\n    };\n    Node.prototype.markDirty = function (_source, type, parentType) {\n        if (type === void 0) { type = RedrawType.TRIVIAL; }\n        if (parentType === void 0) { parentType = type; }\n        if (this._dirty > type) {\n            return;\n        }\n        if (this._dirty === type && type === parentType) {\n            return;\n        }\n        this._dirty = type;\n        if (this.parent) {\n            this.parent.markDirty(this, parentType);\n        }\n        else if (this.layerManager) {\n            this.layerManager.markDirty();\n        }\n    };\n    Object.defineProperty(Node.prototype, \"dirty\", {\n        get: function () {\n            return this._dirty;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Node.prototype.markClean = function (opts) {\n        var e_4, _a;\n        var _b = opts || {}, _c = _b.force, force = _c === void 0 ? false : _c, _d = _b.recursive, recursive = _d === void 0 ? true : _d;\n        if (this._dirty === RedrawType.NONE && !force) {\n            return;\n        }\n        this._dirty = RedrawType.NONE;\n        if (recursive) {\n            try {\n                for (var _e = __values(this.children), _f = _e.next(); !_f.done; _f = _e.next()) {\n                    var child = _f.value;\n                    child.markClean();\n                }\n            }\n            catch (e_4_1) { e_4 = { error: e_4_1 }; }\n            finally {\n                try {\n                    if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n                }\n                finally { if (e_4) throw e_4.error; }\n            }\n        }\n    };\n    Node.prototype.visibilityChanged = function () {\n        // Override point for sub-classes to react to visibility changes.\n    };\n    Object.defineProperty(Node.prototype, \"nodeCount\", {\n        get: function () {\n            var e_5, _a;\n            var count = 1;\n            var dirtyCount = this._dirty >= RedrawType.NONE || this._dirtyTransform ? 1 : 0;\n            var visibleCount = this.visible ? 1 : 0;\n            try {\n                for (var _b = __values(this._children), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var child = _c.value;\n                    var _d = child.nodeCount, childCount = _d.count, childVisibleCount = _d.visibleCount, childDirtyCount = _d.dirtyCount;\n                    count += childCount;\n                    visibleCount += childVisibleCount;\n                    dirtyCount += childDirtyCount;\n                }\n            }\n            catch (e_5_1) { e_5 = { error: e_5_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_5) throw e_5.error; }\n            }\n            return { count: count, visibleCount: visibleCount, dirtyCount: dirtyCount };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Node.prototype.zIndexChanged = function () {\n        // Override point for sub-classes.\n    };\n    Node._nextSerialNumber = 0;\n    __decorate([\n        SceneChangeDetection({ type: 'transform' })\n    ], Node.prototype, \"scalingX\", void 0);\n    __decorate([\n        SceneChangeDetection({ type: 'transform' })\n    ], Node.prototype, \"scalingY\", void 0);\n    __decorate([\n        SceneChangeDetection({ type: 'transform' })\n    ], Node.prototype, \"scalingCenterX\", void 0);\n    __decorate([\n        SceneChangeDetection({ type: 'transform' })\n    ], Node.prototype, \"scalingCenterY\", void 0);\n    __decorate([\n        SceneChangeDetection({ type: 'transform' })\n    ], Node.prototype, \"rotationCenterX\", void 0);\n    __decorate([\n        SceneChangeDetection({ type: 'transform' })\n    ], Node.prototype, \"rotationCenterY\", void 0);\n    __decorate([\n        SceneChangeDetection({ type: 'transform' })\n    ], Node.prototype, \"rotation\", void 0);\n    __decorate([\n        SceneChangeDetection({ type: 'transform' })\n    ], Node.prototype, \"translationX\", void 0);\n    __decorate([\n        SceneChangeDetection({ type: 'transform' })\n    ], Node.prototype, \"translationY\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR, changeCb: function (o) { return o.visibilityChanged(); } })\n    ], Node.prototype, \"visible\", void 0);\n    __decorate([\n        SceneChangeDetection({\n            redraw: RedrawType.TRIVIAL,\n            changeCb: zIndexChangedCallback,\n        })\n    ], Node.prototype, \"zIndex\", void 0);\n    __decorate([\n        SceneChangeDetection({\n            redraw: RedrawType.TRIVIAL,\n            changeCb: zIndexChangedCallback,\n        })\n    ], Node.prototype, \"zIndexSubOrder\", void 0);\n    return Node;\n}(ChangeDetectable));\nexport { Node };\n", "export function ascendingStringNumberUndefined(a, b) {\n    var diff = 0;\n    if (typeof a === 'number' && typeof b === 'number') {\n        diff = a - b;\n    }\n    else if (typeof a === 'string' && typeof b === 'string') {\n        diff = a.localeCompare(b);\n    }\n    else if (a == null && b == null) {\n        // Equal.\n    }\n    else if (a == null) {\n        diff = -1;\n    }\n    else if (b == null) {\n        diff = 1;\n    }\n    else {\n        diff = String(a).localeCompare(String(b));\n    }\n    return diff;\n}\nexport function compoundAscending(a, b, comparator) {\n    var toLiteral = function (v) {\n        if (typeof v === 'function') {\n            return v();\n        }\n        return v;\n    };\n    for (var idx in a) {\n        var diff = comparator(toLiteral(a[idx]), toLiteral(b[idx]));\n        if (diff !== 0) {\n            return diff;\n        }\n    }\n    return 0;\n}\n", "var doOnceFlags = {};\n/**\n * If the key was passed before, then doesn't execute the func\n */\nexport function doOnce(func, key) {\n    if (doOnceFlags[key]) {\n        return;\n    }\n    func();\n    doOnceFlags[key] = true;\n}\n/** Clear doOnce() state (for test purposes). */\nexport function clearDoOnceFlags() {\n    for (var key in doOnceFlags) {\n        delete doOnceFlags[key];\n    }\n}\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\n/* eslint-disable no-console */\nimport { doOnce } from './function';\nexport var Logger = {\n    debug: function () {\n        var logContent = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            logContent[_i] = arguments[_i];\n        }\n        console.log.apply(console, __spread(logContent));\n    },\n    warn: function (message) {\n        var logContent = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            logContent[_i - 1] = arguments[_i];\n        }\n        console.warn.apply(console, __spread([\"AG Charts - \" + message], logContent));\n    },\n    error: function (message) {\n        var logContent = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            logContent[_i - 1] = arguments[_i];\n        }\n        console.error.apply(console, __spread([\"AG Charts - \" + message], logContent));\n    },\n    warnOnce: function (message) {\n        var logContent = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            logContent[_i - 1] = arguments[_i];\n        }\n        doOnce(function () { return Logger.warn.apply(Logger, __spread([message], logContent)); }, \"Logger.warn: \" + message);\n    },\n    errorOnce: function (message) {\n        var logContent = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            logContent[_i - 1] = arguments[_i];\n        }\n        doOnce(function () { return Logger.error.apply(Logger, __spread([message], logContent)); }, \"Logger.warn: \" + message);\n    },\n};\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { Node, RedrawType, SceneChangeDetection } from './node';\nimport { BBox } from './bbox';\nimport { compoundAscending, ascendingStringNumberUndefined } from '../util/compare';\nimport { Logger } from '../util/logger';\nvar Group = /** @class */ (function (_super) {\n    __extends(Group, _super);\n    function Group(opts) {\n        var _a;\n        var _this = _super.call(this) || this;\n        _this.opts = opts;\n        _this.opacity = 1;\n        _this.lastBBox = undefined;\n        var _b = opts || {}, zIndex = _b.zIndex, zIndexSubOrder = _b.zIndexSubOrder;\n        _this.isContainerNode = true;\n        if (zIndex !== undefined) {\n            _this.zIndex = zIndex;\n        }\n        if (zIndexSubOrder !== undefined) {\n            _this.zIndexSubOrder = zIndexSubOrder;\n        }\n        _this.name = (_a = _this.opts) === null || _a === void 0 ? void 0 : _a.name;\n        return _this;\n    }\n    Group.prototype.zIndexChanged = function () {\n        var _a;\n        if (this.layer) {\n            (_a = this._layerManager) === null || _a === void 0 ? void 0 : _a.moveLayer(this.layer, this.zIndex, this.zIndexSubOrder);\n        }\n    };\n    Group.prototype.isLayer = function () {\n        return this.layer != null;\n    };\n    Group.prototype._setLayerManager = function (scene) {\n        var _this = this;\n        var _a;\n        if (this._layerManager && this.layer) {\n            this._layerManager.removeLayer(this.layer);\n            this.layer = undefined;\n        }\n        if (this.layer) {\n            throw new Error('AG Charts - unable to deregister scene rendering layer!');\n        }\n        _super.prototype._setLayerManager.call(this, scene);\n        if (scene && ((_a = this.opts) === null || _a === void 0 ? void 0 : _a.layer)) {\n            var _b = this.opts || {}, zIndex = _b.zIndex, zIndexSubOrder = _b.zIndexSubOrder, name_1 = _b.name;\n            var getComputedOpacity = function () { return _this.getComputedOpacity(); };\n            var getVisibility = function () { return _this.getVisibility(); };\n            this.layer = scene.addLayer({ zIndex: zIndex, zIndexSubOrder: zIndexSubOrder, name: name_1, getComputedOpacity: getComputedOpacity, getVisibility: getVisibility });\n        }\n    };\n    Group.prototype.getComputedOpacity = function () {\n        var opacity = 1;\n        var node = this;\n        do {\n            if (node instanceof Group) {\n                opacity *= node.opacity;\n            }\n        } while ((node = node.parent));\n        return opacity;\n    };\n    Group.prototype.getVisibility = function () {\n        var node = this;\n        var visible = this.visible;\n        while ((node = node.parent)) {\n            if (node.visible) {\n                continue;\n            }\n            visible = node.visible;\n        }\n        return visible;\n    };\n    Group.prototype.visibilityChanged = function () {\n        if (this.layer) {\n            this.layer.enabled = this.visible;\n        }\n    };\n    Group.prototype.markDirty = function (source, type) {\n        if (type === void 0) { type = RedrawType.TRIVIAL; }\n        var parentType = type <= RedrawType.MINOR ? RedrawType.TRIVIAL : type;\n        _super.prototype.markDirty.call(this, source, type, parentType);\n    };\n    // We consider a group to be boundless, thus any point belongs to it.\n    Group.prototype.containsPoint = function (_x, _y) {\n        return true;\n    };\n    Group.prototype.computeBBox = function () {\n        this.computeTransformMatrix();\n        return Group.computeBBox(this.children);\n    };\n    Group.prototype.computeTransformedBBox = function () {\n        return this.computeBBox();\n    };\n    Group.prototype.render = function (renderCtx) {\n        var e_1, _a;\n        var _b, _c;\n        var _d = this.opts, _e = (_d === void 0 ? {} : _d).name, name = _e === void 0 ? undefined : _e;\n        var _f = this._debug, _g = (_f === void 0 ? {} : _f).consoleLog, consoleLog = _g === void 0 ? false : _g;\n        var _h = this, dirty = _h.dirty, dirtyZIndex = _h.dirtyZIndex, layer = _h.layer, children = _h.children, clipRect = _h.clipRect;\n        var ctx = renderCtx.ctx, forceRender = renderCtx.forceRender, clipBBox = renderCtx.clipBBox;\n        var resized = renderCtx.resized, stats = renderCtx.stats;\n        var canvasCtxTransform = ctx.getTransform();\n        var isDirty = dirty >= RedrawType.MINOR || dirtyZIndex || resized;\n        var isChildDirty = isDirty || children.some(function (n) { return n.dirty >= RedrawType.TRIVIAL; });\n        if (name && consoleLog) {\n            Logger.debug({ name: name, group: this, isDirty: isDirty, isChildDirty: isChildDirty, renderCtx: renderCtx, forceRender: forceRender });\n        }\n        if (layer) {\n            // If bounding-box of a layer changes, force re-render.\n            var currentBBox = this.computeBBox();\n            if (this.lastBBox === undefined || !this.lastBBox.equals(currentBBox)) {\n                forceRender = true;\n                this.lastBBox = currentBBox;\n            }\n            else if (!currentBBox.isInfinite()) {\n                // bbox for path2D is currently (Infinity) not calculated\n                // If it's not a path2D, turn off forceRender\n                // By default there is no need to force redraw a group which has it's own canvas layer\n                // as the layer is independent of any other layer\n                forceRender = false;\n            }\n        }\n        if (!isDirty && !isChildDirty && !forceRender) {\n            if (name && consoleLog && stats) {\n                var counts = this.nodeCount;\n                Logger.debug({ name: name, result: 'skipping', renderCtx: renderCtx, counts: counts, group: this });\n            }\n            if (layer && stats) {\n                stats.layersSkipped++;\n                stats.nodesSkipped += this.nodeCount.count;\n            }\n            this.markClean({ recursive: false });\n            // Nothing to do.\n            return;\n        }\n        var groupVisible = this.visible;\n        if (layer) {\n            // Switch context to the canvas layer we use for this group.\n            ctx = layer.context;\n            ctx.save();\n            ctx.resetTransform();\n            forceRender = true;\n            layer.clear();\n            if (clipBBox) {\n                // clipBBox is in the canvas coordinate space, when we hit a layer we apply the new clipping at which point there are no transforms in play\n                var width = clipBBox.width, height = clipBBox.height, x = clipBBox.x, y = clipBBox.y;\n                if (consoleLog) {\n                    Logger.debug({ name: name, clipBBox: clipBBox, ctxTransform: ctx.getTransform(), renderCtx: renderCtx, group: this });\n                }\n                this.clipCtx(ctx, x, y, width, height);\n            }\n            ctx.setTransform(canvasCtxTransform);\n        }\n        else {\n            // Only apply opacity if this isn't a distinct layer - opacity will be applied\n            // at composition time.\n            ctx.globalAlpha *= this.opacity;\n        }\n        // A group can have `scaling`, `rotation`, `translation` properties\n        // that are applied to the canvas context before children are rendered,\n        // so all children can be transformed at once.\n        this.computeTransformMatrix();\n        this.matrix.toContext(ctx);\n        if (clipRect) {\n            // clipRect is in the group's coordinate space\n            var x = clipRect.x, y = clipRect.y, width = clipRect.width, height = clipRect.height;\n            ctx.save();\n            if (consoleLog) {\n                Logger.debug({ name: name, clipRect: clipRect, ctxTransform: ctx.getTransform(), renderCtx: renderCtx, group: this });\n            }\n            this.clipCtx(ctx, x, y, width, height);\n            // clipBBox is in the canvas coordinate space, when we hit a layer we apply the new clipping at which point there are no transforms in play\n            clipBBox = this.matrix.inverse().transformBBox(clipRect);\n        }\n        if (dirtyZIndex) {\n            this.sortChildren();\n            forceRender = true;\n        }\n        // Reduce churn if renderCtx is identical.\n        var renderContextChanged = forceRender !== renderCtx.forceRender || clipBBox !== renderCtx.clipBBox || ctx !== renderCtx.ctx;\n        var childRenderContext = renderContextChanged ? __assign(__assign({}, renderCtx), { ctx: ctx, forceRender: forceRender, clipBBox: clipBBox }) : renderCtx;\n        // Render visible children.\n        var skipped = 0;\n        try {\n            for (var children_1 = __values(children), children_1_1 = children_1.next(); !children_1_1.done; children_1_1 = children_1.next()) {\n                var child = children_1_1.value;\n                if (!child.visible || !groupVisible) {\n                    // Skip invisible children, but make sure their dirty flag is reset.\n                    child.markClean();\n                    if (stats)\n                        skipped += child.nodeCount.count;\n                    continue;\n                }\n                if (!forceRender && child.dirty === RedrawType.NONE) {\n                    // Skip children that don't need to be redrawn.\n                    if (stats)\n                        skipped += child.nodeCount.count;\n                    continue;\n                }\n                // Render marks this node (and children) as clean - no need to explicitly markClean().\n                ctx.save();\n                child.render(childRenderContext);\n                ctx.restore();\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (children_1_1 && !children_1_1.done && (_a = children_1.return)) _a.call(children_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (stats)\n            stats.nodesSkipped += skipped;\n        // Render marks this node as clean - no need to explicitly markClean().\n        _super.prototype.render.call(this, renderCtx);\n        if (clipRect) {\n            ctx.restore();\n        }\n        if (layer) {\n            if (stats)\n                stats.layersRendered++;\n            ctx.restore();\n            layer.snapshot();\n            // Check for save/restore depth of zero!\n            (_c = (_b = layer.context).verifyDepthZero) === null || _c === void 0 ? void 0 : _c.call(_b);\n        }\n        if (name && consoleLog && stats) {\n            var counts = this.nodeCount;\n            Logger.debug({ name: name, result: 'rendered', skipped: skipped, renderCtx: renderCtx, counts: counts, group: this });\n        }\n    };\n    Group.prototype.sortChildren = function () {\n        this.dirtyZIndex = false;\n        this.children.sort(function (a, b) {\n            var _a, _b;\n            return compoundAscending(__spread([a.zIndex], ((_a = a.zIndexSubOrder) !== null && _a !== void 0 ? _a : [undefined, undefined]), [a.serialNumber]), __spread([b.zIndex], ((_b = b.zIndexSubOrder) !== null && _b !== void 0 ? _b : [undefined, undefined]), [b.serialNumber]), ascendingStringNumberUndefined);\n        });\n    };\n    Group.prototype.clipCtx = function (ctx, x, y, width, height) {\n        ctx.beginPath();\n        ctx.moveTo(x, y);\n        ctx.lineTo(x + width, y);\n        ctx.lineTo(x + width, y + height);\n        ctx.lineTo(x, y + height);\n        ctx.closePath();\n        ctx.clip();\n    };\n    Group.computeBBox = function (nodes) {\n        var left = Infinity;\n        var right = -Infinity;\n        var top = Infinity;\n        var bottom = -Infinity;\n        nodes.forEach(function (n) {\n            if (!n.visible) {\n                return;\n            }\n            var bbox = n.computeTransformedBBox();\n            if (!bbox) {\n                return;\n            }\n            var x = bbox.x;\n            var y = bbox.y;\n            if (x < left) {\n                left = x;\n            }\n            if (y < top) {\n                top = y;\n            }\n            if (x + bbox.width > right) {\n                right = x + bbox.width;\n            }\n            if (y + bbox.height > bottom) {\n                bottom = y + bbox.height;\n            }\n        });\n        return new BBox(left, top, right - left, bottom - top);\n    };\n    /**\n     * Transforms bbox given in the canvas coordinate space to bbox in this group's coordinate space and\n     * sets this group's clipRect to the transformed bbox.\n     * @param bbox clipRect bbox in the canvas coordinate space.\n     */\n    Group.prototype.setClipRectInGroupCoordinateSpace = function (bbox) {\n        this.clipRect = bbox ? this.transformBBox(bbox) : undefined;\n    };\n    Group.className = 'Group';\n    __decorate([\n        SceneChangeDetection({\n            convertor: function (v) { return Math.min(1, Math.max(0, v)); },\n        })\n    ], Group.prototype, \"opacity\", void 0);\n    return Group;\n}(Node));\nexport { Group };\n", "import { HdpiCanvas } from './hdpiCanvas';\nimport { isDesktop } from '../util/userAgent';\n/**\n * Wraps a native OffscreenCanvas and overrides its OffscreenCanvasRenderingContext2D to\n * provide resolution independent rendering based on `window.devicePixelRatio`.\n */\nvar HdpiOffscreenCanvas = /** @class */ (function () {\n    // The width/height attributes of the Canvas element default to\n    // 300/150 according to w3.org.\n    function HdpiOffscreenCanvas(_a) {\n        var _b = _a.width, width = _b === void 0 ? 600 : _b, _c = _a.height, height = _c === void 0 ? 300 : _c, _d = _a.overrideDevicePixelRatio, overrideDevicePixelRatio = _d === void 0 ? undefined : _d;\n        this.enabled = true;\n        // `NaN` is deliberate here, so that overrides are always applied\n        // and the `resetTransform` inside the `resize` method works in IE11.\n        this._pixelRatio = NaN;\n        this._width = 0;\n        this._height = 0;\n        this.canvas = new OffscreenCanvas(width, height);\n        this.context = this.canvas.getContext('2d');\n        this.imageSource = this.canvas.transferToImageBitmap();\n        this.setPixelRatio(overrideDevicePixelRatio);\n        this.resize(width, height);\n    }\n    HdpiOffscreenCanvas.isSupported = function () {\n        return window['OffscreenCanvas'] != null;\n    };\n    HdpiOffscreenCanvas.prototype.snapshot = function () {\n        this.imageSource.close();\n        this.imageSource = this.canvas.transferToImageBitmap();\n    };\n    HdpiOffscreenCanvas.prototype.destroy = function () {\n        this.imageSource.close();\n        // Workaround memory allocation quirks in iOS Safari by resizing to 0x0 and clearing.\n        // See https://bugs.webkit.org/show_bug.cgi?id=195325.\n        this.canvas.width = 0;\n        this.canvas.height = 0;\n        this.context.clearRect(0, 0, 0, 0);\n    };\n    HdpiOffscreenCanvas.prototype.clear = function () {\n        this.context.save();\n        this.context.resetTransform();\n        this.context.clearRect(0, 0, this.width, this.height);\n        this.context.restore();\n    };\n    Object.defineProperty(HdpiOffscreenCanvas.prototype, \"pixelRatio\", {\n        get: function () {\n            return this._pixelRatio;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Changes the pixel ratio of the Canvas element to the given value,\n     * or uses the window.devicePixelRatio (default), then resizes the Canvas\n     * element accordingly (default).\n     */\n    HdpiOffscreenCanvas.prototype.setPixelRatio = function (ratio) {\n        var pixelRatio = ratio !== null && ratio !== void 0 ? ratio : window.devicePixelRatio;\n        if (!isDesktop()) {\n            // Mobile browsers have stricter memory limits, we reduce rendering resolution to\n            // improve stability on mobile browsers. iOS Safari 12->16 are pain-points since they\n            // have memory allocation quirks - see https://bugs.webkit.org/show_bug.cgi?id=195325.\n            pixelRatio = 1;\n        }\n        HdpiCanvas.overrideScale(this.context, pixelRatio);\n        this._pixelRatio = pixelRatio;\n    };\n    Object.defineProperty(HdpiOffscreenCanvas.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HdpiOffscreenCanvas.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HdpiOffscreenCanvas.prototype.resize = function (width, height) {\n        if (!(width > 0 && height > 0)) {\n            return;\n        }\n        var _a = this, canvas = _a.canvas, context = _a.context, pixelRatio = _a.pixelRatio;\n        canvas.width = Math.round(width * pixelRatio);\n        canvas.height = Math.round(height * pixelRatio);\n        context.resetTransform();\n        this._width = width;\n        this._height = height;\n    };\n    return HdpiOffscreenCanvas;\n}());\nexport { HdpiOffscreenCanvas };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { HdpiCanvas } from '../canvas/hdpiCanvas';\nimport { RedrawType } from './node';\nimport { createId } from '../util/id';\nimport { Group } from './group';\nimport { HdpiOffscreenCanvas } from '../canvas/hdpiOffscreenCanvas';\nimport { windowValue } from '../util/window';\nimport { ascendingStringNumberUndefined, compoundAscending } from '../util/compare';\nimport { Logger } from '../util/logger';\nfunction buildSceneNodeHighlight() {\n    var _a;\n    var config = (_a = windowValue('agChartsSceneDebug')) !== null && _a !== void 0 ? _a : [];\n    if (typeof config === 'string') {\n        config = [config];\n    }\n    var result = [];\n    config.forEach(function (name) {\n        if (name === 'layout') {\n            result.push('seriesRoot', 'legend', 'root', /.*Axis-\\d+-axis.*/);\n        }\n        else {\n            result.push(name);\n        }\n    });\n    return result;\n}\nvar Scene = /** @class */ (function () {\n    function Scene(opts) {\n        var _a, _b;\n        this.id = createId(this);\n        this.layers = [];\n        this._nextZIndex = 0;\n        this._nextLayerId = 0;\n        this._dirty = false;\n        this._root = null;\n        this.debug = {\n            dirtyTree: false,\n            stats: false,\n            renderBoundingBoxes: false,\n            consoleLog: false,\n            sceneNodeHighlight: [],\n        };\n        var _c = opts.document, document = _c === void 0 ? window.document : _c, _d = opts.mode, mode = _d === void 0 ? windowValue('agChartsSceneRenderModel') || 'adv-composite' : _d, width = opts.width, height = opts.height, _e = opts.overrideDevicePixelRatio, overrideDevicePixelRatio = _e === void 0 ? undefined : _e;\n        this.overrideDevicePixelRatio = overrideDevicePixelRatio;\n        this.opts = { document: document, mode: mode };\n        this.debug.consoleLog = windowValue('agChartsDebug') === true;\n        this.debug.stats = (_a = windowValue('agChartsSceneStats')) !== null && _a !== void 0 ? _a : false;\n        this.debug.dirtyTree = (_b = windowValue('agChartsSceneDirtyTree')) !== null && _b !== void 0 ? _b : false;\n        this.debug.sceneNodeHighlight = buildSceneNodeHighlight();\n        this.canvas = new HdpiCanvas({ document: document, width: width, height: height, overrideDevicePixelRatio: overrideDevicePixelRatio });\n    }\n    Object.defineProperty(Scene.prototype, \"container\", {\n        get: function () {\n            return this.canvas.container;\n        },\n        set: function (value) {\n            this.canvas.container = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Scene.prototype.download = function (fileName, fileFormat) {\n        this.canvas.download(fileName, fileFormat);\n    };\n    Scene.prototype.getDataURL = function (type) {\n        return this.canvas.getDataURL(type);\n    };\n    Object.defineProperty(Scene.prototype, \"width\", {\n        get: function () {\n            return this.pendingSize ? this.pendingSize[0] : this.canvas.width;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scene.prototype, \"height\", {\n        get: function () {\n            return this.pendingSize ? this.pendingSize[1] : this.canvas.height;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Scene.prototype.resize = function (width, height) {\n        width = Math.round(width);\n        height = Math.round(height);\n        // HdpiCanvas doesn't allow width/height <= 0.\n        var lessThanZero = width <= 0 || height <= 0;\n        var nan = isNaN(width) || isNaN(height);\n        var unchanged = width === this.width && height === this.height;\n        if (unchanged || nan || lessThanZero) {\n            return false;\n        }\n        this.pendingSize = [width, height];\n        this.markDirty();\n        return true;\n    };\n    Scene.prototype.addLayer = function (opts) {\n        var _a;\n        var mode = this.opts.mode;\n        var layeredModes = ['composite', 'dom-composite', 'adv-composite'];\n        if (!layeredModes.includes(mode)) {\n            return undefined;\n        }\n        var _b = opts.zIndex, zIndex = _b === void 0 ? this._nextZIndex++ : _b, name = opts.name, zIndexSubOrder = opts.zIndexSubOrder, getComputedOpacity = opts.getComputedOpacity, getVisibility = opts.getVisibility;\n        var _c = this, width = _c.width, height = _c.height, overrideDevicePixelRatio = _c.overrideDevicePixelRatio;\n        var domLayer = mode === 'dom-composite';\n        var advLayer = mode === 'adv-composite';\n        var canvas = !advLayer || !HdpiOffscreenCanvas.isSupported()\n            ? new HdpiCanvas({\n                document: this.opts.document,\n                width: width,\n                height: height,\n                domLayer: domLayer,\n                zIndex: zIndex,\n                name: name,\n                overrideDevicePixelRatio: overrideDevicePixelRatio,\n            })\n            : new HdpiOffscreenCanvas({\n                width: width,\n                height: height,\n                overrideDevicePixelRatio: overrideDevicePixelRatio,\n            });\n        var newLayer = {\n            id: this._nextLayerId++,\n            name: name,\n            zIndex: zIndex,\n            zIndexSubOrder: zIndexSubOrder,\n            canvas: canvas,\n            getComputedOpacity: getComputedOpacity,\n            getVisibility: getVisibility,\n        };\n        if (zIndex >= this._nextZIndex) {\n            this._nextZIndex = zIndex + 1;\n        }\n        this.layers.push(newLayer);\n        this.sortLayers();\n        if (domLayer) {\n            var domCanvases = this.layers\n                .map(function (v) { return v.canvas; })\n                .filter(function (v) { return v instanceof HdpiCanvas; });\n            var newLayerIndex = domCanvases.findIndex(function (v) { return v === canvas; });\n            var lastLayer = (_a = domCanvases[newLayerIndex - 1]) !== null && _a !== void 0 ? _a : this.canvas;\n            lastLayer.element.insertAdjacentElement('afterend', canvas.element);\n        }\n        if (this.debug.consoleLog) {\n            Logger.debug({ layers: this.layers });\n        }\n        return newLayer.canvas;\n    };\n    Scene.prototype.removeLayer = function (canvas) {\n        var index = this.layers.findIndex(function (l) { return l.canvas === canvas; });\n        if (index >= 0) {\n            this.layers.splice(index, 1);\n            canvas.destroy();\n            this.markDirty();\n            if (this.debug.consoleLog) {\n                Logger.debug({ layers: this.layers });\n            }\n        }\n    };\n    Scene.prototype.moveLayer = function (canvas, newZIndex, newZIndexSubOrder) {\n        var layer = this.layers.find(function (l) { return l.canvas === canvas; });\n        if (layer) {\n            layer.zIndex = newZIndex;\n            layer.zIndexSubOrder = newZIndexSubOrder;\n            this.sortLayers();\n            this.markDirty();\n            if (this.debug.consoleLog) {\n                Logger.debug({ layers: this.layers });\n            }\n        }\n    };\n    Scene.prototype.sortLayers = function () {\n        this.layers.sort(function (a, b) {\n            var _a, _b;\n            return compoundAscending(__spread([a.zIndex], ((_a = a.zIndexSubOrder) !== null && _a !== void 0 ? _a : [undefined, undefined]), [a.id]), __spread([b.zIndex], ((_b = b.zIndexSubOrder) !== null && _b !== void 0 ? _b : [undefined, undefined]), [b.id]), ascendingStringNumberUndefined);\n        });\n    };\n    Scene.prototype.markDirty = function () {\n        this._dirty = true;\n    };\n    Object.defineProperty(Scene.prototype, \"dirty\", {\n        get: function () {\n            return this._dirty;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Scene.prototype, \"root\", {\n        get: function () {\n            return this._root;\n        },\n        set: function (node) {\n            if (node === this._root) {\n                return;\n            }\n            if (this._root) {\n                this._root._setLayerManager();\n            }\n            this._root = node;\n            if (node) {\n                // If `node` is the root node of another scene ...\n                if (node.parent === null && node.layerManager && node.layerManager !== this) {\n                    node.layerManager.root = null;\n                }\n                node._setLayerManager(this);\n            }\n            this.markDirty();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /** Alternative to destroy() that preserves re-usable resources. */\n    Scene.prototype.strip = function () {\n        var e_1, _a;\n        var layers = this.layers;\n        try {\n            for (var layers_1 = __values(layers), layers_1_1 = layers_1.next(); !layers_1_1.done; layers_1_1 = layers_1.next()) {\n                var layer = layers_1_1.value;\n                layer.canvas.destroy();\n                delete layer['canvas'];\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (layers_1_1 && !layers_1_1.done && (_a = layers_1.return)) _a.call(layers_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        layers.splice(0, layers.length);\n        this.root = null;\n        this._dirty = false;\n        this.canvas.context.resetTransform();\n    };\n    Scene.prototype.destroy = function () {\n        this.container = undefined;\n        this.strip();\n        this.canvas.destroy();\n        Object.assign(this, { canvas: undefined, ctx: undefined });\n    };\n    Scene.prototype.render = function (opts) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var _b, _c, debugSplitTimes, _d, extraDebugStats, _e, canvas, ctx, root, layers, pendingSize, mode, renderCtx, canvasCleared, _f, dirtyTree, paths;\n            var _g;\n            return __generator(this, function (_h) {\n                _b = opts || {}, _c = _b.debugSplitTimes, debugSplitTimes = _c === void 0 ? [performance.now()] : _c, _d = _b.extraDebugStats, extraDebugStats = _d === void 0 ? {} : _d;\n                _e = this, canvas = _e.canvas, ctx = _e.canvas.context, root = _e.root, layers = _e.layers, pendingSize = _e.pendingSize, mode = _e.opts.mode;\n                if (pendingSize) {\n                    (_g = this.canvas).resize.apply(_g, __spread(pendingSize));\n                    this.layers.forEach(function (layer) {\n                        var _a;\n                        return (_a = layer.canvas).resize.apply(_a, __spread(pendingSize));\n                    });\n                    this.pendingSize = undefined;\n                }\n                if (root && !root.visible) {\n                    this._dirty = false;\n                    return [2 /*return*/];\n                }\n                if (root && !this.dirty) {\n                    if (this.debug.consoleLog) {\n                        Logger.debug('no-op', {\n                            redrawType: RedrawType[root.dirty],\n                            tree: this.buildTree(root),\n                        });\n                    }\n                    this.debugStats(debugSplitTimes, ctx, undefined, extraDebugStats);\n                    return [2 /*return*/];\n                }\n                renderCtx = {\n                    ctx: ctx,\n                    forceRender: true,\n                    resized: !!pendingSize,\n                    debugNodes: {},\n                };\n                if (this.debug.stats === 'detailed') {\n                    renderCtx.stats = { layersRendered: 0, layersSkipped: 0, nodesRendered: 0, nodesSkipped: 0 };\n                }\n                canvasCleared = false;\n                if (!root || root.dirty >= RedrawType.TRIVIAL) {\n                    // start with a blank canvas, clear previous drawing\n                    canvasCleared = true;\n                    canvas.clear();\n                }\n                if (root && this.debug.dirtyTree) {\n                    _f = this.buildDirtyTree(root), dirtyTree = _f.dirtyTree, paths = _f.paths;\n                    Logger.debug({ dirtyTree: dirtyTree, paths: paths });\n                }\n                if (root && canvasCleared) {\n                    if (this.debug.consoleLog) {\n                        Logger.debug('before', {\n                            redrawType: RedrawType[root.dirty],\n                            canvasCleared: canvasCleared,\n                            tree: this.buildTree(root),\n                        });\n                    }\n                    if (root.visible) {\n                        ctx.save();\n                        root.render(renderCtx);\n                        ctx.restore();\n                    }\n                }\n                if (mode !== 'dom-composite' && layers.length > 0 && canvasCleared) {\n                    this.sortLayers();\n                    ctx.save();\n                    ctx.setTransform(1 / canvas.pixelRatio, 0, 0, 1 / canvas.pixelRatio, 0, 0);\n                    layers.forEach(function (_a) {\n                        var _b = _a.canvas, imageSource = _b.imageSource, enabled = _b.enabled, getComputedOpacity = _a.getComputedOpacity, getVisibility = _a.getVisibility;\n                        if (!enabled || !getVisibility()) {\n                            return;\n                        }\n                        ctx.globalAlpha = getComputedOpacity();\n                        ctx.drawImage(imageSource, 0, 0);\n                    });\n                    ctx.restore();\n                }\n                // Check for save/restore depth of zero!\n                (_a = ctx.verifyDepthZero) === null || _a === void 0 ? void 0 : _a.call(ctx);\n                this._dirty = false;\n                this.debugStats(debugSplitTimes, ctx, renderCtx.stats, extraDebugStats);\n                this.debugSceneNodeHighlight(ctx, this.debug.sceneNodeHighlight, renderCtx.debugNodes);\n                if (root && this.debug.consoleLog) {\n                    Logger.debug('after', { redrawType: RedrawType[root.dirty], canvasCleared: canvasCleared, tree: this.buildTree(root) });\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    Scene.prototype.debugStats = function (debugSplitTimes, ctx, renderCtxStats, extraDebugStats) {\n        var e_2, _a;\n        if (extraDebugStats === void 0) { extraDebugStats = {}; }\n        var end = performance.now();\n        if (this.debug.stats) {\n            var start = debugSplitTimes[0];\n            debugSplitTimes.push(end);\n            var pct = function (rendered, skipped) {\n                var total = rendered + skipped;\n                return rendered + \" / \" + total + \" (\" + Math.round((100 * rendered) / total) + \"%)\";\n            };\n            var time_1 = function (start, end) {\n                return Math.round((end - start) * 100) / 100 + \"ms\";\n            };\n            var _b = renderCtxStats !== null && renderCtxStats !== void 0 ? renderCtxStats : {}, _c = _b.layersRendered, layersRendered = _c === void 0 ? 0 : _c, _d = _b.layersSkipped, layersSkipped = _d === void 0 ? 0 : _d, _e = _b.nodesRendered, nodesRendered = _e === void 0 ? 0 : _e, _f = _b.nodesSkipped, nodesSkipped = _f === void 0 ? 0 : _f;\n            var splits = debugSplitTimes\n                .map(function (t, i) { return (i > 0 ? time_1(debugSplitTimes[i - 1], t) : null); })\n                .filter(function (v) { return v != null; })\n                .join(' + ');\n            var extras = Object.entries(extraDebugStats)\n                .map(function (_a) {\n                var _b = __read(_a, 2), k = _b[0], v = _b[1];\n                return k + \": \" + v;\n            })\n                .join(' ; ');\n            var stats = [\n                time_1(start, end) + \" (\" + splits + \")\",\n                \"\" + extras,\n                this.debug.stats === 'detailed' ? \"Layers: \" + pct(layersRendered, layersSkipped) : null,\n                this.debug.stats === 'detailed' ? \"Nodes: \" + pct(nodesRendered, nodesSkipped) : null,\n            ].filter(function (v) { return v != null; });\n            var lineHeight = 15;\n            ctx.save();\n            ctx.fillStyle = 'white';\n            ctx.fillRect(0, 0, 200, 10 + lineHeight * stats.length);\n            ctx.fillStyle = 'black';\n            var index = 0;\n            try {\n                for (var stats_1 = __values(stats), stats_1_1 = stats_1.next(); !stats_1_1.done; stats_1_1 = stats_1.next()) {\n                    var stat = stats_1_1.value;\n                    ctx.fillText(stat, 2, 10 + index++ * lineHeight);\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (stats_1_1 && !stats_1_1.done && (_a = stats_1.return)) _a.call(stats_1);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            ctx.restore();\n        }\n    };\n    Scene.prototype.debugSceneNodeHighlight = function (ctx, sceneNodeHighlight, debugNodes) {\n        var e_3, _a, e_4, _b, e_5, _c;\n        var _d;\n        var regexpPredicate = function (matcher) { return function (n) {\n            if (matcher.test(n.id)) {\n                return true;\n            }\n            return n instanceof Group && n.name != null && matcher.test(n.name);\n        }; };\n        var stringPredicate = function (match) { return function (n) {\n            if (match === n.id) {\n                return true;\n            }\n            return n instanceof Group && n.name != null && match === n.name;\n        }; };\n        try {\n            for (var sceneNodeHighlight_1 = __values(sceneNodeHighlight), sceneNodeHighlight_1_1 = sceneNodeHighlight_1.next(); !sceneNodeHighlight_1_1.done; sceneNodeHighlight_1_1 = sceneNodeHighlight_1.next()) {\n                var next = sceneNodeHighlight_1_1.value;\n                if (typeof next === 'string' && debugNodes[next] != null)\n                    continue;\n                var predicate = typeof next === 'string' ? stringPredicate(next) : regexpPredicate(next);\n                var nodes = (_d = this.root) === null || _d === void 0 ? void 0 : _d.findNodes(predicate);\n                if (!nodes || nodes.length === 0) {\n                    Logger.debug(\"no debugging node with id [\" + next + \"] in scene graph.\");\n                    continue;\n                }\n                try {\n                    for (var nodes_1 = (e_4 = void 0, __values(nodes)), nodes_1_1 = nodes_1.next(); !nodes_1_1.done; nodes_1_1 = nodes_1.next()) {\n                        var node = nodes_1_1.value;\n                        if (node instanceof Group && node.name) {\n                            debugNodes[node.name] = node;\n                        }\n                        else {\n                            debugNodes[node.id] = node;\n                        }\n                    }\n                }\n                catch (e_4_1) { e_4 = { error: e_4_1 }; }\n                finally {\n                    try {\n                        if (nodes_1_1 && !nodes_1_1.done && (_b = nodes_1.return)) _b.call(nodes_1);\n                    }\n                    finally { if (e_4) throw e_4.error; }\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (sceneNodeHighlight_1_1 && !sceneNodeHighlight_1_1.done && (_a = sceneNodeHighlight_1.return)) _a.call(sceneNodeHighlight_1);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        ctx.save();\n        try {\n            for (var _e = __values(Object.entries(debugNodes)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var _g = __read(_f.value, 2), name_1 = _g[0], node = _g[1];\n                var bbox = node.computeTransformedBBox();\n                if (!bbox) {\n                    Logger.debug(\"no bbox for debugged node [\" + name_1 + \"].\");\n                    continue;\n                }\n                ctx.globalAlpha = 0.8;\n                ctx.strokeStyle = 'red';\n                ctx.lineWidth = 1;\n                ctx.strokeRect(bbox.x, bbox.y, bbox.width, bbox.height);\n                ctx.fillStyle = 'red';\n                ctx.strokeStyle = 'white';\n                ctx.font = '16px sans-serif';\n                ctx.textBaseline = 'top';\n                ctx.textAlign = 'left';\n                ctx.lineWidth = 2;\n                ctx.strokeText(name_1, bbox.x, bbox.y, bbox.width);\n                ctx.fillText(name_1, bbox.x, bbox.y, bbox.width);\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_f && !_f.done && (_c = _e.return)) _c.call(_e);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        ctx.restore();\n    };\n    Scene.prototype.buildTree = function (node) {\n        var _this = this;\n        var _a;\n        var name = (_a = (node instanceof Group ? node.name : null)) !== null && _a !== void 0 ? _a : node.id;\n        return __assign({ name: name,\n            node: node, dirty: RedrawType[node.dirty] }, node.children\n            .map(function (c) { return _this.buildTree(c); })\n            .reduce(function (result, childTree) {\n            var treeNodeName = childTree.name;\n            var _a = childTree.node, visible = _a.visible, opacity = _a.opacity, zIndex = _a.zIndex, zIndexSubOrder = _a.zIndexSubOrder, childNode = childTree.node;\n            if (!visible || opacity <= 0) {\n                treeNodeName = \"(\" + treeNodeName + \")\";\n            }\n            if (childNode instanceof Group && childNode.isLayer()) {\n                treeNodeName = \"*\" + treeNodeName + \"*\";\n            }\n            var key = [\n                \"\" + (treeNodeName !== null && treeNodeName !== void 0 ? treeNodeName : '<unknown>'),\n                \"z: \" + zIndex,\n                zIndexSubOrder && \"zo: \" + zIndexSubOrder.join(' / '),\n            ]\n                .filter(function (v) { return !!v; })\n                .join(' ');\n            result[key] = childTree;\n            return result;\n        }, {}));\n    };\n    Scene.prototype.buildDirtyTree = function (node) {\n        var _this = this;\n        var _a;\n        if (node.dirty === RedrawType.NONE) {\n            return { dirtyTree: {}, paths: [] };\n        }\n        var childrenDirtyTree = node.children.map(function (c) { return _this.buildDirtyTree(c); }).filter(function (c) { return c.paths.length > 0; });\n        var name = (_a = (node instanceof Group ? node.name : null)) !== null && _a !== void 0 ? _a : node.id;\n        var paths = childrenDirtyTree.length === 0\n            ? [name]\n            : childrenDirtyTree\n                .map(function (c) { return c.paths; })\n                .reduce(function (r, p) { return r.concat(p); }, [])\n                .map(function (p) { return name + \".\" + p; });\n        return {\n            dirtyTree: __assign({ name: name,\n                node: node, dirty: RedrawType[node.dirty] }, childrenDirtyTree\n                .map(function (c) { return c.dirtyTree; })\n                .filter(function (t) { return t.dirty !== undefined; })\n                .reduce(function (result, childTree) {\n                result[childTree.name || '<unknown>'] = childTree;\n                return result;\n            }, {})),\n            paths: paths,\n        };\n    };\n    Scene.className = 'Scene';\n    return Scene;\n}());\nexport { Scene };\n", "var Observable = /** @class */ (function () {\n    function Observable() {\n        this.allEventListeners = new Map();\n    }\n    Observable.prototype.addEventListener = function (type, listener) {\n        if (typeof listener !== 'function') {\n            throw new Error('AG Charts - listener must be a Function');\n        }\n        var allEventListeners = this.allEventListeners;\n        var eventListeners = allEventListeners.get(type);\n        if (!eventListeners) {\n            eventListeners = new Set();\n            allEventListeners.set(type, eventListeners);\n        }\n        if (!eventListeners.has(listener)) {\n            eventListeners.add(listener);\n        }\n    };\n    Observable.prototype.removeEventListener = function (type, listener) {\n        var allEventListeners = this.allEventListeners;\n        var eventListeners = allEventListeners.get(type);\n        if (!eventListeners) {\n            return;\n        }\n        eventListeners.delete(listener);\n        if (eventListeners.size === 0) {\n            allEventListeners.delete(type);\n        }\n    };\n    Observable.prototype.hasEventListener = function (type) {\n        return this.allEventListeners.has(type);\n    };\n    Observable.prototype.clearEventListeners = function () {\n        this.allEventListeners.clear();\n    };\n    Observable.prototype.fireEvent = function (event) {\n        var listeners = this.allEventListeners.get(event.type);\n        listeners === null || listeners === void 0 ? void 0 : listeners.forEach(function (listener) { return listener(event); });\n    };\n    return Observable;\n}());\nexport { Observable };\n", "export var isString = function (v) { return typeof v === 'string'; };\nexport var isStringObject = function (v) {\n    return !!v && Object.prototype.hasOwnProperty.call(v, 'toString') && isString(v.toString());\n};\nexport var isDate = function (v) { return v instanceof Date && !isNaN(+v); };\nexport function isDiscrete(value) {\n    return isString(value) || isStringObject(value);\n}\nexport function isContinuous(value) {\n    var isNumberObject = function (v) {\n        return !!v && Object.prototype.hasOwnProperty.call(v, 'valueOf') && isNumber(v.valueOf());\n    };\n    var isDate = function (v) { return v instanceof Date && !isNaN(+v); };\n    return isNumber(value) || isNumberObject(value) || isDate(value);\n}\nexport function checkDatum(value, isContinuousScale) {\n    if (isContinuousScale && isContinuous(value)) {\n        return value;\n    }\n    else if (!isContinuousScale) {\n        if (!isDiscrete(value)) {\n            return String(value);\n        }\n        return value;\n    }\n    return undefined;\n}\nexport var isNumber = function (v) { return typeof v === 'number' && Number.isFinite(v); };\n", "var __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nexport var BREAK_TRANSFORM_CHAIN = Symbol('BREAK');\nvar CONFIG_KEY = '__decorator_config';\nfunction initialiseConfig(target, propertyKeyOrSymbol, propertyKey, valueStoreKey) {\n    if (Object.getOwnPropertyDescriptor(target, CONFIG_KEY) == null) {\n        Object.defineProperty(target, CONFIG_KEY, { value: {} });\n    }\n    var config = target[CONFIG_KEY];\n    if (config[propertyKey] != null) {\n        return config[propertyKey];\n    }\n    config[propertyKey] = { setters: [], getters: [] };\n    var descriptor = Object.getOwnPropertyDescriptor(target, propertyKeyOrSymbol);\n    var prevSet = descriptor === null || descriptor === void 0 ? void 0 : descriptor.set;\n    var prevGet = descriptor === null || descriptor === void 0 ? void 0 : descriptor.get;\n    var getter = function () {\n        var e_1, _a;\n        var _b, _c;\n        var value = prevGet ? prevGet.call(this) : this[valueStoreKey];\n        try {\n            for (var _d = __values((_c = (_b = config[propertyKey]) === null || _b === void 0 ? void 0 : _b.getters) !== null && _c !== void 0 ? _c : []), _e = _d.next(); !_e.done; _e = _d.next()) {\n                var transformFn = _e.value;\n                value = transformFn(this, propertyKeyOrSymbol, value);\n                if (value === BREAK_TRANSFORM_CHAIN) {\n                    return undefined;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return value;\n    };\n    var setter = function (value) {\n        var e_2, _a;\n        var _b, _c;\n        var setters = (_c = (_b = config[propertyKey]) === null || _b === void 0 ? void 0 : _b.setters) !== null && _c !== void 0 ? _c : [];\n        var oldValue;\n        if (setters.some(function (f) { return f.length > 2; })) {\n            // Lazily retrieve old value.\n            oldValue = prevGet ? prevGet.call(this) : this[valueStoreKey];\n        }\n        try {\n            for (var setters_1 = __values(setters), setters_1_1 = setters_1.next(); !setters_1_1.done; setters_1_1 = setters_1.next()) {\n                var transformFn = setters_1_1.value;\n                value = transformFn(this, propertyKeyOrSymbol, value, oldValue);\n                if (value === BREAK_TRANSFORM_CHAIN) {\n                    return;\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (setters_1_1 && !setters_1_1.done && (_a = setters_1.return)) _a.call(setters_1);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        if (prevSet) {\n            prevSet.call(this, value);\n        }\n        else {\n            this[valueStoreKey] = value;\n        }\n    };\n    Object.defineProperty(target, propertyKeyOrSymbol, {\n        set: setter,\n        get: getter,\n        enumerable: true,\n        configurable: false,\n    });\n    return config[propertyKey];\n}\nexport function addTransformToInstanceProperty(setTransform, getTransform) {\n    return function (target, propertyKeyOrSymbol) {\n        var propertyKey = propertyKeyOrSymbol.toString();\n        var valueStoreKey = \"__\" + propertyKey;\n        var _a = initialiseConfig(target, propertyKeyOrSymbol, propertyKey, valueStoreKey), getters = _a.getters, setters = _a.setters;\n        setters.push(setTransform);\n        if (getTransform) {\n            getters.splice(0, 0, getTransform);\n        }\n    };\n}\n", "import { addTransformToInstanceProperty, BREAK_TRANSFORM_CHAIN } from './decorator';\nimport { Logger } from './logger';\nexport function createDeprecationWarning() {\n    return function (key, message) {\n        var msg = [\"Property [\" + key + \"] is deprecated.\", message].filter(function (v) { return v != null; }).join(' ');\n        Logger.warnOnce(msg);\n    };\n}\nexport function Deprecated(message, opts) {\n    var def = opts === null || opts === void 0 ? void 0 : opts.default;\n    var warn = createDeprecationWarning();\n    return addTransformToInstanceProperty(function (_, key, value) {\n        if (value !== def) {\n            warn(key.toString(), message);\n        }\n        return value;\n    });\n}\nexport function DeprecatedAndRenamedTo(newPropName, mapValue) {\n    var warnDeprecated = createDeprecationWarning();\n    return addTransformToInstanceProperty(function (target, key, value) {\n        if (value !== target[newPropName]) {\n            warnDeprecated(key.toString(), \"Use [\" + newPropName + \"] instead.\");\n            target[newPropName] = mapValue ? mapValue(value) : value;\n        }\n        return BREAK_TRANSFORM_CHAIN;\n    }, function (target, key) {\n        warnDeprecated(key.toString(), \"Use [\" + newPropName + \"] instead.\");\n        return target[newPropName];\n    });\n}\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { Logger } from './logger';\nvar Color = /** @class */ (function () {\n    /**\n     * Every color component should be in the [0, 1] range.\n     * Some easing functions (such as elastic easing) can overshoot the target value by some amount.\n     * So, when animating colors, if the source or target color components are already near\n     * or at the edge of the allowed [0, 1] range, it is possible for the intermediate color\n     * component value to end up outside of that range mid-animation. For this reason the constructor\n     * performs range checking/constraining.\n     * @param r Red component.\n     * @param g Green component.\n     * @param b Blue component.\n     * @param a Alpha (opacity) component.\n     */\n    function Color(r, g, b, a) {\n        if (a === void 0) { a = 1; }\n        // NaN is treated as 0.\n        this.r = Math.min(1, Math.max(0, r || 0));\n        this.g = Math.min(1, Math.max(0, g || 0));\n        this.b = Math.min(1, Math.max(0, b || 0));\n        this.a = Math.min(1, Math.max(0, a || 0));\n    }\n    /**\n     * A color string can be in one of the following formats to be valid:\n     * - #rgb\n     * - #rrggbb\n     * - rgb(r, g, b)\n     * - rgba(r, g, b, a)\n     * - CSS color name such as 'white', 'orange', 'cyan', etc.\n     */\n    Color.validColorString = function (str) {\n        if (str.indexOf('#') >= 0) {\n            return !!Color.parseHex(str);\n        }\n        if (str.indexOf('rgb') >= 0) {\n            return !!Color.stringToRgba(str);\n        }\n        return !!Color.nameToHex[str.toLowerCase()];\n    };\n    /**\n     * The given string can be in one of the following formats:\n     * - #rgb\n     * - #rrggbb\n     * - rgb(r, g, b)\n     * - rgba(r, g, b, a)\n     * - CSS color name such as 'white', 'orange', 'cyan', etc.\n     * @param str\n     */\n    Color.fromString = function (str) {\n        // hexadecimal notation\n        if (str.indexOf('#') >= 0) {\n            // there can be some leading whitespace\n            return Color.fromHexString(str);\n        }\n        // color name\n        var hex = Color.nameToHex[str.toLowerCase()];\n        if (hex) {\n            return Color.fromHexString(hex);\n        }\n        // rgb(a) notation\n        if (str.indexOf('rgb') >= 0) {\n            return Color.fromRgbaString(str);\n        }\n        throw new Error(\"Invalid color string: '\" + str + \"'\");\n    };\n    Color.tryParseFromString = function (str) {\n        try {\n            return Color.fromString(str);\n        }\n        catch (e) {\n            Logger.warnOnce(\"invalid color string: '\" + str + \"'.\");\n            return Color.fromArray([0, 0, 0]);\n        }\n    };\n    // See https://drafts.csswg.org/css-color/#hex-notation\n    Color.parseHex = function (input) {\n        input = input.replace(/ /g, '').slice(1);\n        var parts;\n        switch (input.length) {\n            case 6:\n            case 8:\n                parts = [];\n                for (var i = 0; i < input.length; i += 2) {\n                    parts.push(parseInt(\"\" + input[i] + input[i + 1], 16));\n                }\n                break;\n            case 3:\n            case 4:\n                parts = input\n                    .split('')\n                    .map(function (p) { return parseInt(p, 16); })\n                    .map(function (p) { return p + p * 16; });\n                break;\n        }\n        if ((parts === null || parts === void 0 ? void 0 : parts.length) >= 3) {\n            if (parts.every(function (p) { return p >= 0; })) {\n                if (parts.length === 3) {\n                    parts.push(255);\n                }\n                return parts;\n            }\n        }\n    };\n    Color.fromHexString = function (str) {\n        var values = Color.parseHex(str);\n        if (values) {\n            var _a = __read(values, 4), r = _a[0], g = _a[1], b = _a[2], a = _a[3];\n            return new Color(r / 255, g / 255, b / 255, a / 255);\n        }\n        throw new Error(\"Malformed hexadecimal color string: '\" + str + \"'\");\n    };\n    Color.stringToRgba = function (str) {\n        // Find positions of opening and closing parentheses.\n        var _a = __read([NaN, NaN], 2), po = _a[0], pc = _a[1];\n        for (var i = 0; i < str.length; i++) {\n            var c = str[i];\n            if (!po && c === '(') {\n                po = i;\n            }\n            else if (c === ')') {\n                pc = i;\n                break;\n            }\n        }\n        var contents = po && pc && str.substring(po + 1, pc);\n        if (!contents) {\n            return;\n        }\n        var parts = contents.split(',');\n        var rgba = [];\n        for (var i = 0; i < parts.length; i++) {\n            var part = parts[i];\n            var value = parseFloat(part);\n            if (isNaN(value)) {\n                return;\n            }\n            if (part.indexOf('%') >= 0) {\n                // percentage r, g, or b value\n                value = Math.max(0, Math.min(100, value));\n                value /= 100;\n            }\n            else {\n                if (i === 3) {\n                    // alpha component\n                    value = Math.max(0, Math.min(1, value));\n                }\n                else {\n                    // absolute r, g, or b value\n                    value = Math.max(0, Math.min(255, value));\n                    value /= 255;\n                }\n            }\n            rgba.push(value);\n        }\n        return rgba;\n    };\n    Color.fromRgbaString = function (str) {\n        var rgba = Color.stringToRgba(str);\n        if (rgba) {\n            if (rgba.length === 3) {\n                return new Color(rgba[0], rgba[1], rgba[2]);\n            }\n            else if (rgba.length === 4) {\n                return new Color(rgba[0], rgba[1], rgba[2], rgba[3]);\n            }\n        }\n        throw new Error(\"Malformed rgb/rgba color string: '\" + str + \"'\");\n    };\n    Color.fromArray = function (arr) {\n        if (arr.length === 4) {\n            return new Color(arr[0], arr[1], arr[2], arr[3]);\n        }\n        if (arr.length === 3) {\n            return new Color(arr[0], arr[1], arr[2]);\n        }\n        throw new Error('The given array should contain 3 or 4 color components (numbers).');\n    };\n    Color.fromHSB = function (h, s, b, alpha) {\n        if (alpha === void 0) { alpha = 1; }\n        var rgb = Color.HSBtoRGB(h, s, b);\n        return new Color(rgb[0], rgb[1], rgb[2], alpha);\n    };\n    Color.padHex = function (str) {\n        // Can't use `padStart(2, '0')` here because of IE.\n        return str.length === 1 ? '0' + str : str;\n    };\n    Color.prototype.toHexString = function () {\n        var hex = '#' +\n            Color.padHex(Math.round(this.r * 255).toString(16)) +\n            Color.padHex(Math.round(this.g * 255).toString(16)) +\n            Color.padHex(Math.round(this.b * 255).toString(16));\n        if (this.a < 1) {\n            hex += Color.padHex(Math.round(this.a * 255).toString(16));\n        }\n        return hex;\n    };\n    Color.prototype.toRgbaString = function (fractionDigits) {\n        if (fractionDigits === void 0) { fractionDigits = 3; }\n        var components = [Math.round(this.r * 255), Math.round(this.g * 255), Math.round(this.b * 255)];\n        var k = Math.pow(10, fractionDigits);\n        if (this.a !== 1) {\n            components.push(Math.round(this.a * k) / k);\n            return \"rgba(\" + components.join(', ') + \")\";\n        }\n        return \"rgb(\" + components.join(', ') + \")\";\n    };\n    Color.prototype.toString = function () {\n        if (this.a === 1) {\n            return this.toHexString();\n        }\n        return this.toRgbaString();\n    };\n    Color.prototype.toHSB = function () {\n        return Color.RGBtoHSB(this.r, this.g, this.b);\n    };\n    /**\n     * Converts the given RGB triple to an array of HSB (HSV) components.\n     * The hue component will be `NaN` for achromatic colors.\n     */\n    Color.RGBtoHSB = function (r, g, b) {\n        var min = Math.min(r, g, b);\n        var max = Math.max(r, g, b);\n        var S = max !== 0 ? (max - min) / max : 0;\n        var H = NaN;\n        // min == max, means all components are the same\n        // and the color is a shade of gray with no hue (H is NaN)\n        if (min !== max) {\n            var delta = max - min;\n            var rc = (max - r) / delta;\n            var gc_1 = (max - g) / delta;\n            var bc = (max - b) / delta;\n            if (r === max) {\n                H = bc - gc_1;\n            }\n            else if (g === max) {\n                H = 2.0 + rc - bc;\n            }\n            else {\n                H = 4.0 + gc_1 - rc;\n            }\n            H /= 6.0;\n            if (H < 0) {\n                H = H + 1.0;\n            }\n        }\n        return [H * 360, S, max];\n    };\n    /**\n     * Converts the given HSB (HSV) triple to an array of RGB components.\n     */\n    Color.HSBtoRGB = function (H, S, B) {\n        if (isNaN(H)) {\n            H = 0;\n        }\n        H = (((H % 360) + 360) % 360) / 360; // normalize hue to [0, 360] interval, then scale to [0, 1]\n        var r = 0;\n        var g = 0;\n        var b = 0;\n        if (S === 0) {\n            r = g = b = B;\n        }\n        else {\n            var h = (H - Math.floor(H)) * 6;\n            var f = h - Math.floor(h);\n            var p = B * (1 - S);\n            var q = B * (1 - S * f);\n            var t = B * (1 - S * (1 - f));\n            switch (h >> 0 // discard the floating point part of the number\n            ) {\n                case 0:\n                    r = B;\n                    g = t;\n                    b = p;\n                    break;\n                case 1:\n                    r = q;\n                    g = B;\n                    b = p;\n                    break;\n                case 2:\n                    r = p;\n                    g = B;\n                    b = t;\n                    break;\n                case 3:\n                    r = p;\n                    g = q;\n                    b = B;\n                    break;\n                case 4:\n                    r = t;\n                    g = p;\n                    b = B;\n                    break;\n                case 5:\n                    r = B;\n                    g = p;\n                    b = q;\n                    break;\n            }\n        }\n        return [r, g, b];\n    };\n    Color.prototype.derive = function (hueShift, saturationFactor, brightnessFactor, opacityFactor) {\n        var hsb = Color.RGBtoHSB(this.r, this.g, this.b);\n        var b = hsb[2];\n        if (b == 0 && brightnessFactor > 1.0) {\n            b = 0.05;\n        }\n        var h = (((hsb[0] + hueShift) % 360) + 360) % 360;\n        var s = Math.max(Math.min(hsb[1] * saturationFactor, 1.0), 0.0);\n        b = Math.max(Math.min(b * brightnessFactor, 1.0), 0.0);\n        var a = Math.max(Math.min(this.a * opacityFactor, 1.0), 0.0);\n        var rgba = Color.HSBtoRGB(h, s, b);\n        rgba.push(a);\n        return Color.fromArray(rgba);\n    };\n    Color.prototype.brighter = function () {\n        return this.derive(0, 1.0, 1.0 / 0.7, 1.0);\n    };\n    Color.prototype.darker = function () {\n        return this.derive(0, 1.0, 0.7, 1.0);\n    };\n    /**\n     * CSS Color Module Level 4:\n     * https://drafts.csswg.org/css-color/#named-colors\n     */\n    Color.nameToHex = Object.freeze({\n        aliceblue: '#F0F8FF',\n        antiquewhite: '#FAEBD7',\n        aqua: '#00FFFF',\n        aquamarine: '#7FFFD4',\n        azure: '#F0FFFF',\n        beige: '#F5F5DC',\n        bisque: '#FFE4C4',\n        black: '#000000',\n        blanchedalmond: '#FFEBCD',\n        blue: '#0000FF',\n        blueviolet: '#8A2BE2',\n        brown: '#A52A2A',\n        burlywood: '#DEB887',\n        cadetblue: '#5F9EA0',\n        chartreuse: '#7FFF00',\n        chocolate: '#D2691E',\n        coral: '#FF7F50',\n        cornflowerblue: '#6495ED',\n        cornsilk: '#FFF8DC',\n        crimson: '#DC143C',\n        cyan: '#00FFFF',\n        darkblue: '#00008B',\n        darkcyan: '#008B8B',\n        darkgoldenrod: '#B8860B',\n        darkgray: '#A9A9A9',\n        darkgreen: '#006400',\n        darkgrey: '#A9A9A9',\n        darkkhaki: '#BDB76B',\n        darkmagenta: '#8B008B',\n        darkolivegreen: '#556B2F',\n        darkorange: '#FF8C00',\n        darkorchid: '#9932CC',\n        darkred: '#8B0000',\n        darksalmon: '#E9967A',\n        darkseagreen: '#8FBC8F',\n        darkslateblue: '#483D8B',\n        darkslategray: '#2F4F4F',\n        darkslategrey: '#2F4F4F',\n        darkturquoise: '#00CED1',\n        darkviolet: '#9400D3',\n        deeppink: '#FF1493',\n        deepskyblue: '#00BFFF',\n        dimgray: '#696969',\n        dimgrey: '#696969',\n        dodgerblue: '#1E90FF',\n        firebrick: '#B22222',\n        floralwhite: '#FFFAF0',\n        forestgreen: '#228B22',\n        fuchsia: '#FF00FF',\n        gainsboro: '#DCDCDC',\n        ghostwhite: '#F8F8FF',\n        gold: '#FFD700',\n        goldenrod: '#DAA520',\n        gray: '#808080',\n        green: '#008000',\n        greenyellow: '#ADFF2F',\n        grey: '#808080',\n        honeydew: '#F0FFF0',\n        hotpink: '#FF69B4',\n        indianred: '#CD5C5C',\n        indigo: '#4B0082',\n        ivory: '#FFFFF0',\n        khaki: '#F0E68C',\n        lavender: '#E6E6FA',\n        lavenderblush: '#FFF0F5',\n        lawngreen: '#7CFC00',\n        lemonchiffon: '#FFFACD',\n        lightblue: '#ADD8E6',\n        lightcoral: '#F08080',\n        lightcyan: '#E0FFFF',\n        lightgoldenrodyellow: '#FAFAD2',\n        lightgray: '#D3D3D3',\n        lightgreen: '#90EE90',\n        lightgrey: '#D3D3D3',\n        lightpink: '#FFB6C1',\n        lightsalmon: '#FFA07A',\n        lightseagreen: '#20B2AA',\n        lightskyblue: '#87CEFA',\n        lightslategray: '#778899',\n        lightslategrey: '#778899',\n        lightsteelblue: '#B0C4DE',\n        lightyellow: '#FFFFE0',\n        lime: '#00FF00',\n        limegreen: '#32CD32',\n        linen: '#FAF0E6',\n        magenta: '#FF00FF',\n        maroon: '#800000',\n        mediumaquamarine: '#66CDAA',\n        mediumblue: '#0000CD',\n        mediumorchid: '#BA55D3',\n        mediumpurple: '#9370DB',\n        mediumseagreen: '#3CB371',\n        mediumslateblue: '#7B68EE',\n        mediumspringgreen: '#00FA9A',\n        mediumturquoise: '#48D1CC',\n        mediumvioletred: '#C71585',\n        midnightblue: '#191970',\n        mintcream: '#F5FFFA',\n        mistyrose: '#FFE4E1',\n        moccasin: '#FFE4B5',\n        navajowhite: '#FFDEAD',\n        navy: '#000080',\n        oldlace: '#FDF5E6',\n        olive: '#808000',\n        olivedrab: '#6B8E23',\n        orange: '#FFA500',\n        orangered: '#FF4500',\n        orchid: '#DA70D6',\n        palegoldenrod: '#EEE8AA',\n        palegreen: '#98FB98',\n        paleturquoise: '#AFEEEE',\n        palevioletred: '#DB7093',\n        papayawhip: '#FFEFD5',\n        peachpuff: '#FFDAB9',\n        peru: '#CD853F',\n        pink: '#FFC0CB',\n        plum: '#DDA0DD',\n        powderblue: '#B0E0E6',\n        purple: '#800080',\n        rebeccapurple: '#663399',\n        red: '#FF0000',\n        rosybrown: '#BC8F8F',\n        royalblue: '#4169E1',\n        saddlebrown: '#8B4513',\n        salmon: '#FA8072',\n        sandybrown: '#F4A460',\n        seagreen: '#2E8B57',\n        seashell: '#FFF5EE',\n        sienna: '#A0522D',\n        silver: '#C0C0C0',\n        skyblue: '#87CEEB',\n        slateblue: '#6A5ACD',\n        slategray: '#708090',\n        slategrey: '#708090',\n        snow: '#FFFAFA',\n        springgreen: '#00FF7F',\n        steelblue: '#4682B4',\n        tan: '#D2B48C',\n        teal: '#008080',\n        thistle: '#D8BFD8',\n        tomato: '#FF6347',\n        transparent: '#00000000',\n        turquoise: '#40E0D0',\n        violet: '#EE82EE',\n        wheat: '#F5DEB3',\n        white: '#FFFFFF',\n        whitesmoke: '#F5F5F5',\n        yellow: '#FFFF00',\n        yellowgreen: '#9ACD32',\n    });\n    return Color;\n}());\nexport { Color };\n", "import { Color } from './color';\nimport { addTransformToInstanceProperty, BREAK_TRANSFORM_CHAIN } from './decorator';\nimport { Logger } from './logger';\nexport function Validate(predicate) {\n    return addTransformToInstanceProperty(function (target, prop, v) {\n        var _a, _b, _c;\n        if (predicate(v, { target: target })) {\n            return v;\n        }\n        var cleanKey = prop.toString().replace(/^_*/, '');\n        var targetClass = (_b = (_a = target.constructor) === null || _a === void 0 ? void 0 : _a.className) !== null && _b !== void 0 ? _b : (_c = target.constructor) === null || _c === void 0 ? void 0 : _c.name;\n        if ((targetClass === null || targetClass === void 0 ? void 0 : targetClass.length) < 3) {\n            targetClass = null;\n        }\n        var targetClassName = targetClass ? \"of [\" + targetClass + \"] \" : '';\n        if (predicate.message) {\n            Logger.warn(\"Property [\" + cleanKey + \"] \" + targetClassName + \"cannot be set to [\" + JSON.stringify(v) + \"]; \" + predicate.message + \", ignoring.\");\n        }\n        else {\n            Logger.warn(\"Property [\" + cleanKey + \"] \" + targetClassName + \"cannot be set to [\" + JSON.stringify(v) + \"], ignoring.\");\n        }\n        return BREAK_TRANSFORM_CHAIN;\n    });\n}\nexport function predicateWithMessage(predicate, message) {\n    predicate.message = message;\n    return predicate;\n}\nexport var OPTIONAL = function (v, ctx, predicate) {\n    return v === undefined || predicate(v, ctx);\n};\nexport var ARRAY = function (length, predicate) {\n    return predicateWithMessage(function (v, ctx) {\n        return Array.isArray(v) &&\n            (length ? v.length === length : true) &&\n            (predicate ? v.every(function (e) { return predicate(e, ctx); }) : true);\n    }, \"expecting an Array\");\n};\nexport var OPT_ARRAY = function (length) {\n    return predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, ARRAY(length)); }, 'expecting an optional Array');\n};\nexport var AND = function () {\n    var predicates = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        predicates[_i] = arguments[_i];\n    }\n    return predicateWithMessage(function (v, ctx) { return predicates.every(function (p) { return p(v, ctx); }); }, predicates\n        .map(function (p) { return p.message; })\n        .filter(function (m) { return m != null; })\n        .join(' AND '));\n};\nexport var OR = function () {\n    var predicates = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        predicates[_i] = arguments[_i];\n    }\n    return predicateWithMessage(function (v, ctx) { return predicates.some(function (p) { return p(v, ctx); }); }, predicates\n        .map(function (p) { return p.message; })\n        .filter(function (m) { return m != null; })\n        .join(' OR '));\n};\nvar isComparable = function (v) {\n    return v != null && !isNaN(v);\n};\nexport var LESS_THAN = function (otherField) {\n    return predicateWithMessage(function (v, ctx) {\n        return !isComparable(v) || !isComparable(ctx.target[otherField]) || v < ctx.target[otherField];\n    }, \"expected to be less than \" + otherField);\n};\nexport var GREATER_THAN = function (otherField) {\n    return predicateWithMessage(function (v, ctx) {\n        return !isComparable(v) || !isComparable(ctx.target[otherField]) || v > ctx.target[otherField];\n    }, \"expected to be greater than \" + otherField);\n};\nexport var FUNCTION = predicateWithMessage(function (v) { return typeof v === 'function'; }, 'expecting a Function');\nexport var OPT_FUNCTION = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, FUNCTION); }, \"expecting an optional Function\");\nexport var BOOLEAN = predicateWithMessage(function (v) { return v === true || v === false; }, 'expecting a Boolean');\nexport var OPT_BOOLEAN = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, BOOLEAN); }, 'expecting an optional Boolean');\nexport var STRING = predicateWithMessage(function (v) { return typeof v === 'string'; }, 'expecting a String');\nexport var OPT_STRING = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, STRING); }, 'expecting an optional String');\nexport var DATE = predicateWithMessage(function (v) { return v instanceof Date && !isNaN(+v); }, 'expecting a Date object');\nexport var OPT_DATE = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, DATE); }, 'expecting an optional Date');\nexport var DATE_ARRAY = predicateWithMessage(ARRAY(undefined, DATE), 'expecting an Array of Date objects');\nexport var DATETIME_MS = NUMBER(0);\nexport var OPT_DATETIME_MS = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, DATETIME_MS); }, 'expecting an optional number');\nexport var OPT_DATE_OR_DATETIME_MS = OR(OPT_DATE, OPT_DATETIME_MS);\nvar colorMessage = \"A color string can be in one of the following formats to be valid: #rgb, #rrggbb, rgb(r, g, b), rgba(r, g, b, a) or a CSS color name such as 'white', 'orange', 'cyan', etc\";\nexport var COLOR_STRING = predicateWithMessage(function (v) {\n    if (typeof v !== 'string') {\n        return false;\n    }\n    return Color.validColorString(v);\n}, \"expecting a color String. \" + colorMessage);\nexport var OPT_COLOR_STRING = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, COLOR_STRING); }, \"expecting an optional color String. \" + colorMessage);\nexport var COLOR_STRING_ARRAY = predicateWithMessage(ARRAY(undefined, COLOR_STRING), \"expecting an Array of color strings. \" + colorMessage);\nexport var OPT_COLOR_STRING_ARRAY = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, COLOR_STRING_ARRAY); }, \"expecting an optional Array of color strings. \" + colorMessage);\nexport function NUMBER(min, max) {\n    var message = \"expecting a finite Number\" + ((min !== undefined ? ', more than or equal to ' + min : '') +\n        (max !== undefined ? ', less than or equal to ' + max : ''));\n    return predicateWithMessage(function (v) {\n        return typeof v === 'number' &&\n            Number.isFinite(v) &&\n            (min !== undefined ? v >= min : true) &&\n            (max !== undefined ? v <= max : true);\n    }, message);\n}\nexport function OPT_NUMBER(min, max) {\n    var message = \"expecting an optional finite Number\" + ((min !== undefined ? ', more than or equal to ' + min : '') +\n        (max !== undefined ? ', less than or equal to ' + max : ''));\n    return predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, NUMBER(min, max)); }, message);\n}\nexport function NUMBER_OR_NAN(min, max) {\n    // Can be NaN or finite number\n    var message = \"expecting a finite Number\" + ((min !== undefined ? ', more than or equal to ' + min : '') +\n        (max !== undefined ? ', less than or equal to ' + max : ''));\n    return predicateWithMessage(function (v) {\n        return typeof v === 'number' &&\n            (isNaN(v) ||\n                (Number.isFinite(v) && (min !== undefined ? v >= min : true) && (max !== undefined ? v <= max : true)));\n    }, message);\n}\nexport var NUMBER_ARRAY = predicateWithMessage(ARRAY(undefined, NUMBER()), 'expecting an Array of numbers');\nexport var OPT_NUMBER_ARRAY = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, NUMBER_ARRAY); }, 'expecting an optional Array of numbers');\nexport var STRING_ARRAY = predicateWithMessage(ARRAY(undefined, STRING), 'expecting an Array of strings');\nexport var OPT_STRING_ARRAY = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, STRING_ARRAY); }, 'expecting an optional Array of strings');\nexport function STRING_UNION() {\n    var values = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        values[_i] = arguments[_i];\n    }\n    var message = \"expecting one of: \" + values.join(', ');\n    return predicateWithMessage(function (v) { return typeof v === 'string' && values.indexOf(v) >= 0; }, message);\n}\nexport var BOOLEAN_ARRAY = predicateWithMessage(ARRAY(undefined, BOOLEAN), 'expecting an Array of boolean values');\nexport var OPT_BOOLEAN_ARRAY = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, BOOLEAN_ARRAY); }, 'expecting an optional Array of boolean values');\nvar FONT_WEIGHTS = [\n    'normal',\n    'bold',\n    'bolder',\n    'lighter',\n    '100',\n    '200',\n    '300',\n    '400',\n    '500',\n    '600',\n    '700',\n    '800',\n    '900',\n];\nexport var FONT_STYLE = predicateWithMessage(function (v) { return v === 'normal' || v === 'italic' || v === 'oblique'; }, \"expecting a font style keyword such as 'normal', 'italic' or 'oblique'\");\nexport var OPT_FONT_STYLE = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, FONT_STYLE); }, \"expecting an optional font style keyword such as 'normal', 'italic' or 'oblique'\");\nexport var FONT_WEIGHT = predicateWithMessage(function (v) { return FONT_WEIGHTS.includes(v); }, \"expecting a font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600\");\nexport var OPT_FONT_WEIGHT = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, FONT_WEIGHT); }, \"expecting an optional font weight keyword such as 'normal', 'bold' or 'bolder' or a numeric value such as 100, 300 or 600\");\nexport var LINE_DASH = predicateWithMessage(ARRAY(undefined, NUMBER(0)), 'expecting an Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels.');\nexport var OPT_LINE_DASH = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, LINE_DASH); }, 'expecting an optional Array of numbers specifying the length in pixels of alternating dashes and gaps, for example, [6, 3] means dashes with a length of 6 pixels with gaps between of 3 pixels.');\nvar LINE_CAPS = ['butt', 'round', 'square'];\nexport var LINE_CAP = predicateWithMessage(function (v) { return LINE_CAPS.includes(v); }, \"expecting a line cap keyword such as 'butt', 'round' or 'square'\");\nexport var OPT_LINE_CAP = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, LINE_CAP); }, \"expecting an optional line cap keyword such as 'butt', 'round' or 'square'\");\nvar LINE_JOINS = ['round', 'bevel', 'miter'];\nexport var LINE_JOIN = predicateWithMessage(function (v) { return LINE_JOINS.includes(v); }, \"expecting a line join keyword such as 'round', 'bevel' or 'miter'\");\nexport var OPT_LINE_JOIN = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, LINE_JOIN); }, \"expecting an optional line join keyword such as 'round', 'bevel' or 'miter'\");\nvar POSITIONS = ['top', 'right', 'bottom', 'left'];\nexport var POSITION = predicateWithMessage(function (v) { return POSITIONS.includes(v); }, \"expecting a position keyword such as 'top', 'right', 'bottom' or 'left\");\nvar INTERACTION_RANGES = ['exact', 'nearest'];\nexport var INTERACTION_RANGE = predicateWithMessage(function (v) { return (typeof v === 'number' && Number.isFinite(v)) || INTERACTION_RANGES.includes(v); }, \"expecting an interaction range of 'exact', 'nearest' or a number\");\n", "/**\n * Constants to declare the expected nominal zIndex for all types of layer in chart rendering.\n */\nexport var Layers;\n(function (Layers) {\n    Layers[Layers[\"SERIES_BACKGROUND_ZINDEX\"] = -10] = \"SERIES_BACKGROUND_ZINDEX\";\n    Layers[Layers[\"AXIS_GRID_ZINDEX\"] = 0] = \"AXIS_GRID_ZINDEX\";\n    Layers[Layers[\"AXIS_ZINDEX\"] = 20] = \"AXIS_ZINDEX\";\n    Layers[Layers[\"SERIES_CROSSLINE_RANGE_ZINDEX\"] = 30] = \"SERIES_CROSSLINE_RANGE_ZINDEX\";\n    Layers[Layers[\"SERIES_LAYER_ZINDEX\"] = 500] = \"SERIES_LAYER_ZINDEX\";\n    Layers[Layers[\"SERIES_CROSSHAIR_ZINDEX\"] = 1000] = \"SERIES_CROSSHAIR_ZINDEX\";\n    Layers[Layers[\"SERIES_LABEL_ZINDEX\"] = 1500] = \"SERIES_LABEL_ZINDEX\";\n    Layers[Layers[\"SERIES_CROSSLINE_LINE_ZINDEX\"] = 2500] = \"SERIES_CROSSLINE_LINE_ZINDEX\";\n    Layers[Layers[\"LEGEND_ZINDEX\"] = 3000] = \"LEGEND_ZINDEX\";\n})(Layers || (Layers = {}));\n", "export var ChartAxisDirection;\n(function (ChartAxisDirection) {\n    ChartAxisDirection[\"X\"] = \"x\";\n    ChartAxisDirection[\"Y\"] = \"y\";\n})(ChartAxisDirection || (ChartAxisDirection = {}));\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { BBox } from '../../scene/bbox';\nimport { DeprecatedAndRenamedTo } from '../../util/deprecation';\nimport { Validate, BOOLEAN, NUMBER, OPT_STRING, INTERACTION_RANGE, predicateWithMessage } from '../../util/validation';\nexport var DEFAULT_TOOLTIP_CLASS = 'ag-chart-tooltip';\nvar defaultTooltipCss = \"\\n.\" + DEFAULT_TOOLTIP_CLASS + \" {\\n    transition: transform 0.1s ease;\\n    display: table;\\n    position: fixed;\\n    left: 0px;\\n    top: 0px;\\n    white-space: nowrap;\\n    z-index: 99999;\\n    font: 12px Verdana, sans-serif;\\n    color: black;\\n    background: rgb(244, 244, 244);\\n    border-radius: 5px;\\n    box-shadow: 0 0 1px rgba(3, 3, 3, 0.7), 0.5vh 0.5vh 1vh rgba(3, 3, 3, 0.25);\\n}\\n\\n.\" + DEFAULT_TOOLTIP_CLASS + \"-no-interaction {\\n    pointer-events: none;\\n    user-select: none;\\n}\\n\\n.\" + DEFAULT_TOOLTIP_CLASS + \"-no-animation {\\n    transition: none !important;\\n}\\n\\n.\" + DEFAULT_TOOLTIP_CLASS + \"-hidden {\\n    visibility: hidden;\\n}\\n\\n.\" + DEFAULT_TOOLTIP_CLASS + \"-title {\\n    font-weight: bold;\\n    padding: 7px;\\n    border-top-left-radius: 5px;\\n    border-top-right-radius: 5px;\\n    color: white;\\n    background-color: #888888;\\n    border-top-left-radius: 5px;\\n    border-top-right-radius: 5px;\\n}\\n\\n.\" + DEFAULT_TOOLTIP_CLASS + \"-content {\\n    padding: 7px;\\n    line-height: 1.7em;\\n    border-bottom-left-radius: 5px;\\n    border-bottom-right-radius: 5px;\\n    overflow: hidden;\\n}\\n\\n.\" + DEFAULT_TOOLTIP_CLASS + \"-content:empty {\\n    padding: 0;\\n    height: 7px;\\n}\\n\\n.\" + DEFAULT_TOOLTIP_CLASS + \"-arrow::before {\\n    content: \\\"\\\";\\n\\n    position: absolute;\\n    top: 100%;\\n    left: 50%;\\n    transform: translateX(-50%);\\n\\n    border: 6px solid #989898;\\n\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-top-color: #989898;\\n    border-bottom-color: transparent;\\n\\n    width: 0;\\n    height: 0;\\n\\n    margin: 0 auto;\\n}\\n\\n.\" + DEFAULT_TOOLTIP_CLASS + \"-arrow::after {\\n    content: \\\"\\\";\\n\\n    position: absolute;\\n    top: 100%;\\n    left: 50%;\\n    transform: translateX(-50%);\\n\\n    border: 5px solid black;\\n\\n    border-left-color: transparent;\\n    border-right-color: transparent;\\n    border-top-color: rgb(244, 244, 244);\\n    border-bottom-color: transparent;\\n\\n    width: 0;\\n    height: 0;\\n\\n    margin: 0 auto;\\n}\\n\\n.ag-chart-wrapper {\\n    box-sizing: border-box;\\n    overflow: hidden;\\n}\\n\";\nexport function toTooltipHtml(input, defaults) {\n    if (typeof input === 'string') {\n        return input;\n    }\n    defaults = defaults || {};\n    var _a = input.content, content = _a === void 0 ? defaults.content || '' : _a, _b = input.title, title = _b === void 0 ? defaults.title || undefined : _b, _c = input.color, color = _c === void 0 ? defaults.color || 'white' : _c, _d = input.backgroundColor, backgroundColor = _d === void 0 ? defaults.backgroundColor || '#888' : _d;\n    var titleHtml = title\n        ? \"<div class=\\\"\" + DEFAULT_TOOLTIP_CLASS + \"-title\\\"\\n        style=\\\"color: \" + color + \"; background-color: \" + backgroundColor + \"\\\">\" + title + \"</div>\"\n        : '';\n    return titleHtml + \"<div class=\\\"\" + DEFAULT_TOOLTIP_CLASS + \"-content\\\">\" + content + \"</div>\";\n}\nvar POSITION_TYPES = ['pointer', 'node'];\nexport var POSITION_TYPE = predicateWithMessage(function (v) { return POSITION_TYPES.includes(v); }, \"expecting a position type keyword such as 'pointer' or 'node'\");\nvar TooltipPosition = /** @class */ (function () {\n    function TooltipPosition() {\n        /** The type of positioning for the tooltip. By default, the tooltip follows the pointer. */\n        this.type = 'pointer';\n        /** The horizontal offset in pixels for the position of the tooltip. */\n        this.xOffset = 0;\n        /** The vertical offset in pixels for the position of the tooltip. */\n        this.yOffset = 0;\n    }\n    __decorate([\n        Validate(POSITION_TYPE)\n    ], TooltipPosition.prototype, \"type\", void 0);\n    __decorate([\n        Validate(NUMBER())\n    ], TooltipPosition.prototype, \"xOffset\", void 0);\n    __decorate([\n        Validate(NUMBER())\n    ], TooltipPosition.prototype, \"yOffset\", void 0);\n    return TooltipPosition;\n}());\nexport { TooltipPosition };\nvar Tooltip = /** @class */ (function () {\n    function Tooltip(canvasElement, document, container) {\n        var _this = this;\n        this.enableInteraction = false;\n        this.enabled = true;\n        this.class = undefined;\n        this.lastClass = undefined;\n        this.delay = 0;\n        this.range = 'nearest';\n        this.position = new TooltipPosition();\n        this.showTimeout = 0;\n        this.showArrow = true;\n        this.tooltipRoot = container;\n        var element = document.createElement('div');\n        this.element = this.tooltipRoot.appendChild(element);\n        this.element.classList.add(DEFAULT_TOOLTIP_CLASS);\n        this.canvasElement = canvasElement;\n        // Detect when the chart becomes invisible and hide the tooltip as well.\n        if (window.IntersectionObserver) {\n            var observer = new IntersectionObserver(function (entries) {\n                var e_1, _a;\n                try {\n                    for (var entries_1 = __values(entries), entries_1_1 = entries_1.next(); !entries_1_1.done; entries_1_1 = entries_1.next()) {\n                        var entry = entries_1_1.value;\n                        if (entry.target === _this.canvasElement && entry.intersectionRatio === 0) {\n                            _this.toggle(false);\n                        }\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (entries_1_1 && !entries_1_1.done && (_a = entries_1.return)) _a.call(entries_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            }, { root: this.tooltipRoot });\n            observer.observe(this.canvasElement);\n            this.observer = observer;\n        }\n        if (Tooltip.tooltipDocuments.indexOf(document) < 0) {\n            var styleElement = document.createElement('style');\n            styleElement.innerHTML = defaultTooltipCss;\n            // Make sure the default tooltip style goes before other styles so it can be overridden.\n            document.head.insertBefore(styleElement, document.head.querySelector('style'));\n            Tooltip.tooltipDocuments.push(document);\n        }\n    }\n    Tooltip.prototype.destroy = function () {\n        var parentNode = this.element.parentNode;\n        if (parentNode) {\n            parentNode.removeChild(this.element);\n        }\n        if (this.observer) {\n            this.observer.unobserve(this.canvasElement);\n        }\n    };\n    Tooltip.prototype.isVisible = function () {\n        var element = this.element;\n        return !element.classList.contains(DEFAULT_TOOLTIP_CLASS + '-hidden');\n    };\n    Tooltip.prototype.updateClass = function (visible, showArrow) {\n        var _a = this, element = _a.element, newClass = _a.class, lastClass = _a.lastClass, enableInteraction = _a.enableInteraction;\n        var wasVisible = this.isVisible();\n        var toggleClass = function (name, include) {\n            var className = DEFAULT_TOOLTIP_CLASS + \"-\" + name;\n            if (include) {\n                element.classList.add(className);\n            }\n            else {\n                element.classList.remove(className);\n            }\n        };\n        toggleClass('no-animation', !wasVisible && !!visible); // No animation on first show.\n        toggleClass('no-interaction', !enableInteraction); // Prevent interaction.\n        toggleClass('hidden', !visible); // Hide if not visible.\n        toggleClass('arrow', !!showArrow); // Add arrow if tooltip is constrained.\n        if (newClass !== lastClass) {\n            if (lastClass) {\n                element.classList.remove(lastClass);\n            }\n            if (newClass) {\n                element.classList.add(newClass);\n            }\n            this.lastClass = newClass;\n        }\n    };\n    /**\n     * Shows tooltip at the given event's coordinates.\n     * If the `html` parameter is missing, moves the existing tooltip to the new position.\n     */\n    Tooltip.prototype.show = function (meta, html, instantly) {\n        var _this = this;\n        var _a, _b, _c, _d, _e;\n        if (instantly === void 0) { instantly = false; }\n        var _f = this, element = _f.element, canvasElement = _f.canvasElement;\n        if (html !== undefined) {\n            element.innerHTML = html;\n        }\n        else if (!element.innerHTML) {\n            return;\n        }\n        var limit = function (low, actual, high) {\n            return Math.max(Math.min(actual, high), low);\n        };\n        var xOffset = (_b = (_a = meta.position) === null || _a === void 0 ? void 0 : _a.xOffset) !== null && _b !== void 0 ? _b : 0;\n        var yOffset = (_d = (_c = meta.position) === null || _c === void 0 ? void 0 : _c.yOffset) !== null && _d !== void 0 ? _d : 0;\n        var canvasRect = canvasElement.getBoundingClientRect();\n        var naiveLeft = canvasRect.left + meta.offsetX - element.clientWidth / 2 + xOffset;\n        var naiveTop = canvasRect.top + meta.offsetY - element.clientHeight - 8 + yOffset;\n        var windowBounds = this.getWindowBoundingBox();\n        var maxLeft = windowBounds.x + windowBounds.width - element.clientWidth - 1;\n        var maxTop = windowBounds.y + windowBounds.height - element.clientHeight;\n        var left = limit(windowBounds.x, naiveLeft, maxLeft);\n        var top = limit(windowBounds.y, naiveTop, maxTop);\n        var offsetApplied = xOffset !== 0 || yOffset !== 0;\n        var constrained = left !== naiveLeft || top !== naiveTop;\n        this.showArrow = !constrained && !offsetApplied;\n        element.style.transform = \"translate(\" + Math.round(left) + \"px, \" + Math.round(top) + \"px)\";\n        this.enableInteraction = (_e = meta.enableInteraction) !== null && _e !== void 0 ? _e : false;\n        if (this.delay > 0 && !instantly) {\n            this.toggle(false);\n            this.showTimeout = window.setTimeout(function () {\n                _this.toggle(true);\n            }, this.delay);\n            return;\n        }\n        this.toggle(true);\n    };\n    Tooltip.prototype.getWindowBoundingBox = function () {\n        return new BBox(0, 0, window.innerWidth, window.innerHeight);\n    };\n    Tooltip.prototype.toggle = function (visible) {\n        if (!visible) {\n            window.clearTimeout(this.showTimeout);\n        }\n        this.updateClass(visible, this.showArrow);\n    };\n    Tooltip.prototype.pointerLeftOntoTooltip = function (event) {\n        var _a;\n        if (!this.enableInteraction)\n            return false;\n        var classList = (_a = event.sourceEvent.relatedTarget) === null || _a === void 0 ? void 0 : _a.classList;\n        var classes = ['', '-title', '-content'];\n        var classListContains = Boolean(classes.filter(function (c) { return classList === null || classList === void 0 ? void 0 : classList.contains(\"\" + DEFAULT_TOOLTIP_CLASS + c); }));\n        return classList !== undefined && classListContains;\n    };\n    Tooltip.tooltipDocuments = [];\n    __decorate([\n        Validate(BOOLEAN)\n    ], Tooltip.prototype, \"enabled\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], Tooltip.prototype, \"class\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], Tooltip.prototype, \"delay\", void 0);\n    __decorate([\n        DeprecatedAndRenamedTo('range', function (value) { return (value ? 'nearest' : 'exact'); })\n    ], Tooltip.prototype, \"tracking\", void 0);\n    __decorate([\n        Validate(INTERACTION_RANGE)\n    ], Tooltip.prototype, \"range\", void 0);\n    return Tooltip;\n}());\nexport { Tooltip };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { Group } from '../../scene/group';\nimport { Observable } from '../../util/observable';\nimport { createId } from '../../util/id';\nimport { checkDatum, isNumber } from '../../util/value';\nimport { createDeprecationWarning } from '../../util/deprecation';\nimport { BOOLEAN, OPT_BOOLEAN, OPT_NUMBER, OPT_COLOR_STRING, INTERACTION_RANGE, STRING, Validate, } from '../../util/validation';\nimport { Layers } from '../layers';\nimport { ChartAxisDirection } from '../chartAxisDirection';\nimport { TooltipPosition } from '../tooltip/tooltip';\n/** Modes of matching user interactions to rendered nodes (e.g. hover or click) */\nexport var SeriesNodePickMode;\n(function (SeriesNodePickMode) {\n    /** Pick matches based upon pick coordinates being inside a matching shape/marker. */\n    SeriesNodePickMode[SeriesNodePickMode[\"EXACT_SHAPE_MATCH\"] = 0] = \"EXACT_SHAPE_MATCH\";\n    /** Pick matches by nearest category/X-axis value, then distance within that category/X-value. */\n    SeriesNodePickMode[SeriesNodePickMode[\"NEAREST_BY_MAIN_AXIS_FIRST\"] = 1] = \"NEAREST_BY_MAIN_AXIS_FIRST\";\n    /** Pick matches by nearest category value, then distance within that category. */\n    SeriesNodePickMode[SeriesNodePickMode[\"NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST\"] = 2] = \"NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST\";\n    /** Pick matches based upon distance to ideal position */\n    SeriesNodePickMode[SeriesNodePickMode[\"NEAREST_NODE\"] = 3] = \"NEAREST_NODE\";\n})(SeriesNodePickMode || (SeriesNodePickMode = {}));\nvar warnDeprecated = createDeprecationWarning();\nvar warnSeriesDeprecated = function () { return warnDeprecated('series', 'Use seriesId to get the series ID'); };\nexport function keyProperty(propName, continuous, opts) {\n    if (opts === void 0) { opts = {}; }\n    var result = __assign(__assign({}, opts), { property: propName, type: 'key', valueType: continuous ? 'range' : 'category', validation: function (v) { return checkDatum(v, continuous) != null; } });\n    return result;\n}\nexport function valueProperty(propName, continuous, opts) {\n    if (opts === void 0) { opts = {}; }\n    var result = __assign(__assign({}, opts), { property: propName, type: 'value', valueType: continuous ? 'range' : 'category', validation: function (v) { return checkDatum(v, continuous) != null; } });\n    return result;\n}\nexport function sumProperties(props) {\n    var result = {\n        properties: props,\n        type: 'sum',\n    };\n    return result;\n}\nvar SeriesNodeBaseClickEvent = /** @class */ (function () {\n    function SeriesNodeBaseClickEvent(nativeEvent, datum, series) {\n        this.type = 'nodeClick';\n        this.event = nativeEvent;\n        this.datum = datum.datum;\n        this.seriesId = series.id;\n        this._series = series;\n    }\n    Object.defineProperty(SeriesNodeBaseClickEvent.prototype, \"series\", {\n        /** @deprecated */\n        get: function () {\n            warnSeriesDeprecated();\n            return this._series;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return SeriesNodeBaseClickEvent;\n}());\nexport { SeriesNodeBaseClickEvent };\nvar SeriesNodeClickEvent = /** @class */ (function (_super) {\n    __extends(SeriesNodeClickEvent, _super);\n    function SeriesNodeClickEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return SeriesNodeClickEvent;\n}(SeriesNodeBaseClickEvent));\nexport { SeriesNodeClickEvent };\nvar SeriesNodeDoubleClickEvent = /** @class */ (function (_super) {\n    __extends(SeriesNodeDoubleClickEvent, _super);\n    function SeriesNodeDoubleClickEvent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'nodeDoubleClick';\n        return _this;\n    }\n    return SeriesNodeDoubleClickEvent;\n}(SeriesNodeBaseClickEvent));\nexport { SeriesNodeDoubleClickEvent };\nvar SeriesItemHighlightStyle = /** @class */ (function () {\n    function SeriesItemHighlightStyle() {\n        this.fill = 'yellow';\n        this.fillOpacity = undefined;\n        this.stroke = undefined;\n        this.strokeWidth = undefined;\n    }\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], SeriesItemHighlightStyle.prototype, \"fill\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0, 1))\n    ], SeriesItemHighlightStyle.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], SeriesItemHighlightStyle.prototype, \"stroke\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0))\n    ], SeriesItemHighlightStyle.prototype, \"strokeWidth\", void 0);\n    return SeriesItemHighlightStyle;\n}());\nvar SeriesHighlightStyle = /** @class */ (function () {\n    function SeriesHighlightStyle() {\n        this.strokeWidth = undefined;\n        this.dimOpacity = undefined;\n        this.enabled = undefined;\n    }\n    __decorate([\n        Validate(OPT_NUMBER(0))\n    ], SeriesHighlightStyle.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0, 1))\n    ], SeriesHighlightStyle.prototype, \"dimOpacity\", void 0);\n    __decorate([\n        Validate(OPT_BOOLEAN)\n    ], SeriesHighlightStyle.prototype, \"enabled\", void 0);\n    return SeriesHighlightStyle;\n}());\nvar TextHighlightStyle = /** @class */ (function () {\n    function TextHighlightStyle() {\n        this.color = 'black';\n    }\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], TextHighlightStyle.prototype, \"color\", void 0);\n    return TextHighlightStyle;\n}());\nvar HighlightStyle = /** @class */ (function () {\n    function HighlightStyle() {\n        this.item = new SeriesItemHighlightStyle();\n        this.series = new SeriesHighlightStyle();\n        this.text = new TextHighlightStyle();\n    }\n    return HighlightStyle;\n}());\nexport { HighlightStyle };\nvar SeriesTooltip = /** @class */ (function () {\n    function SeriesTooltip() {\n        this.enabled = true;\n        this.interaction = new SeriesTooltipInteraction();\n        this.position = new TooltipPosition();\n    }\n    __decorate([\n        Validate(BOOLEAN)\n    ], SeriesTooltip.prototype, \"enabled\", void 0);\n    return SeriesTooltip;\n}());\nexport { SeriesTooltip };\nvar SeriesTooltipInteraction = /** @class */ (function () {\n    function SeriesTooltipInteraction() {\n        this.enabled = false;\n    }\n    __decorate([\n        Validate(BOOLEAN)\n    ], SeriesTooltipInteraction.prototype, \"enabled\", void 0);\n    return SeriesTooltipInteraction;\n}());\nexport { SeriesTooltipInteraction };\nvar Series = /** @class */ (function (_super) {\n    __extends(Series, _super);\n    function Series(_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.useSeriesGroupLayer, useSeriesGroupLayer = _c === void 0 ? true : _c, _d = _b.useLabelLayer, useLabelLayer = _d === void 0 ? false : _d, _e = _b.pickModes, pickModes = _e === void 0 ? [SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST] : _e, _f = _b.directionKeys, directionKeys = _f === void 0 ? {} : _f;\n        var _this = _super.call(this) || this;\n        _this.id = createId(_this);\n        // The group node that contains all the nodes used to render this series.\n        _this.rootGroup = new Group({ name: 'seriesRoot' });\n        _this.directions = [ChartAxisDirection.X, ChartAxisDirection.Y];\n        // Flag to determine if we should recalculate node data.\n        _this.nodeDataRefresh = true;\n        _this._data = undefined;\n        _this._visible = true;\n        _this.showInLegend = true;\n        _this.cursor = 'default';\n        _this.nodeClickRange = 'exact';\n        _this._declarationOrder = -1;\n        _this.highlightStyle = new HighlightStyle();\n        var rootGroup = _this.rootGroup;\n        _this.directionKeys = directionKeys;\n        _this.contentGroup = rootGroup.appendChild(new Group({\n            name: _this.id + \"-content\",\n            layer: useSeriesGroupLayer,\n            zIndex: Layers.SERIES_LAYER_ZINDEX,\n            zIndexSubOrder: [function () { return _this._declarationOrder; }, 0],\n        }));\n        _this.highlightGroup = rootGroup.appendChild(new Group({\n            name: _this.id + \"-highlight\",\n            layer: true,\n            zIndex: Layers.SERIES_LAYER_ZINDEX,\n            zIndexSubOrder: [function () { return _this._declarationOrder; }, 15000],\n        }));\n        _this.highlightNode = _this.highlightGroup.appendChild(new Group({ name: 'highlightNode' }));\n        _this.highlightLabel = _this.highlightGroup.appendChild(new Group({ name: 'highlightLabel' }));\n        _this.highlightNode.zIndex = 0;\n        _this.highlightLabel.zIndex = 10;\n        _this.pickModes = pickModes;\n        if (useLabelLayer) {\n            _this.labelGroup = rootGroup.appendChild(new Group({\n                name: _this.id + \"-series-labels\",\n                layer: true,\n                zIndex: Layers.SERIES_LABEL_ZINDEX,\n            }));\n        }\n        return _this;\n    }\n    Object.defineProperty(Series.prototype, \"type\", {\n        get: function () {\n            return this.constructor.type || '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Series.prototype, \"data\", {\n        get: function () {\n            return this._data;\n        },\n        set: function (input) {\n            this._data = input;\n            this.nodeDataRefresh = true;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Series.prototype.hasData = function () {\n        var data = this.data;\n        return data && (!Array.isArray(data) || data.length > 0);\n    };\n    Object.defineProperty(Series.prototype, \"visible\", {\n        get: function () {\n            return this._visible;\n        },\n        set: function (value) {\n            this._visible = value;\n            this.visibleChanged();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Series.prototype.getBandScalePadding = function () {\n        return { inner: 1, outer: 0 };\n    };\n    Series.prototype.destroy = function () {\n        // Override point for sub-classes.\n    };\n    Object.defineProperty(Series.prototype, \"grouped\", {\n        set: function (g) {\n            if (g === true) {\n                throw new Error(\"AG Charts - grouped: true is unsupported for series of type: \" + this.type);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // Returns the actual keys used (to fetch the values from `data` items) for the given direction.\n    Series.prototype.getKeys = function (direction) {\n        var _this = this;\n        var directionKeys = this.directionKeys;\n        var resolvedDirection = this.resolveKeyDirection(direction);\n        var keys = directionKeys && directionKeys[resolvedDirection];\n        var values = [];\n        var flatten = function () {\n            var e_1, _a;\n            var array = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                array[_i] = arguments[_i];\n            }\n            try {\n                for (var array_1 = __values(array), array_1_1 = array_1.next(); !array_1_1.done; array_1_1 = array_1.next()) {\n                    var value = array_1_1.value;\n                    addValue(value);\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (array_1_1 && !array_1_1.done && (_a = array_1.return)) _a.call(array_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n        };\n        var addValue = function (value) {\n            if (Array.isArray(value)) {\n                flatten.apply(void 0, __spread(value));\n            }\n            else {\n                values.push(value);\n            }\n        };\n        if (!keys)\n            return values;\n        keys.forEach(function (key) {\n            var value = _this[key];\n            if (!value)\n                return;\n            addValue(value);\n        });\n        return values;\n    };\n    Series.prototype.resolveKeyDirection = function (direction) {\n        return direction;\n    };\n    // Indicate that something external changed and we should recalculate nodeData.\n    Series.prototype.markNodeDataDirty = function () {\n        this.nodeDataRefresh = true;\n    };\n    Series.prototype.visibleChanged = function () {\n        // Override point for this.visible change post-processing.\n    };\n    Series.prototype.getOpacity = function (datum) {\n        var _a = this.highlightStyle.series, _b = _a.dimOpacity, dimOpacity = _b === void 0 ? 1 : _b, _c = _a.enabled, enabled = _c === void 0 ? true : _c;\n        var defaultOpacity = 1;\n        if (enabled === false || dimOpacity === defaultOpacity) {\n            return defaultOpacity;\n        }\n        switch (this.isItemIdHighlighted(datum)) {\n            case 'no-highlight':\n            case 'highlighted':\n                return defaultOpacity;\n            case 'peer-highlighted':\n            case 'other-highlighted':\n                return dimOpacity;\n        }\n    };\n    Series.prototype.getStrokeWidth = function (defaultStrokeWidth, datum) {\n        var _a = this.highlightStyle.series, strokeWidth = _a.strokeWidth, _b = _a.enabled, enabled = _b === void 0 ? true : _b;\n        if (enabled === false || strokeWidth === undefined) {\n            // No change in styling for highlight cases.\n            return defaultStrokeWidth;\n        }\n        switch (this.isItemIdHighlighted(datum)) {\n            case 'highlighted':\n                return strokeWidth;\n            case 'no-highlight':\n            case 'other-highlighted':\n            case 'peer-highlighted':\n                return defaultStrokeWidth;\n        }\n    };\n    Series.prototype.isItemIdHighlighted = function (datum) {\n        var _a;\n        var highlightedDatum = (_a = this.highlightManager) === null || _a === void 0 ? void 0 : _a.getActiveHighlight();\n        var _b = highlightedDatum !== null && highlightedDatum !== void 0 ? highlightedDatum : {}, series = _b.series, itemId = _b.itemId;\n        var highlighting = series != null;\n        if (!highlighting) {\n            // Highlighting not active.\n            return 'no-highlight';\n        }\n        if (series !== this) {\n            // Highlighting active, this series not highlighted.\n            return 'other-highlighted';\n        }\n        if (itemId === undefined) {\n            // Series doesn't use itemIds - so no further refinement needed, series is highlighted.\n            return 'highlighted';\n        }\n        if (datum && highlightedDatum !== datum && itemId !== datum.itemId) {\n            // A peer (in same Series instance) sub-series has highlight active, but this sub-series\n            // does not.\n            return 'peer-highlighted';\n        }\n        return 'highlighted';\n    };\n    Series.prototype.pickNode = function (point, limitPickModes) {\n        var e_2, _a;\n        var _b = this, pickModes = _b.pickModes, visible = _b.visible, rootGroup = _b.rootGroup;\n        if (!visible || !rootGroup.visible) {\n            return;\n        }\n        try {\n            for (var pickModes_1 = __values(pickModes), pickModes_1_1 = pickModes_1.next(); !pickModes_1_1.done; pickModes_1_1 = pickModes_1.next()) {\n                var pickMode = pickModes_1_1.value;\n                if (limitPickModes && !limitPickModes.includes(pickMode)) {\n                    continue;\n                }\n                var match = undefined;\n                switch (pickMode) {\n                    case SeriesNodePickMode.EXACT_SHAPE_MATCH:\n                        match = this.pickNodeExactShape(point);\n                        break;\n                    case SeriesNodePickMode.NEAREST_BY_MAIN_AXIS_FIRST:\n                    case SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST:\n                        match = this.pickNodeMainAxisFirst(point, pickMode === SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST);\n                        break;\n                    case SeriesNodePickMode.NEAREST_NODE:\n                        match = this.pickNodeClosestDatum(point);\n                        break;\n                }\n                if (match) {\n                    return { pickMode: pickMode, match: match.datum, distance: match.distance };\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (pickModes_1_1 && !pickModes_1_1.done && (_a = pickModes_1.return)) _a.call(pickModes_1);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n    };\n    Series.prototype.pickNodeExactShape = function (point) {\n        var match = this.contentGroup.pickNode(point.x, point.y);\n        if (match) {\n            return {\n                datum: match.datum,\n                distance: 0,\n            };\n        }\n    };\n    Series.prototype.pickNodeClosestDatum = function (_point) {\n        // Override point for sub-classes - but if this is invoked, the sub-class specified it wants\n        // to use this feature.\n        throw new Error('AG Charts - Series.pickNodeClosestDatum() not implemented');\n    };\n    Series.prototype.pickNodeMainAxisFirst = function (_point, _requireCategoryAxis) {\n        // Override point for sub-classes - but if this is invoked, the sub-class specified it wants\n        // to use this feature.\n        throw new Error('AG Charts - Series.pickNodeMainAxisFirst() not implemented');\n    };\n    Series.prototype.fireNodeClickEvent = function (event, _datum) {\n        var eventObject = this.getNodeClickEvent(event, _datum);\n        this.fireEvent(eventObject);\n    };\n    Series.prototype.fireNodeDoubleClickEvent = function (event, _datum) {\n        var eventObject = this.getNodeDoubleClickEvent(event, _datum);\n        this.fireEvent(eventObject);\n    };\n    Series.prototype.getNodeClickEvent = function (event, datum) {\n        return new SeriesNodeClickEvent(event, datum, this);\n    };\n    Series.prototype.getNodeDoubleClickEvent = function (event, datum) {\n        return new SeriesNodeDoubleClickEvent(event, datum, this);\n    };\n    Series.prototype.toggleSeriesItem = function (_itemId, enabled) {\n        this.visible = enabled;\n        this.nodeDataRefresh = true;\n    };\n    Series.prototype.toggleOtherSeriesItems = function (_seriesToggled, _datumToggled, _enabled, _suggestedEnabled) {\n        return;\n    };\n    Series.prototype.isEnabled = function () {\n        return this.visible;\n    };\n    Series.prototype.fixNumericExtent = function (extent, axis) {\n        var _a;\n        if (extent === undefined) {\n            // Don't return a range, there is no range.\n            return [];\n        }\n        var _b = __read(extent, 2), min = _b[0], max = _b[1];\n        min = +min;\n        max = +max;\n        if (min === 0 && max === 0) {\n            // domain has zero length and the single valid value is 0. Use the default of [0, 1].\n            return [0, 1];\n        }\n        if (min === Infinity && max === -Infinity) {\n            // There's no data in the domain.\n            return [];\n        }\n        if (min === Infinity) {\n            min = 0;\n        }\n        if (max === -Infinity) {\n            max = 0;\n        }\n        if (min === max) {\n            // domain has zero length, there is only a single valid value in data\n            var padding = (_a = axis === null || axis === void 0 ? void 0 : axis.calculatePadding(min, max)) !== null && _a !== void 0 ? _a : 1;\n            min -= padding;\n            max += padding;\n        }\n        if (!(isNumber(min) && isNumber(max))) {\n            return [];\n        }\n        return [min, max];\n    };\n    Series.highlightedZIndex = 1000000000000;\n    __decorate([\n        Validate(STRING)\n    ], Series.prototype, \"id\", void 0);\n    __decorate([\n        Validate(BOOLEAN)\n    ], Series.prototype, \"_visible\", void 0);\n    __decorate([\n        Validate(BOOLEAN)\n    ], Series.prototype, \"showInLegend\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], Series.prototype, \"cursor\", void 0);\n    __decorate([\n        Validate(INTERACTION_RANGE)\n    ], Series.prototype, \"nodeClickRange\", void 0);\n    return Series;\n}(Observable));\nexport { Series };\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { NUMBER, Validate } from './validation';\nvar Padding = /** @class */ (function () {\n    function Padding(top, right, bottom, left) {\n        if (top === void 0) { top = 0; }\n        if (right === void 0) { right = top; }\n        if (bottom === void 0) { bottom = top; }\n        if (left === void 0) { left = right; }\n        this.top = top;\n        this.right = right;\n        this.bottom = bottom;\n        this.left = left;\n    }\n    Padding.prototype.clear = function () {\n        this.top = this.right = this.bottom = this.left = 0;\n    };\n    __decorate([\n        Validate(NUMBER(0))\n    ], Padding.prototype, \"top\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], Padding.prototype, \"right\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], Padding.prototype, \"bottom\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], Padding.prototype, \"left\", void 0);\n    return Padding;\n}());\nexport { Padding };\n", "import { Node } from './node';\nvar Selection = /** @class */ (function () {\n    function Selection(parent, classOrFactory) {\n        this._nodes = [];\n        this._data = [];\n        this._parent = parent;\n        this._factory = Object.prototype.isPrototypeOf.call(Node, classOrFactory)\n            ? function () { return new classOrFactory(); }\n            : classOrFactory;\n    }\n    Selection.select = function (parent, classOrFactory) {\n        return new Selection(parent, classOrFactory);\n    };\n    Selection.prototype.each = function (iterate) {\n        this._nodes.forEach(function (node, i) { return iterate(node, node.datum, i); });\n        return this;\n    };\n    Selection.prototype.update = function (data, init) {\n        var _this = this;\n        var old = this._data;\n        var parent = this._parent;\n        var factory = this._factory;\n        if (data.length > old.length) {\n            data.slice(old.length).forEach(function (datum) {\n                var node = factory(datum);\n                node.datum = datum;\n                init && init(node);\n                parent.appendChild(node);\n                _this._nodes.push(node);\n            });\n        }\n        else if (data.length < old.length) {\n            this._nodes.splice(data.length).forEach(function (node) {\n                parent.removeChild(node);\n            });\n        }\n        this._data = data.slice(0);\n        for (var i = 0; i < data.length; i++) {\n            this._nodes[i].datum = this._data[i];\n        }\n        return this;\n    };\n    Selection.prototype.clear = function () {\n        this.update([]);\n        return this;\n    };\n    Selection.prototype.select = function (predicate) {\n        var results = [];\n        var traverse = function (node) {\n            if (predicate(node)) {\n                results.push(node);\n            }\n            node.children.forEach(traverse);\n        };\n        traverse(this._parent);\n        return results;\n    };\n    Selection.prototype.selectByClass = function (Class) {\n        return this.select(function (node) { return node instanceof Class; });\n    };\n    Selection.prototype.selectByTag = function (tag) {\n        return this.select(function (node) { return node.tag === tag; });\n    };\n    Selection.prototype.nodes = function () {\n        return this._nodes;\n    };\n    return Selection;\n}());\nexport { Selection };\n", "var Gradient = /** @class */ (function () {\n    function Gradient() {\n        this.stops = [];\n    }\n    return Gradient;\n}());\nexport { Gradient };\n", "var twoPi = Math.PI * 2;\n/**\n * Normalize the given angle to be in the [0, 2π) interval.\n * @param radians Angle in radians.\n */\nexport function normalizeAngle360(radians) {\n    radians %= twoPi;\n    radians += twoPi;\n    radians %= twoPi;\n    return radians;\n}\nexport function normalizeAngle360Inclusive(radians) {\n    radians %= twoPi;\n    radians += twoPi;\n    if (radians !== twoPi) {\n        radians %= twoPi;\n    }\n    return radians;\n}\n/**\n * Normalize the given angle to be in the [-π, π) interval.\n * @param radians Angle in radians.\n */\nexport function normalizeAngle180(radians) {\n    radians %= twoPi;\n    if (radians < -Math.PI) {\n        radians += twoPi;\n    }\n    else if (radians >= Math.PI) {\n        radians -= twoPi;\n    }\n    return radians;\n}\nexport function toRadians(degrees) {\n    return (degrees / 180) * Math.PI;\n}\nexport function toDegrees(radians) {\n    return (radians / Math.PI) * 180;\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Gradient } from './gradient';\nimport { toRadians, normalizeAngle360 } from '../../util/angle';\nvar LinearGradient = /** @class */ (function (_super) {\n    __extends(LinearGradient, _super);\n    function LinearGradient() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.angle = 0;\n        return _this;\n    }\n    LinearGradient.prototype.createGradient = function (ctx, bbox) {\n        // Gradient 0° angle starts at top according to CSS spec\n        var angleOffset = 90;\n        var _a = this, stops = _a.stops, angle = _a.angle;\n        var radians = normalizeAngle360(toRadians(angle + angleOffset));\n        var cos = Math.cos(radians);\n        var sin = Math.sin(radians);\n        var w = bbox.width;\n        var h = bbox.height;\n        var cx = bbox.x + w * 0.5;\n        var cy = bbox.y + h * 0.5;\n        if (w > 0 && h > 0) {\n            var diagonal = Math.sqrt(h * h + w * w) / 2;\n            var diagonalAngle = Math.atan2(h, w);\n            var quarteredAngle = void 0;\n            if (radians < Math.PI / 2) {\n                quarteredAngle = radians;\n            }\n            else if (radians < Math.PI) {\n                quarteredAngle = Math.PI - radians;\n            }\n            else if (radians < (3 * Math.PI) / 2) {\n                quarteredAngle = radians - Math.PI;\n            }\n            else {\n                quarteredAngle = 2 * Math.PI - radians;\n            }\n            var l = diagonal * Math.abs(Math.cos(quarteredAngle - diagonalAngle));\n            var gradient_1 = ctx.createLinearGradient(cx + cos * l, cy + sin * l, cx - cos * l, cy - sin * l);\n            stops.forEach(function (stop) {\n                gradient_1.addColorStop(stop.offset, stop.color);\n            });\n            return gradient_1;\n        }\n        return 'black';\n    };\n    return LinearGradient;\n}(Gradient));\nexport { LinearGradient };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Node, RedrawType, SceneChangeDetection } from '../node';\nimport { LinearGradient } from '../gradient/linearGradient';\nvar LINEAR_GRADIENT_REGEXP = /^linear-gradient\\((.*?)deg,\\s*(.*?)\\s*\\)$/i;\nvar Shape = /** @class */ (function (_super) {\n    __extends(Shape, _super);\n    function Shape() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.lastInstanceId = 0;\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        _this.fill = Shape.defaultStyles.fill;\n        /**\n         * Note that `strokeStyle = null` means invisible stroke,\n         * while `lineWidth = 0` means no stroke, and sometimes this can mean different things.\n         * For example, a rect shape with an invisible stroke may not align to the pixel grid\n         * properly because the stroke affects the rules of alignment, and arc shapes forming\n         * a pie chart will have a gap between them if they have an invisible stroke, whereas\n         * there would be not gap if there was no stroke at all.\n         * The preferred way of making the stroke invisible is setting the `lineWidth` to zero,\n         * unless specific looks that is achieved by having an invisible stroke is desired.\n         */\n        _this.stroke = Shape.defaultStyles.stroke;\n        _this.strokeWidth = Shape.defaultStyles.strokeWidth;\n        _this.lineDash = Shape.defaultStyles.lineDash;\n        _this.lineDashOffset = Shape.defaultStyles.lineDashOffset;\n        _this.lineCap = Shape.defaultStyles.lineCap;\n        _this.lineJoin = Shape.defaultStyles.lineJoin;\n        _this.opacity = Shape.defaultStyles.opacity;\n        _this.fillShadow = Shape.defaultStyles.fillShadow;\n        return _this;\n    }\n    /**\n     * Creates a light-weight instance of the given shape (that serves as a template).\n     * The created instance only stores the properites set on the instance itself\n     * and the rest of the properties come via the prototype chain from the template.\n     * This can greatly reduce memory usage in cases where one has many similar shapes,\n     * for example, circles of different size, position and color. The exact memory usage\n     * reduction will depend on the size of the template and the number of own properties\n     * set on its lightweight instances, but will typically be around an order of magnitude\n     * or more.\n     *\n     * Note: template shapes are not supposed to be part of the scene graph (they should not\n     * have a parent).\n     *\n     * @param template\n     */\n    Shape.createInstance = function (template) {\n        var shape = Object.create(template);\n        shape._setParent(undefined);\n        shape.id = template.id + '-Instance-' + String(++template.lastInstanceId);\n        return shape;\n    };\n    /**\n     * Restores the default styles introduced by this subclass.\n     */\n    Shape.prototype.restoreOwnStyles = function () {\n        var styles = this.constructor.defaultStyles;\n        var keys = Object.getOwnPropertyNames(styles);\n        // getOwnPropertyNames is about 2.5 times faster than\n        // for..in with the hasOwnProperty check and in this\n        // case, where most properties are inherited, can be\n        // more then an order of magnitude faster.\n        for (var i = 0, n = keys.length; i < n; i++) {\n            var key = keys[i];\n            this[key] = styles[key];\n        }\n    };\n    Shape.prototype.restoreAllStyles = function () {\n        var styles = this.constructor.defaultStyles;\n        for (var property in styles) {\n            this[property] = styles[property];\n        }\n    };\n    /**\n     * Restores the base class default styles that have been overridden by this subclass.\n     */\n    Shape.prototype.restoreOverriddenStyles = function () {\n        var styles = this.constructor.defaultStyles;\n        var protoStyles = Object.getPrototypeOf(styles);\n        for (var property in styles) {\n            if (Object.prototype.hasOwnProperty.call(styles, property) &&\n                Object.prototype.hasOwnProperty.call(protoStyles, property)) {\n                this[property] = styles[property];\n            }\n        }\n    };\n    Shape.prototype.updateGradient = function () {\n        var fill = this.fill;\n        var linearGradientMatch;\n        if ((fill === null || fill === void 0 ? void 0 : fill.startsWith('linear-gradient')) && (linearGradientMatch = fill.match(LINEAR_GRADIENT_REGEXP))) {\n            var angle = parseFloat(linearGradientMatch[1]);\n            var colors_1 = [];\n            var colorsPart = linearGradientMatch[2];\n            var colorRegex = /(#[0-9a-f]+)|(rgba?\\(.+?\\))|([a-z]+)/gi;\n            var c = void 0;\n            while ((c = colorRegex.exec(colorsPart))) {\n                colors_1.push(c[0]);\n            }\n            this.gradient = new LinearGradient();\n            this.gradient.angle = angle;\n            this.gradient.stops = colors_1.map(function (color, index) {\n                var offset = index / (colors_1.length - 1);\n                return { offset: offset, color: color };\n            });\n        }\n        else {\n            this.gradient = undefined;\n        }\n    };\n    /**\n     * Returns a device-pixel aligned coordinate (or length if length is supplied).\n     *\n     * NOTE: Not suitable for strokes, since the stroke needs to be offset to the middle\n     * of a device pixel.\n     */\n    Shape.prototype.align = function (start, length) {\n        var _a, _b, _c;\n        var pixelRatio = (_c = (_b = (_a = this.layerManager) === null || _a === void 0 ? void 0 : _a.canvas) === null || _b === void 0 ? void 0 : _b.pixelRatio) !== null && _c !== void 0 ? _c : 1;\n        var alignedStart = Math.round(start * pixelRatio) / pixelRatio;\n        if (length == undefined) {\n            return alignedStart;\n        }\n        if (length === 0) {\n            return 0;\n        }\n        if (length < 1) {\n            // Avoid hiding crisp shapes\n            return Math.ceil(length * pixelRatio) / pixelRatio;\n        }\n        // Account for the rounding of alignedStart by increasing length to compensate before\n        // alignment.\n        return Math.round((length + start) * pixelRatio) / pixelRatio - alignedStart;\n    };\n    Shape.prototype.fillStroke = function (ctx) {\n        this.renderFill(ctx);\n        this.renderStroke(ctx);\n    };\n    Shape.prototype.renderFill = function (ctx) {\n        if (this.fill) {\n            var globalAlpha = ctx.globalAlpha;\n            this.applyFill(ctx);\n            this.applyFillAlpha(ctx);\n            this.applyShadow(ctx);\n            ctx.fill();\n            ctx.globalAlpha = globalAlpha;\n        }\n        ctx.shadowColor = 'rgba(0, 0, 0, 0)';\n    };\n    Shape.prototype.applyFill = function (ctx) {\n        if (this.gradient) {\n            ctx.fillStyle = this.gradient.createGradient(ctx, this.computeBBox());\n        }\n        else {\n            ctx.fillStyle = this.fill;\n        }\n    };\n    Shape.prototype.applyFillAlpha = function (ctx) {\n        var globalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = globalAlpha * this.opacity * this.fillOpacity;\n    };\n    Shape.prototype.applyShadow = function (ctx) {\n        var _a, _b;\n        // The canvas context scaling (depends on the device's pixel ratio)\n        // has no effect on shadows, so we have to account for the pixel ratio\n        // manually here.\n        var pixelRatio = (_b = (_a = this.layerManager) === null || _a === void 0 ? void 0 : _a.canvas.pixelRatio) !== null && _b !== void 0 ? _b : 1;\n        var fillShadow = this.fillShadow;\n        if (fillShadow && fillShadow.enabled) {\n            ctx.shadowColor = fillShadow.color;\n            ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n            ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n            ctx.shadowBlur = fillShadow.blur * pixelRatio;\n        }\n    };\n    Shape.prototype.renderStroke = function (ctx) {\n        if (this.stroke && this.strokeWidth) {\n            var globalAlpha = ctx.globalAlpha;\n            ctx.strokeStyle = this.stroke;\n            ctx.globalAlpha = globalAlpha * this.opacity * this.strokeOpacity;\n            ctx.lineWidth = this.strokeWidth;\n            if (this.lineDash) {\n                ctx.setLineDash(this.lineDash);\n            }\n            if (this.lineDashOffset) {\n                ctx.lineDashOffset = this.lineDashOffset;\n            }\n            if (this.lineCap) {\n                ctx.lineCap = this.lineCap;\n            }\n            if (this.lineJoin) {\n                ctx.lineJoin = this.lineJoin;\n            }\n            ctx.stroke();\n            ctx.globalAlpha = globalAlpha;\n        }\n    };\n    Shape.prototype.containsPoint = function (x, y) {\n        return this.isPointInPath(x, y);\n    };\n    /**\n     * Defaults for style properties. Note that properties that affect the position\n     * and shape of the node are not considered style properties, for example:\n     * `x`, `y`, `width`, `height`, `radius`, `rotation`, etc.\n     * Can be used to reset to the original styling after some custom styling\n     * has been applied (using the `restoreOwnStyles` and `restoreAllStyles` methods).\n     * These static defaults are meant to be inherited by subclasses.\n     */\n    Shape.defaultStyles = Object.assign({}, {\n        fill: 'black',\n        stroke: undefined,\n        strokeWidth: 0,\n        lineDash: undefined,\n        lineDashOffset: 0,\n        lineCap: undefined,\n        lineJoin: undefined,\n        opacity: 1,\n        fillShadow: undefined,\n    });\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR })\n    ], Shape.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR })\n    ], Shape.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR, changeCb: function (s) { return s.updateGradient(); } })\n    ], Shape.prototype, \"fill\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR })\n    ], Shape.prototype, \"stroke\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR })\n    ], Shape.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR })\n    ], Shape.prototype, \"lineDash\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR })\n    ], Shape.prototype, \"lineDashOffset\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR })\n    ], Shape.prototype, \"lineCap\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR })\n    ], Shape.prototype, \"lineJoin\", void 0);\n    __decorate([\n        SceneChangeDetection({\n            redraw: RedrawType.MINOR,\n            convertor: function (v) { return Math.min(1, Math.max(0, v)); },\n        })\n    ], Shape.prototype, \"opacity\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR, checkDirtyOnAssignment: true })\n    ], Shape.prototype, \"fillShadow\", void 0);\n    return Shape;\n}(Node));\nexport { Shape };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Shape } from './shape';\nimport { BBox } from '../bbox';\nimport { HdpiCanvas } from '../../canvas/hdpiCanvas';\nimport { RedrawType, SceneChangeDetection } from '../node';\nfunction SceneFontChangeDetection(opts) {\n    var _a = opts || {}, _b = _a.redraw, redraw = _b === void 0 ? RedrawType.MAJOR : _b, changeCb = _a.changeCb;\n    return SceneChangeDetection({ redraw: redraw, type: 'font', changeCb: changeCb });\n}\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.x = 0;\n        _this.y = 0;\n        _this.lines = [];\n        _this.text = '';\n        _this._dirtyFont = true;\n        _this.fontSize = 10;\n        _this.fontFamily = 'sans-serif';\n        _this.textAlign = Text.defaultStyles.textAlign;\n        _this.textBaseline = Text.defaultStyles.textBaseline;\n        // TextMetrics are used if lineHeight is not defined.\n        _this.lineHeight = undefined;\n        return _this;\n    }\n    Text.prototype._splitText = function () {\n        this.lines = typeof this.text === 'string' ? this.text.split(/\\r?\\n/g) : [];\n    };\n    Object.defineProperty(Text.prototype, \"font\", {\n        get: function () {\n            if (this._dirtyFont) {\n                this._dirtyFont = false;\n                this._font = getFont(this.fontSize, this.fontFamily, this.fontStyle, this.fontWeight);\n            }\n            return this._font;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Text.prototype.computeBBox = function () {\n        return HdpiCanvas.has.textMetrics ? this.getPreciseBBox() : this.getApproximateBBox();\n    };\n    Text.prototype.getPreciseBBox = function () {\n        var _a, _b;\n        var left = 0;\n        var top = 0;\n        var width = 0;\n        var height = 0;\n        // Distance between first and last base lines.\n        var baselineDistance = 0;\n        for (var i = 0; i < this.lines.length; i++) {\n            var metrics = HdpiCanvas.measureText(this.lines[i], this.font, this.textBaseline, this.textAlign);\n            left = Math.max(left, metrics.actualBoundingBoxLeft);\n            width = Math.max(width, metrics.width);\n            if (i == 0) {\n                top += metrics.actualBoundingBoxAscent;\n                height += metrics.actualBoundingBoxAscent;\n            }\n            else {\n                baselineDistance += (_a = metrics.fontBoundingBoxAscent) !== null && _a !== void 0 ? _a : metrics.emHeightAscent;\n            }\n            if (i == this.lines.length - 1) {\n                height += metrics.actualBoundingBoxDescent;\n            }\n            else {\n                baselineDistance += (_b = metrics.fontBoundingBoxDescent) !== null && _b !== void 0 ? _b : metrics.emHeightDescent;\n            }\n        }\n        if (this.lineHeight !== undefined) {\n            baselineDistance = (this.lines.length - 1) * this.lineHeight;\n        }\n        height += baselineDistance;\n        top += baselineDistance * this.getVerticalOffset();\n        return new BBox(this.x - left, this.y - top, width, height);\n    };\n    Text.prototype.getVerticalOffset = function () {\n        switch (this.textBaseline) {\n            case 'top':\n            case 'hanging':\n                return 0;\n            case 'bottom':\n            case 'alphabetic':\n            case 'ideographic':\n                return 1;\n            case 'middle':\n                return 0.5;\n        }\n    };\n    Text.prototype.getApproximateBBox = function () {\n        var _a;\n        var width = 0;\n        var firstLineHeight = 0;\n        // Distance between first and last base lines.\n        var baselineDistance = 0;\n        if (this.lines.length > 0) {\n            var lineSize = HdpiCanvas.getTextSize(this.lines[0], this.font);\n            width = lineSize.width;\n            firstLineHeight = lineSize.height;\n        }\n        for (var i = 1; i < this.lines.length; i++) {\n            var lineSize = HdpiCanvas.getTextSize(this.lines[i], this.font);\n            width = Math.max(width, lineSize.width);\n            baselineDistance += (_a = this.lineHeight) !== null && _a !== void 0 ? _a : lineSize.height;\n        }\n        var _b = this, x = _b.x, y = _b.y;\n        switch (this.textAlign) {\n            case 'end':\n            case 'right':\n                x -= width;\n                break;\n            case 'center':\n                x -= width / 2;\n        }\n        switch (this.textBaseline) {\n            case 'alphabetic':\n                y -= firstLineHeight * 0.7 + baselineDistance * 0.5;\n                break;\n            case 'middle':\n                y -= firstLineHeight * 0.45 + baselineDistance * 0.5;\n                break;\n            case 'ideographic':\n                y -= firstLineHeight + baselineDistance;\n                break;\n            case 'hanging':\n                y -= firstLineHeight * 0.2 + baselineDistance * 0.5;\n                break;\n            case 'bottom':\n                y -= firstLineHeight + baselineDistance;\n                break;\n        }\n        return new BBox(x, y, width, firstLineHeight + baselineDistance);\n    };\n    Text.prototype.getLineHeight = function (line) {\n        var _a, _b;\n        if (this.lineHeight)\n            return this.lineHeight;\n        if (HdpiCanvas.has.textMetrics) {\n            var metrics = HdpiCanvas.measureText(line, this.font, this.textBaseline, this.textAlign);\n            return (((_a = metrics.fontBoundingBoxAscent) !== null && _a !== void 0 ? _a : metrics.emHeightAscent) +\n                ((_b = metrics.fontBoundingBoxDescent) !== null && _b !== void 0 ? _b : metrics.emHeightDescent));\n        }\n        return HdpiCanvas.getTextSize(line, this.font).height;\n    };\n    Text.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return bbox ? bbox.containsPoint(point.x, point.y) : false;\n    };\n    Text.prototype.render = function (renderCtx) {\n        var ctx = renderCtx.ctx, forceRender = renderCtx.forceRender, stats = renderCtx.stats;\n        if (this.dirty === RedrawType.NONE && !forceRender) {\n            if (stats)\n                stats.nodesSkipped += this.nodeCount.count;\n            return;\n        }\n        if (!this.lines.length || !this.layerManager) {\n            if (stats)\n                stats.nodesSkipped += this.nodeCount.count;\n            return;\n        }\n        this.computeTransformMatrix();\n        this.matrix.toContext(ctx);\n        var _a = this, fill = _a.fill, stroke = _a.stroke, strokeWidth = _a.strokeWidth;\n        ctx.font = this.font;\n        ctx.textAlign = this.textAlign;\n        ctx.textBaseline = this.textBaseline;\n        var pixelRatio = this.layerManager.canvas.pixelRatio || 1;\n        var globalAlpha = ctx.globalAlpha;\n        if (fill) {\n            ctx.fillStyle = fill;\n            ctx.globalAlpha = globalAlpha * this.opacity * this.fillOpacity;\n            var fillShadow = this.fillShadow;\n            if (fillShadow && fillShadow.enabled) {\n                ctx.shadowColor = fillShadow.color;\n                ctx.shadowOffsetX = fillShadow.xOffset * pixelRatio;\n                ctx.shadowOffsetY = fillShadow.yOffset * pixelRatio;\n                ctx.shadowBlur = fillShadow.blur * pixelRatio;\n            }\n            this.renderLines(function (line, x, y) { return ctx.fillText(line, x, y); });\n        }\n        if (stroke && strokeWidth) {\n            ctx.strokeStyle = stroke;\n            ctx.lineWidth = strokeWidth;\n            ctx.globalAlpha = globalAlpha * this.opacity * this.strokeOpacity;\n            var _b = this, lineDash = _b.lineDash, lineDashOffset = _b.lineDashOffset, lineCap = _b.lineCap, lineJoin = _b.lineJoin;\n            if (lineDash) {\n                ctx.setLineDash(lineDash);\n            }\n            if (lineDashOffset) {\n                ctx.lineDashOffset = lineDashOffset;\n            }\n            if (lineCap) {\n                ctx.lineCap = lineCap;\n            }\n            if (lineJoin) {\n                ctx.lineJoin = lineJoin;\n            }\n            this.renderLines(function (line, x, y) { return ctx.strokeText(line, x, y); });\n        }\n        _super.prototype.render.call(this, renderCtx);\n    };\n    Text.prototype.renderLines = function (renderCallback) {\n        var _this = this;\n        var _a = this, lines = _a.lines, x = _a.x, y = _a.y;\n        var lineHeights = this.lines.map(function (line) { return _this.getLineHeight(line); });\n        var totalHeight = lineHeights.reduce(function (a, b) { return a + b; }, 0);\n        var offsetY = -(totalHeight - lineHeights[0]) * this.getVerticalOffset();\n        for (var i = 0; i < lines.length; i++) {\n            renderCallback(lines[i], x, y + offsetY);\n            offsetY += lineHeights[i];\n        }\n    };\n    Text.className = 'Text';\n    Text.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n        textAlign: 'start',\n        fontStyle: undefined,\n        fontWeight: undefined,\n        fontSize: 10,\n        fontFamily: 'sans-serif',\n        textBaseline: 'alphabetic',\n    });\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], Text.prototype, \"x\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], Text.prototype, \"y\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR, changeCb: function (o) { return o._splitText(); } })\n    ], Text.prototype, \"text\", void 0);\n    __decorate([\n        SceneFontChangeDetection()\n    ], Text.prototype, \"fontStyle\", void 0);\n    __decorate([\n        SceneFontChangeDetection()\n    ], Text.prototype, \"fontWeight\", void 0);\n    __decorate([\n        SceneFontChangeDetection()\n    ], Text.prototype, \"fontSize\", void 0);\n    __decorate([\n        SceneFontChangeDetection()\n    ], Text.prototype, \"fontFamily\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], Text.prototype, \"textAlign\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], Text.prototype, \"textBaseline\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], Text.prototype, \"lineHeight\", void 0);\n    return Text;\n}(Shape));\nexport { Text };\nexport function getFont(fontSize, fontFamily, fontStyle, fontWeight) {\n    return [fontStyle || '', fontWeight || '', fontSize + 'px', fontFamily].join(' ').trim();\n}\n", "/**\n * Finds the roots of a parametric linear equation in `t`,\n * where `t` lies in the interval of `[0,1]`.\n */\nfunction linearRoot(a, b) {\n    var t = -b / a;\n    return a !== 0 && t >= 0 && t <= 1 ? [t] : [];\n}\n/**\n * Finds the roots of a parametric quadratic equation in `t`,\n * where `t` lies in the interval of `[0,1]`.\n */\nfunction quadraticRoots(a, b, c) {\n    if (a === 0) {\n        return linearRoot(b, c);\n    }\n    var D = b * b - 4 * a * c; // The polynomial's discriminant.\n    var roots = [];\n    if (D === 0) {\n        // A single real root.\n        var t = -b / (2 * a);\n        if (t >= 0 && t <= 1) {\n            roots.push(t);\n        }\n    }\n    else if (D > 0) {\n        // A pair of distinct real roots.\n        var rD = Math.sqrt(D);\n        var t1 = (-b - rD) / (2 * a);\n        var t2 = (-b + rD) / (2 * a);\n        if (t1 >= 0 && t1 <= 1) {\n            roots.push(t1);\n        }\n        if (t2 >= 0 && t2 <= 1) {\n            roots.push(t2);\n        }\n    }\n    // else -> Complex roots.\n    return roots;\n}\n/**\n * Finds the roots of a parametric cubic equation in `t`,\n * where `t` lies in the interval of `[0,1]`.\n * Returns an array of parametric intersection locations along the cubic,\n * excluding out-of-bounds intersections (before or after the end point\n * or in the imaginary plane).\n * An adaptation of http://www.particleincell.com/blog/2013/cubic-line-intersection/\n */\nexport function cubicRoots(a, b, c, d) {\n    if (a === 0) {\n        return quadraticRoots(b, c, d);\n    }\n    var A = b / a;\n    var B = c / a;\n    var C = d / a;\n    var Q = (3 * B - A * A) / 9;\n    var R = (9 * A * B - 27 * C - 2 * A * A * A) / 54;\n    var D = Q * Q * Q + R * R; // The polynomial's discriminant.\n    var third = 1 / 3;\n    var roots = [];\n    if (D >= 0) {\n        // Complex or duplicate roots.\n        var rD = Math.sqrt(D);\n        var S = Math.sign(R + rD) * Math.pow(Math.abs(R + rD), third);\n        var T = Math.sign(R - rD) * Math.pow(Math.abs(R - rD), third);\n        var Im = Math.abs((Math.sqrt(3) * (S - T)) / 2); // Complex part of the root pair.\n        var t = -third * A + (S + T); // A real root.\n        if (t >= 0 && t <= 1) {\n            roots.push(t);\n        }\n        if (Im === 0) {\n            var t_1 = -third * A - (S + T) / 2; // The real part of a complex root.\n            if (t_1 >= 0 && t_1 <= 1) {\n                roots.push(t_1);\n            }\n        }\n    }\n    else {\n        // Distinct real roots.\n        var theta = Math.acos(R / Math.sqrt(-Q * Q * Q));\n        var thirdA = third * A;\n        var twoSqrtQ = 2 * Math.sqrt(-Q);\n        var t1 = twoSqrtQ * Math.cos(third * theta) - thirdA;\n        var t2 = twoSqrtQ * Math.cos(third * (theta + 2 * Math.PI)) - thirdA;\n        var t3 = twoSqrtQ * Math.cos(third * (theta + 4 * Math.PI)) - thirdA;\n        if (t1 >= 0 && t1 <= 1) {\n            roots.push(t1);\n        }\n        if (t2 >= 0 && t2 <= 1) {\n            roots.push(t2);\n        }\n        if (t3 >= 0 && t3 <= 1) {\n            roots.push(t3);\n        }\n    }\n    return roots;\n}\n", "var __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { normalizeAngle360 } from '../util/angle';\nimport { cubicRoots } from './polyRoots';\n/**\n * Returns the intersection point for the given pair of line segments, or null,\n * if the segments are parallel or don't intersect.\n * Based on http://paulbourke.net/geometry/pointlineplane/\n */\nexport function segmentIntersection(ax1, ay1, ax2, ay2, bx1, by1, bx2, by2) {\n    var d = (ax2 - ax1) * (by2 - by1) - (ay2 - ay1) * (bx2 - bx1);\n    if (d === 0) {\n        // The lines are parallel.\n        return null;\n    }\n    var ua = ((bx2 - bx1) * (ay1 - by1) - (ax1 - bx1) * (by2 - by1)) / d;\n    var ub = ((ax2 - ax1) * (ay1 - by1) - (ay2 - ay1) * (ax1 - bx1)) / d;\n    if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {\n        return {\n            x: ax1 + ua * (ax2 - ax1),\n            y: ay1 + ua * (ay2 - ay1),\n        };\n    }\n    return null; // The intersection point is outside either or both segments.\n}\n/**\n * Returns intersection points of the given cubic curve and the line segment.\n * Takes in x/y components of cubic control points and line segment start/end points\n * as parameters.\n */\nexport function cubicSegmentIntersections(px1, py1, px2, py2, px3, py3, px4, py4, x1, y1, x2, y2) {\n    var e_1, _a;\n    var intersections = [];\n    // Find line equation coefficients.\n    var A = y1 - y2;\n    var B = x2 - x1;\n    var C = x1 * (y2 - y1) - y1 * (x2 - x1);\n    // Find cubic Bezier curve equation coefficients from control points.\n    var bx = bezierCoefficients(px1, px2, px3, px4);\n    var by = bezierCoefficients(py1, py2, py3, py4);\n    var a = A * bx[0] + B * by[0]; // t^3\n    var b = A * bx[1] + B * by[1]; // t^2\n    var c = A * bx[2] + B * by[2]; // t\n    var d = A * bx[3] + B * by[3] + C; // 1\n    var roots = cubicRoots(a, b, c, d);\n    try {\n        // Verify that the roots are within bounds of the linear segment.\n        for (var roots_1 = __values(roots), roots_1_1 = roots_1.next(); !roots_1_1.done; roots_1_1 = roots_1.next()) {\n            var t = roots_1_1.value;\n            var tt = t * t;\n            var ttt = t * tt;\n            // Find the cartesian plane coordinates for the parametric root `t`.\n            var x = bx[0] * ttt + bx[1] * tt + bx[2] * t + bx[3];\n            var y = by[0] * ttt + by[1] * tt + by[2] * t + by[3];\n            // The parametric cubic roots we found are intersection points\n            // with an infinite line, and so the x/y coordinates above are as well.\n            // Make sure the x/y is also within the bounds of the given segment.\n            var s = void 0;\n            if (x1 !== x2) {\n                s = (x - x1) / (x2 - x1);\n            }\n            else {\n                // the line is vertical\n                s = (y - y1) / (y2 - y1);\n            }\n            if (s >= 0 && s <= 1) {\n                intersections.push({ x: x, y: y });\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (roots_1_1 && !roots_1_1.done && (_a = roots_1.return)) _a.call(roots_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return intersections;\n}\n/**\n * Returns the given coordinates vector multiplied by the coefficient matrix\n * of the parametric cubic Bézier equation.\n */\nfunction bezierCoefficients(P1, P2, P3, P4) {\n    return [\n        // Bézier expressed as matrix operations:\n        -P1 + 3 * P2 - 3 * P3 + P4,\n        3 * P1 - 6 * P2 + 3 * P3,\n        -3 * P1 + 3 * P2,\n        P1,\n    ];\n}\n/**\n * Returns intersection points of the arc and the line segment.\n * Takes in arc parameters and line segment start/end points.\n */\nexport function arcIntersections(cx, cy, r, startAngle, endAngle, counterClockwise, x1, y1, x2, y2) {\n    // Solving the quadratic equation:\n    // 1. y = k * x + y0\n    // 2. (x - cx)^2 + (y - cy)^2 = r^2\n    var k = (y2 - y1) / (x2 - x1);\n    var y0 = y1 - k * x1;\n    var a = Math.pow(k, 2) + 1;\n    var b = 2 * (k * (y0 - cy) - cx);\n    var c = Math.pow(cx, 2) + Math.pow(y0 - cy, 2) - Math.pow(r, 2);\n    var d = Math.pow(b, 2) - 4 * a * c;\n    if (d < 0) {\n        return [];\n    }\n    var i1x = (-b + Math.sqrt(d)) / 2 / a;\n    var i2x = (-b - Math.sqrt(d)) / 2 / a;\n    var intersections = [];\n    [i1x, i2x].forEach(function (x) {\n        var isXInsideLine = x >= Math.min(x1, x2) && x <= Math.max(x1, x2);\n        if (!isXInsideLine) {\n            return;\n        }\n        var y = k * x;\n        var a1 = normalizeAngle360(counterClockwise ? endAngle : startAngle);\n        var a2 = normalizeAngle360(counterClockwise ? startAngle : endAngle);\n        var intersectionAngle = normalizeAngle360(Math.atan2(y, x));\n        // Order angles clockwise after the start angle\n        // (end angle if counter-clockwise)\n        if (a2 <= a1) {\n            a2 += 2 * Math.PI;\n        }\n        if (intersectionAngle < a1) {\n            intersectionAngle += 2 * Math.PI;\n        }\n        if (intersectionAngle >= a1 && intersectionAngle <= a2) {\n            intersections.push({ x: x, y: y });\n        }\n    });\n    return intersections;\n}\n", "var __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { cubicSegmentIntersections, segmentIntersection, arcIntersections } from './intersection';\nvar Command;\n(function (Command) {\n    Command[Command[\"Move\"] = 0] = \"Move\";\n    Command[Command[\"Line\"] = 1] = \"Line\";\n    Command[Command[\"Arc\"] = 2] = \"Arc\";\n    Command[Command[\"Curve\"] = 3] = \"Curve\";\n    Command[Command[\"ClosePath\"] = 4] = \"ClosePath\";\n})(Command || (Command = {}));\nvar Path2D = /** @class */ (function () {\n    function Path2D() {\n        // The methods of this class will likely be called many times per animation frame,\n        // and any allocation can trigger a GC cycle during animation, so we attempt\n        // to minimize the number of allocations.\n        this.previousCommands = [];\n        this.previousParams = [];\n        this.previousClosedPath = false;\n        this.commands = [];\n        this.params = [];\n        this._closedPath = false;\n    }\n    Path2D.prototype.isDirty = function () {\n        if (this._closedPath !== this.previousClosedPath) {\n            return true;\n        }\n        if (this.previousCommands.length !== this.commands.length) {\n            return true;\n        }\n        if (this.previousParams.length !== this.params.length) {\n            return true;\n        }\n        for (var i = 0; i < this.commands.length; i++) {\n            if (this.commands[i] !== this.previousCommands[i]) {\n                return true;\n            }\n        }\n        for (var i = 0; i < this.params.length; i++) {\n            if (this.params[i] !== this.previousParams[i]) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Path2D.prototype.draw = function (ctx) {\n        var e_1, _a;\n        var commands = this.commands;\n        var params = this.params;\n        var j = 0;\n        ctx.beginPath();\n        try {\n            for (var commands_1 = __values(commands), commands_1_1 = commands_1.next(); !commands_1_1.done; commands_1_1 = commands_1.next()) {\n                var command = commands_1_1.value;\n                switch (command) {\n                    case Command.Move:\n                        ctx.moveTo(params[j++], params[j++]);\n                        break;\n                    case Command.Line:\n                        ctx.lineTo(params[j++], params[j++]);\n                        break;\n                    case Command.Curve:\n                        ctx.bezierCurveTo(params[j++], params[j++], params[j++], params[j++], params[j++], params[j++]);\n                        break;\n                    case Command.Arc:\n                        ctx.arc(params[j++], params[j++], params[j++], params[j++], params[j++], params[j++] === 1);\n                        break;\n                    case Command.ClosePath:\n                        ctx.closePath();\n                        break;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (commands_1_1 && !commands_1_1.done && (_a = commands_1.return)) _a.call(commands_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (commands.length === 0) {\n            ctx.closePath();\n        }\n    };\n    Path2D.prototype.moveTo = function (x, y) {\n        if (this.xy) {\n            this.xy[0] = x;\n            this.xy[1] = y;\n        }\n        else {\n            this.xy = [x, y];\n        }\n        this.commands.push(Command.Move);\n        this.params.push(x, y);\n    };\n    Path2D.prototype.lineTo = function (x, y) {\n        if (this.xy) {\n            this.commands.push(Command.Line);\n            this.params.push(x, y);\n            this.xy[0] = x;\n            this.xy[1] = y;\n        }\n        else {\n            this.moveTo(x, y);\n        }\n    };\n    Path2D.prototype.rect = function (x, y, width, height) {\n        this.moveTo(x, y);\n        this.lineTo(x + width, y);\n        this.lineTo(x + width, y + height);\n        this.lineTo(x, y + height);\n        this.closePath();\n    };\n    Path2D.prototype.arc = function (x, y, r, sAngle, eAngle, antiClockwise) {\n        if (antiClockwise === void 0) { antiClockwise = false; }\n        var endX = x + r * Math.cos(eAngle);\n        var endY = y + r * Math.sin(eAngle);\n        if (this.xy) {\n            this.xy[0] = endX;\n            this.xy[1] = endY;\n        }\n        else {\n            this.xy = [endX, endY];\n        }\n        this.commands.push(Command.Arc);\n        this.params.push(x, y, r, sAngle, eAngle, antiClockwise ? 1 : 0);\n    };\n    Path2D.prototype.cubicCurveTo = function (cx1, cy1, cx2, cy2, x, y) {\n        if (!this.xy) {\n            this.moveTo(cx1, cy1);\n        }\n        this.commands.push(Command.Curve);\n        this.params.push(cx1, cy1, cx2, cy2, x, y);\n        this.xy[0] = x;\n        this.xy[1] = y;\n    };\n    Object.defineProperty(Path2D.prototype, \"closedPath\", {\n        get: function () {\n            return this._closedPath;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Path2D.prototype.closePath = function () {\n        if (this.xy) {\n            this.xy = undefined;\n            this.commands.push(Command.ClosePath);\n            this._closedPath = true;\n        }\n    };\n    Path2D.prototype.clear = function (_a) {\n        var trackChanges = (_a === void 0 ? { trackChanges: false } : _a).trackChanges;\n        if (trackChanges) {\n            this.previousCommands = this.commands;\n            this.previousParams = this.params;\n            this.previousClosedPath = this._closedPath;\n            this.commands = [];\n            this.params = [];\n        }\n        else {\n            this.commands.length = 0;\n            this.params.length = 0;\n        }\n        this.xy = undefined;\n        this._closedPath = false;\n    };\n    Path2D.prototype.isPointInPath = function (x, y) {\n        var commands = this.commands;\n        var params = this.params;\n        var cn = commands.length;\n        // Hit testing using ray casting method, where the ray's origin is some point\n        // outside the path. In this case, an offscreen point that is remote enough, so that\n        // even if the path itself is large and is partially offscreen, the ray's origin\n        // will likely be outside the path anyway. To test if the given point is inside the\n        // path or not, we cast a ray from the origin to the given point and check the number\n        // of intersections of this segment with the path. If the number of intersections is\n        // even, then the ray both entered and exited the path an equal number of times,\n        // therefore the point is outside the path, and inside the path, if the number of\n        // intersections is odd. Since the path is compound, we check if the ray segment\n        // intersects with each of the path's segments, which can be either a line segment\n        // (one or no intersection points) or a Bézier curve segment (up to 3 intersection\n        // points).\n        var ox = -10000;\n        var oy = -10000;\n        // the starting point of the  current path\n        var sx = NaN;\n        var sy = NaN;\n        // the previous point of the current path\n        var px = 0;\n        var py = 0;\n        var intersectionCount = 0;\n        for (var ci = 0, pi = 0; ci < cn; ci++) {\n            switch (commands[ci]) {\n                case Command.Move:\n                    if (!isNaN(sx)) {\n                        if (segmentIntersection(sx, sy, px, py, ox, oy, x, y)) {\n                            intersectionCount++;\n                        }\n                    }\n                    px = params[pi++];\n                    sx = px;\n                    py = params[pi++];\n                    sy = py;\n                    break;\n                case Command.Line:\n                    if (segmentIntersection(px, py, params[pi++], params[pi++], ox, oy, x, y)) {\n                        intersectionCount++;\n                    }\n                    px = params[pi - 2];\n                    py = params[pi - 1];\n                    break;\n                case Command.Curve:\n                    intersectionCount += cubicSegmentIntersections(px, py, params[pi++], params[pi++], params[pi++], params[pi++], params[pi++], params[pi++], ox, oy, x, y).length;\n                    px = params[pi - 2];\n                    py = params[pi - 1];\n                    break;\n                case Command.Arc:\n                    intersectionCount += arcIntersections(params[pi++], params[pi++], params[pi++], params[pi++], params[pi++], Boolean(params[pi++]), ox, oy, x, y).length;\n                    px = params[pi - 2];\n                    py = params[pi - 1];\n                    break;\n                case Command.ClosePath:\n                    if (!isNaN(sx)) {\n                        if (segmentIntersection(sx, sy, px, py, ox, oy, x, y)) {\n                            intersectionCount++;\n                        }\n                    }\n                    break;\n            }\n        }\n        return intersectionCount % 2 === 1;\n    };\n    return Path2D;\n}());\nexport { Path2D };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Shape } from './shape';\nimport { Path2D } from '../path2D';\nimport { RedrawType, SceneChangeDetection } from '../node';\nexport function ScenePathChangeDetection(opts) {\n    var _a = opts || {}, _b = _a.redraw, redraw = _b === void 0 ? RedrawType.MAJOR : _b, changeCb = _a.changeCb, convertor = _a.convertor;\n    return SceneChangeDetection({ redraw: redraw, type: 'path', convertor: convertor, changeCb: changeCb });\n}\nvar Path = /** @class */ (function (_super) {\n    __extends(Path, _super);\n    function Path() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * Declare a path to retain for later rendering and hit testing\n         * using custom Path2D class. Think of it as a TypeScript version\n         * of the native Path2D (with some differences) that works in all browsers.\n         */\n        _this.path = new Path2D();\n        /**\n         * The path only has to be updated when certain attributes change.\n         * For example, if transform attributes (such as `translationX`)\n         * are changed, we don't have to update the path. The `dirtyPath` flag\n         * is how we keep track if the path has to be updated or not.\n         */\n        _this._dirtyPath = true;\n        return _this;\n    }\n    Object.defineProperty(Path.prototype, \"dirtyPath\", {\n        get: function () {\n            return this._dirtyPath;\n        },\n        set: function (value) {\n            if (this._dirtyPath !== value) {\n                this._dirtyPath = value;\n                if (value) {\n                    this.markDirty(this, RedrawType.MAJOR);\n                }\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Path.prototype.checkPathDirty = function () {\n        var _a, _b;\n        if (this._dirtyPath) {\n            return;\n        }\n        this.dirtyPath = this.path.isDirty() || ((_b = (_a = this.fillShadow) === null || _a === void 0 ? void 0 : _a.isDirty()) !== null && _b !== void 0 ? _b : false);\n    };\n    Path.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        return this.path.closedPath && this.path.isPointInPath(point.x, point.y);\n    };\n    Path.prototype.isDirtyPath = function () {\n        // Override point for more expensive dirty checks.\n        return false;\n    };\n    Path.prototype.updatePath = function () {\n        // Override point for subclasses.\n    };\n    Path.prototype.render = function (renderCtx) {\n        var _a, _b;\n        var ctx = renderCtx.ctx, forceRender = renderCtx.forceRender, stats = renderCtx.stats;\n        if (this.dirty === RedrawType.NONE && !forceRender) {\n            if (stats)\n                stats.nodesSkipped += this.nodeCount.count;\n            return;\n        }\n        this.computeTransformMatrix();\n        this.matrix.toContext(ctx);\n        if (this.dirtyPath || this.isDirtyPath()) {\n            this.updatePath();\n            this.dirtyPath = false;\n        }\n        if (this.clipPath) {\n            ctx.save();\n            if (this.clipMode === 'normal') {\n                // Bound the shape rendered to the clipping path.\n                this.clipPath.draw(ctx);\n                ctx.clip();\n            }\n            this.path.draw(ctx);\n            this.fillStroke(ctx);\n            if (this.clipMode === 'punch-out') {\n                // Bound the shape rendered to outside the clipping path.\n                this.clipPath.draw(ctx);\n                ctx.clip();\n                // Fallback values, but practically these should never be used.\n                var _c = (_a = this.computeBBox()) !== null && _a !== void 0 ? _a : {}, _d = _c.x, x = _d === void 0 ? -10000 : _d, _e = _c.y, y = _e === void 0 ? -10000 : _e, _f = _c.width, width = _f === void 0 ? 20000 : _f, _g = _c.height, height = _g === void 0 ? 20000 : _g;\n                ctx.clearRect(x, y, width, height);\n            }\n            ctx.restore();\n        }\n        else {\n            this.path.draw(ctx);\n            this.fillStroke(ctx);\n        }\n        (_b = this.fillShadow) === null || _b === void 0 ? void 0 : _b.markClean();\n        _super.prototype.render.call(this, renderCtx);\n    };\n    Path.className = 'Path';\n    __decorate([\n        ScenePathChangeDetection()\n    ], Path.prototype, \"clipPath\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Path.prototype, \"clipMode\", void 0);\n    return Path;\n}(Shape));\nexport { Path };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { Path, ScenePathChangeDetection } from '../../scene/shape/path';\nimport { BBox } from '../../scene/bbox';\nvar Marker = /** @class */ (function (_super) {\n    __extends(Marker, _super);\n    function Marker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.x = 0;\n        _this.y = 0;\n        _this.size = 12;\n        return _this;\n    }\n    Marker.prototype.computeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, size = _a.size;\n        var half = size / 2;\n        return new BBox(x - half, y - half, size, size);\n    };\n    Marker.prototype.applyPath = function (s, moves) {\n        var e_1, _a;\n        var path = this.path;\n        var _b = this, x = _b.x, y = _b.y;\n        path.clear();\n        try {\n            for (var moves_1 = __values(moves), moves_1_1 = moves_1.next(); !moves_1_1.done; moves_1_1 = moves_1.next()) {\n                var _c = moves_1_1.value, mx = _c.x, my = _c.y, t = _c.t;\n                x += mx * s;\n                y += my * s;\n                if (t === 'move') {\n                    path.moveTo(x, y);\n                }\n                else {\n                    path.lineTo(x, y);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (moves_1_1 && !moves_1_1.done && (_a = moves_1.return)) _a.call(moves_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        path.closePath();\n    };\n    __decorate([\n        ScenePathChangeDetection()\n    ], Marker.prototype, \"x\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Marker.prototype, \"y\", void 0);\n    __decorate([\n        ScenePathChangeDetection({ convertor: Math.abs })\n    ], Marker.prototype, \"size\", void 0);\n    return Marker;\n}(Path));\nexport { Marker };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from './marker';\nvar Square = /** @class */ (function (_super) {\n    __extends(Square, _super);\n    function Square() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Square.prototype.updatePath = function () {\n        var _a = this, path = _a.path, x = _a.x, y = _a.y;\n        var hs = this.size / 2;\n        path.clear();\n        path.moveTo(this.align(x - hs), this.align(y - hs));\n        path.lineTo(this.align(x + hs), this.align(y - hs));\n        path.lineTo(this.align(x + hs), this.align(y + hs));\n        path.lineTo(this.align(x - hs), this.align(y + hs));\n        path.closePath();\n    };\n    Square.className = 'Square';\n    return Square;\n}(Marker));\nexport { Square };\n", "import { addTransformToInstanceProperty } from './decorator';\nexport function ProxyOnWrite(proxyProperty) {\n    return addTransformToInstanceProperty(function (target, _, value) {\n        target[proxyProperty] = value;\n        return value;\n    });\n}\nexport function ProxyPropertyOnWrite(childName, childProperty) {\n    return addTransformToInstanceProperty(function (target, key, value) {\n        target[childName][childProperty !== null && childProperty !== void 0 ? childProperty : key] = value;\n        return value;\n    });\n}\n/**\n * Allows side-effects to be triggered on property write.\n *\n * @param opts.newValue called when a new value is set - never called for undefined values.\n * @param opts.oldValue called with the old value before a new value is set - never called for\n *                      undefined values.\n * @param opts.changeValue called on any change to the value - always called.\n */\nexport function ActionOnSet(opts) {\n    var newValueFn = opts.newValue, oldValueFn = opts.oldValue, changeValueFn = opts.changeValue;\n    return addTransformToInstanceProperty(function (target, _, newValue, oldValue) {\n        if (newValue !== oldValue) {\n            if (oldValue !== undefined) {\n                oldValueFn === null || oldValueFn === void 0 ? void 0 : oldValueFn.call(target, oldValue);\n            }\n            if (newValue !== undefined) {\n                newValueFn === null || newValueFn === void 0 ? void 0 : newValueFn.call(target, newValue);\n            }\n            changeValueFn === null || changeValueFn === void 0 ? void 0 : changeValueFn.call(target, newValue, oldValue);\n        }\n        return newValue;\n    });\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from '../scene/group';\nimport { Text } from '../scene/shape/text';\nimport { Square } from './marker/square';\nimport { HdpiCanvas } from '../canvas/hdpiCanvas';\nimport { ProxyPropertyOnWrite } from '../util/proxy';\nvar MarkerLabel = /** @class */ (function (_super) {\n    __extends(MarkerLabel, _super);\n    function MarkerLabel() {\n        var _this = _super.call(this, { name: 'markerLabelGroup' }) || this;\n        _this.label = new Text();\n        _this._marker = new Square();\n        _this._markerSize = 15;\n        _this._spacing = 8;\n        var label = _this.label;\n        label.textBaseline = 'middle';\n        label.fontSize = 12;\n        label.fontFamily = 'Verdana, sans-serif';\n        label.fill = 'black';\n        // For better looking vertical alignment of labels to markers.\n        label.y = HdpiCanvas.has.textMetrics ? 1 : 0;\n        _this.append([_this.marker, label]);\n        _this.update();\n        return _this;\n    }\n    Object.defineProperty(MarkerLabel.prototype, \"marker\", {\n        get: function () {\n            return this._marker;\n        },\n        set: function (value) {\n            if (this._marker !== value) {\n                this.removeChild(this._marker);\n                this._marker = value;\n                this.appendChild(value);\n                this.update();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"markerSize\", {\n        get: function () {\n            return this._markerSize;\n        },\n        set: function (value) {\n            if (this._markerSize !== value) {\n                this._markerSize = value;\n                this.update();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MarkerLabel.prototype, \"spacing\", {\n        get: function () {\n            return this._spacing;\n        },\n        set: function (value) {\n            if (this._spacing !== value) {\n                this._spacing = value;\n                this.update();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    MarkerLabel.prototype.update = function () {\n        var marker = this.marker;\n        var markerSize = this.markerSize;\n        marker.size = markerSize;\n        this.label.x = markerSize / 2 + this.spacing;\n    };\n    MarkerLabel.prototype.render = function (renderCtx) {\n        // Cannot override field Group.opacity with get/set pair, so\n        // propagate opacity changes here.\n        this.marker.opacity = this.opacity;\n        this.label.opacity = this.opacity;\n        _super.prototype.render.call(this, renderCtx);\n    };\n    MarkerLabel.className = 'MarkerLabel';\n    __decorate([\n        ProxyPropertyOnWrite('label')\n    ], MarkerLabel.prototype, \"text\", void 0);\n    __decorate([\n        ProxyPropertyOnWrite('label')\n    ], MarkerLabel.prototype, \"fontStyle\", void 0);\n    __decorate([\n        ProxyPropertyOnWrite('label')\n    ], MarkerLabel.prototype, \"fontWeight\", void 0);\n    __decorate([\n        ProxyPropertyOnWrite('label')\n    ], MarkerLabel.prototype, \"fontSize\", void 0);\n    __decorate([\n        ProxyPropertyOnWrite('label')\n    ], MarkerLabel.prototype, \"fontFamily\", void 0);\n    __decorate([\n        ProxyPropertyOnWrite('label', 'fill')\n    ], MarkerLabel.prototype, \"color\", void 0);\n    __decorate([\n        ProxyPropertyOnWrite('marker', 'fill')\n    ], MarkerLabel.prototype, \"markerFill\", void 0);\n    __decorate([\n        ProxyPropertyOnWrite('marker', 'stroke')\n    ], MarkerLabel.prototype, \"markerStroke\", void 0);\n    __decorate([\n        ProxyPropertyOnWrite('marker', 'strokeWidth')\n    ], MarkerLabel.prototype, \"markerStrokeWidth\", void 0);\n    __decorate([\n        ProxyPropertyOnWrite('marker', 'fillOpacity')\n    ], MarkerLabel.prototype, \"markerFillOpacity\", void 0);\n    __decorate([\n        ProxyPropertyOnWrite('marker', 'strokeOpacity')\n    ], MarkerLabel.prototype, \"markerStrokeOpacity\", void 0);\n    return MarkerLabel;\n}(Group));\nexport { MarkerLabel };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from './marker';\nvar Circle = /** @class */ (function (_super) {\n    __extends(Circle, _super);\n    function Circle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Circle.prototype.updatePath = function () {\n        var _a = this, x = _a.x, y = _a.y, path = _a.path, size = _a.size;\n        var r = size / 2;\n        path.clear();\n        path.arc(x, y, r, 0, Math.PI * 2);\n        path.closePath();\n    };\n    Circle.className = 'Circle';\n    return Circle;\n}(Marker));\nexport { Circle };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from './marker';\nvar Cross = /** @class */ (function (_super) {\n    __extends(Cross, _super);\n    function Cross() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Cross.prototype.updatePath = function () {\n        var s = this.size / 4.2;\n        _super.prototype.applyPath.call(this, s, Cross.moves);\n    };\n    Cross.className = 'Cross';\n    Cross.moves = [\n        { x: -1, y: 0, t: 'move' },\n        { x: -1, y: -1 },\n        { x: +1, y: -1 },\n        { x: +1, y: +1 },\n        { x: +1, y: -1 },\n        { x: +1, y: +1 },\n        { x: -1, y: +1 },\n        { x: +1, y: +1 },\n        { x: -1, y: +1 },\n        { x: -1, y: -1 },\n        { x: -1, y: +1 },\n        { x: -1, y: -1 },\n    ];\n    return Cross;\n}(Marker));\nexport { Cross };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from './marker';\nvar Diamond = /** @class */ (function (_super) {\n    __extends(Diamond, _super);\n    function Diamond() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Diamond.prototype.updatePath = function () {\n        var s = this.size / 2;\n        _super.prototype.applyPath.call(this, s, Diamond.moves);\n    };\n    Diamond.className = 'Diamond';\n    Diamond.moves = [\n        { x: 0, y: -1, t: 'move' },\n        { x: +1, y: +1 },\n        { x: -1, y: +1 },\n        { x: -1, y: -1 },\n        { x: +1, y: -1 },\n    ];\n    return Diamond;\n}(Marker));\nexport { Diamond };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from './marker';\nvar Heart = /** @class */ (function (_super) {\n    __extends(Heart, _super);\n    function Heart() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Heart.prototype.rad = function (degree) {\n        return (degree / 180) * Math.PI;\n    };\n    Heart.prototype.updatePath = function () {\n        var _a = this, x = _a.x, path = _a.path, size = _a.size, rad = _a.rad;\n        var r = size / 4;\n        var y = this.y + r / 2;\n        path.clear();\n        path.arc(x - r, y - r, r, rad(130), rad(330));\n        path.arc(x + r, y - r, r, rad(220), rad(50));\n        path.lineTo(x, y + r);\n        path.closePath();\n    };\n    Heart.className = 'Heart';\n    return Heart;\n}(Marker));\nexport { Heart };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from './marker';\nvar Plus = /** @class */ (function (_super) {\n    __extends(Plus, _super);\n    function Plus() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Plus.prototype.updatePath = function () {\n        var s = this.size / 3;\n        _super.prototype.applyPath.call(this, s, Plus.moves);\n    };\n    Plus.className = 'Plus';\n    Plus.moves = [\n        { x: -0.5, y: -0.5, t: 'move' },\n        { x: 0, y: -1 },\n        { x: +1, y: 0 },\n        { x: 0, y: +1 },\n        { x: +1, y: 0 },\n        { x: 0, y: +1 },\n        { x: -1, y: 0 },\n        { x: 0, y: +1 },\n        { x: -1, y: 0 },\n        { x: 0, y: -1 },\n        { x: -1, y: 0 },\n        { x: 0, y: -1 },\n    ];\n    return Plus;\n}(Marker));\nexport { Plus };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Marker } from './marker';\nvar Triangle = /** @class */ (function (_super) {\n    __extends(Triangle, _super);\n    function Triangle() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Triangle.prototype.updatePath = function () {\n        var s = this.size * 1.1;\n        _super.prototype.applyPath.call(this, s, Triangle.moves);\n    };\n    Triangle.className = 'Triangle';\n    Triangle.moves = [\n        { x: 0, y: -0.48, t: 'move' },\n        { x: 0.5, y: 0.87 },\n        { x: -1, y: 0 },\n    ];\n    return Triangle;\n}(Marker));\nexport { Triangle };\n", "import { Square } from './square';\nimport { Circle } from './circle';\nimport { Cross } from './cross';\nimport { Diamond } from './diamond';\nimport { Heart } from './heart';\nimport { Plus } from './plus';\nimport { Triangle } from './triangle';\n// This function is in its own file because putting it into SeriesMarker makes the Legend\n// suddenly aware of the series (it's an agnostic component), and putting it into Marker\n// introduces circular dependencies.\nexport function getMarker(shape) {\n    if (shape === void 0) { shape = Square; }\n    if (typeof shape === 'string') {\n        switch (shape) {\n            case 'circle':\n                return Circle;\n            case 'cross':\n                return Cross;\n            case 'diamond':\n                return Diamond;\n            case 'heart':\n                return Heart;\n            case 'plus':\n                return Plus;\n            case 'triangle':\n                return Triangle;\n            default:\n                return Square;\n        }\n    }\n    if (typeof shape === 'function') {\n        return shape;\n    }\n    return Square;\n}\n", "/** Types of chart-update, in pipeline execution order. */\nexport var ChartUpdateType;\n(function (ChartUpdateType) {\n    ChartUpdateType[ChartUpdateType[\"FULL\"] = 0] = \"FULL\";\n    ChartUpdateType[ChartUpdateType[\"PROCESS_DATA\"] = 1] = \"PROCESS_DATA\";\n    ChartUpdateType[ChartUpdateType[\"PERFORM_LAYOUT\"] = 2] = \"PERFORM_LAYOUT\";\n    ChartUpdateType[ChartUpdateType[\"SERIES_UPDATE\"] = 3] = \"SERIES_UPDATE\";\n    ChartUpdateType[ChartUpdateType[\"TOOLTIP_RECALCULATION\"] = 4] = \"TOOLTIP_RECALCULATION\";\n    ChartUpdateType[ChartUpdateType[\"SCENE_RENDER\"] = 5] = \"SCENE_RENDER\";\n    ChartUpdateType[ChartUpdateType[\"NONE\"] = 6] = \"NONE\";\n})(ChartUpdateType || (ChartUpdateType = {}));\n", "var __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nexport function gridLayout(_a) {\n    var orientation = _a.orientation, bboxes = _a.bboxes, maxHeight = _a.maxHeight, maxWidth = _a.maxWidth, _b = _a.itemPaddingY, itemPaddingY = _b === void 0 ? 0 : _b, _c = _a.itemPaddingX, itemPaddingX = _c === void 0 ? 0 : _c, _d = _a.forceResult, forceResult = _d === void 0 ? false : _d;\n    var horizontal = orientation === 'horizontal';\n    var primary = {\n        max: horizontal ? maxWidth : maxHeight,\n        fn: horizontal ? function (b) { return b.width; } : function (b) { return b.height; },\n        padding: horizontal ? itemPaddingX : itemPaddingY,\n    };\n    var secondary = {\n        max: !horizontal ? maxWidth : maxHeight,\n        fn: !horizontal ? function (b) { return b.width; } : function (b) { return b.height; },\n        padding: !horizontal ? itemPaddingX : itemPaddingY,\n    };\n    var processedBBoxCount = 0;\n    var rawPages = [];\n    while (processedBBoxCount < bboxes.length) {\n        var unprocessedBBoxes = bboxes.slice(processedBBoxCount);\n        var result = processBBoxes(unprocessedBBoxes, processedBBoxCount, primary, secondary, forceResult);\n        if (!result) {\n            return;\n        }\n        processedBBoxCount += result.processedBBoxCount;\n        rawPages.push(result.pageIndices);\n    }\n    return buildPages(rawPages, orientation, bboxes, itemPaddingY, itemPaddingX);\n}\nfunction processBBoxes(bboxes, indexOffset, primary, secondary, forceResult) {\n    // If calculatePage() fails on the first guess, we could use the number of items that fit\n    // as a good guess for the next iteration.\n    var minGuess = 1;\n    var startingGuess = estimateStartingGuess(bboxes, primary);\n    if (startingGuess < minGuess) {\n        if (!forceResult) {\n            return undefined;\n        }\n        // Legend constraints too small! Display at least one row/column if forceResult is true\n        startingGuess = minGuess;\n    }\n    for (var guess = startingGuess; guess >= minGuess; guess--) {\n        var pageIndices = calculatePage(bboxes, indexOffset, guess, primary, secondary, forceResult);\n        if (pageIndices == null && guess <= minGuess) {\n            // Can't layout!\n            return undefined;\n        }\n        if (pageIndices == null) {\n            // Guess again!\n            continue;\n        }\n        if (typeof pageIndices === 'number') {\n            // calculatePage() suggested a better guess, use that if it's more than minGuess.\n            if (pageIndices <= minGuess) {\n                // Can't layout!\n                return undefined;\n            }\n            guess = pageIndices < guess && pageIndices > minGuess ? pageIndices : guess;\n            continue;\n        }\n        var processedBBoxCount = pageIndices.length * pageIndices[0].length; // this is an estimate, not all rows/columns will have the same length\n        return { processedBBoxCount: processedBBoxCount, pageIndices: pageIndices };\n    }\n}\nfunction calculatePage(bboxes, indexOffset, primaryCount, primary, secondary, forceResult) {\n    var _a;\n    var result = [];\n    var sumSecondary = 0;\n    var currentMaxSecondary = 0;\n    var currentPrimaryIndices = [];\n    var maxPrimaryValues = [];\n    for (var bboxIndex = 0; bboxIndex < bboxes.length; bboxIndex++) {\n        var primaryValueIdx = (bboxIndex + primaryCount) % primaryCount;\n        if (primaryValueIdx === 0) {\n            sumSecondary += currentMaxSecondary;\n            currentMaxSecondary = 0;\n            if (currentPrimaryIndices.length > 0) {\n                result.push(currentPrimaryIndices);\n            }\n            currentPrimaryIndices = [];\n        }\n        var primaryValue = primary.fn(bboxes[bboxIndex]) + primary.padding;\n        maxPrimaryValues[primaryValueIdx] = Math.max((_a = maxPrimaryValues[primaryValueIdx]) !== null && _a !== void 0 ? _a : 0, primaryValue);\n        currentMaxSecondary = Math.max(currentMaxSecondary, secondary.fn(bboxes[bboxIndex]) + secondary.padding);\n        var currentSecondaryDimension = sumSecondary + currentMaxSecondary;\n        var returnResult = !forceResult || result.length > 0;\n        if (currentSecondaryDimension > secondary.max && returnResult) {\n            // Breached max secondary dimension size, return indices accumlated so far (but not in-progress row/column).\n            currentPrimaryIndices = [];\n            break;\n        }\n        var sumPrimary = maxPrimaryValues.reduce(function (sum, next) { return sum + next; }, 0);\n        if (sumPrimary > primary.max && !forceResult) {\n            // Breached max main dimension size.\n            if (maxPrimaryValues.length < primaryCount) {\n                // Feedback as guess for next iteration if we're on the first round still.\n                return maxPrimaryValues.length;\n            }\n            return undefined;\n        }\n        currentPrimaryIndices.push(bboxIndex + indexOffset);\n    }\n    if (currentPrimaryIndices.length > 0) {\n        result.push(currentPrimaryIndices);\n    }\n    return result.length > 0 ? result : undefined;\n}\nfunction buildPages(rawPages, orientation, bboxes, itemPaddingY, itemPaddingX) {\n    var maxPageWidth = 0;\n    var maxPageHeight = 0;\n    var pages = rawPages.map(function (indices) {\n        if (orientation === 'horizontal') {\n            indices = transpose(indices);\n        }\n        var endIndex = 0;\n        var columns = indices.map(function (colIndices) {\n            var colBBoxes = colIndices.map(function (bboxIndex) {\n                endIndex = Math.max(bboxIndex, endIndex);\n                return bboxes[bboxIndex];\n            });\n            var columnHeight = 0;\n            var columnWidth = 0;\n            colBBoxes.forEach(function (bbox) {\n                columnHeight += bbox.height + itemPaddingY;\n                columnWidth = Math.max(columnWidth, bbox.width + itemPaddingX);\n            });\n            return {\n                indices: colIndices,\n                bboxes: colBBoxes,\n                columnHeight: columnHeight,\n                columnWidth: columnWidth,\n            };\n        });\n        var pageWidth = 0;\n        var pageHeight = 0;\n        columns.forEach(function (column) {\n            pageWidth += column.columnWidth;\n            pageHeight = Math.max(pageHeight, column.columnHeight);\n        });\n        maxPageWidth = Math.max(pageWidth, maxPageWidth);\n        maxPageHeight = Math.max(pageHeight, maxPageHeight);\n        return {\n            columns: columns,\n            startIndex: indices[0][0],\n            endIndex: endIndex,\n            pageWidth: pageWidth,\n            pageHeight: pageHeight,\n        };\n    });\n    return { pages: pages, maxPageWidth: maxPageWidth, maxPageHeight: maxPageHeight };\n}\nfunction transpose(data) {\n    var e_1, _a;\n    var result = [];\n    try {\n        for (var _b = __values(data[0]), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var _ = _c.value;\n            result.push([]);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    data.forEach(function (innerData, dataIdx) {\n        innerData.forEach(function (item, itemIdx) {\n            result[itemIdx][dataIdx] = item;\n        });\n    });\n    return result;\n}\nfunction estimateStartingGuess(bboxes, primary) {\n    var n = bboxes.length;\n    var primarySum = 0;\n    for (var bboxIndex = 0; bboxIndex < n; bboxIndex++) {\n        primarySum += primary.fn(bboxes[bboxIndex]) + primary.padding;\n        if (primarySum > primary.max) {\n            var ratio = n / bboxIndex;\n            if (ratio < 2) {\n                return Math.ceil(n / 2);\n            }\n            return bboxIndex;\n        }\n    }\n    return n;\n}\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Group } from '../../scene/group';\nimport { Triangle } from '../marker/triangle';\nimport { Text } from '../../scene/shape/text';\nimport { HdpiCanvas } from '../../canvas/hdpiCanvas';\nimport { getMarker } from '../marker/util';\nimport { createId } from '../../util/id';\nimport { ChartUpdateType } from '../chartUpdateType';\nimport { COLOR_STRING, NUMBER, OPT_COLOR_STRING, OPT_FONT_STYLE, OPT_FONT_WEIGHT, OPT_NUMBER, STRING, Validate, } from '../../util/validation';\nvar PaginationLabel = /** @class */ (function () {\n    function PaginationLabel() {\n        this.color = 'black';\n        this.fontStyle = undefined;\n        this.fontWeight = undefined;\n        this.fontSize = 12;\n        this.fontFamily = 'Verdana, sans-serif';\n    }\n    __decorate([\n        Validate(COLOR_STRING)\n    ], PaginationLabel.prototype, \"color\", void 0);\n    __decorate([\n        Validate(OPT_FONT_STYLE)\n    ], PaginationLabel.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Validate(OPT_FONT_WEIGHT)\n    ], PaginationLabel.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], PaginationLabel.prototype, \"fontSize\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], PaginationLabel.prototype, \"fontFamily\", void 0);\n    return PaginationLabel;\n}());\nvar PaginationMarkerStyle = /** @class */ (function () {\n    function PaginationMarkerStyle() {\n        this.size = 15;\n        this.fill = undefined;\n        this.fillOpacity = undefined;\n        this.stroke = undefined;\n        this.strokeWidth = 1;\n        this.strokeOpacity = 1;\n    }\n    __decorate([\n        Validate(NUMBER(0))\n    ], PaginationMarkerStyle.prototype, \"size\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], PaginationMarkerStyle.prototype, \"fill\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0, 1))\n    ], PaginationMarkerStyle.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], PaginationMarkerStyle.prototype, \"stroke\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], PaginationMarkerStyle.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        Validate(NUMBER(0, 1))\n    ], PaginationMarkerStyle.prototype, \"strokeOpacity\", void 0);\n    return PaginationMarkerStyle;\n}());\nvar PaginationMarker = /** @class */ (function () {\n    function PaginationMarker() {\n        this.size = 15;\n        this._shape = Triangle;\n        /**\n         * Inner padding between a pagination button and the label.\n         */\n        this.padding = 8;\n    }\n    Object.defineProperty(PaginationMarker.prototype, \"shape\", {\n        get: function () {\n            return this._shape;\n        },\n        set: function (value) {\n            var _a;\n            this._shape = value;\n            (_a = this.parent) === null || _a === void 0 ? void 0 : _a.onMarkerShapeChange();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    __decorate([\n        Validate(NUMBER(0))\n    ], PaginationMarker.prototype, \"size\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], PaginationMarker.prototype, \"padding\", void 0);\n    return PaginationMarker;\n}());\nvar Pagination = /** @class */ (function () {\n    function Pagination(chartUpdateCallback, pageUpdateCallback, interactionManager, cursorManager) {\n        var _this = this;\n        this.chartUpdateCallback = chartUpdateCallback;\n        this.pageUpdateCallback = pageUpdateCallback;\n        this.interactionManager = interactionManager;\n        this.cursorManager = cursorManager;\n        this.id = createId(this);\n        this.group = new Group({ name: 'pagination' });\n        this.labelNode = new Text();\n        this.marker = new PaginationMarker();\n        this.activeStyle = new PaginationMarkerStyle();\n        this.inactiveStyle = new PaginationMarkerStyle();\n        this.highlightStyle = new PaginationMarkerStyle();\n        this.label = new PaginationLabel();\n        this.totalPages = 0;\n        this.currentPage = 0;\n        this.nextButtonDisabled = false;\n        this.previousButtonDisabled = false;\n        this._visible = true;\n        this._enabled = true;\n        this._orientation = 'vertical';\n        this._nextButton = new Triangle();\n        this._previousButton = new Triangle();\n        var labelNode = this.labelNode;\n        labelNode.textBaseline = 'middle';\n        labelNode.fontSize = 12;\n        labelNode.fontFamily = 'Verdana, sans-serif';\n        labelNode.fill = 'black';\n        labelNode.y = HdpiCanvas.has.textMetrics ? 1 : 0;\n        this.group.append([this.nextButton, this.previousButton, labelNode]);\n        this.interactionManager.addListener('click', function (event) { return _this.onPaginationClick(event); });\n        this.interactionManager.addListener('hover', function (event) { return _this.onPaginationMouseMove(event); });\n        this.marker.parent = this;\n        this.update();\n        this.updateMarkers();\n    }\n    Object.defineProperty(Pagination.prototype, \"visible\", {\n        get: function () {\n            return this._visible;\n        },\n        set: function (value) {\n            this._visible = value;\n            this.updateGroupVisibility();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Pagination.prototype, \"enabled\", {\n        get: function () {\n            return this._enabled;\n        },\n        set: function (value) {\n            this._enabled = value;\n            this.updateGroupVisibility();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Pagination.prototype.updateGroupVisibility = function () {\n        this.group.visible = this.enabled && this.visible;\n    };\n    Object.defineProperty(Pagination.prototype, \"orientation\", {\n        get: function () {\n            return this._orientation;\n        },\n        set: function (value) {\n            this._orientation = value;\n            switch (value) {\n                case 'horizontal': {\n                    this.previousButton.rotation = -Math.PI / 2;\n                    this.nextButton.rotation = Math.PI / 2;\n                    break;\n                }\n                case 'vertical':\n                default: {\n                    this.previousButton.rotation = 0;\n                    this.nextButton.rotation = Math.PI;\n                }\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Pagination.prototype, \"translationX\", {\n        get: function () {\n            return this.group.translationX;\n        },\n        set: function (value) {\n            this.group.translationX = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Pagination.prototype, \"translationY\", {\n        get: function () {\n            return this.group.translationY;\n        },\n        set: function (value) {\n            this.group.translationY = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Pagination.prototype, \"nextButton\", {\n        get: function () {\n            return this._nextButton;\n        },\n        set: function (value) {\n            if (this._nextButton !== value) {\n                this.group.removeChild(this._nextButton);\n                this._nextButton = value;\n                this.group.appendChild(value);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Pagination.prototype, \"previousButton\", {\n        get: function () {\n            return this._previousButton;\n        },\n        set: function (value) {\n            if (this._previousButton !== value) {\n                this.group.removeChild(this._previousButton);\n                this._previousButton = value;\n                this.group.appendChild(value);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Pagination.prototype.update = function () {\n        this.updateLabel();\n        this.updatePositions();\n        this.enableOrDisableButtons();\n    };\n    Pagination.prototype.updatePositions = function () {\n        this.updateLabelPosition();\n        this.updateNextButtonPosition();\n    };\n    Pagination.prototype.updateLabelPosition = function () {\n        var _a = this.marker, markerSize = _a.size, markerPadding = _a.padding;\n        this.nextButton.size = markerSize;\n        this.previousButton.size = markerSize;\n        this.labelNode.x = markerSize / 2 + markerPadding;\n    };\n    Pagination.prototype.updateNextButtonPosition = function () {\n        var labelBBox = this.labelNode.computeBBox();\n        this.nextButton.translationX = labelBBox.x + labelBBox.width + this.marker.size / 2 + this.marker.padding;\n    };\n    Pagination.prototype.updateLabel = function () {\n        var _a = this, currentPage = _a.currentPage, pages = _a.totalPages, labelNode = _a.labelNode, _b = _a.label, color = _b.color, fontStyle = _b.fontStyle, fontWeight = _b.fontWeight, fontSize = _b.fontSize, fontFamily = _b.fontFamily;\n        labelNode.text = currentPage + 1 + \" / \" + pages;\n        labelNode.fill = color;\n        labelNode.fontStyle = fontStyle;\n        labelNode.fontWeight = fontWeight;\n        labelNode.fontSize = fontSize;\n        labelNode.fontFamily = fontFamily;\n    };\n    Pagination.prototype.updateMarkers = function () {\n        var _a = this, nextButton = _a.nextButton, previousButton = _a.previousButton, nextButtonDisabled = _a.nextButtonDisabled, previousButtonDisabled = _a.previousButtonDisabled, activeStyle = _a.activeStyle, inactiveStyle = _a.inactiveStyle, highlightStyle = _a.highlightStyle, highlightActive = _a.highlightActive;\n        var buttonStyle = function (button, disabled) {\n            if (disabled) {\n                return inactiveStyle;\n            }\n            else if (button === highlightActive) {\n                return highlightStyle;\n            }\n            return activeStyle;\n        };\n        this.updateMarker(nextButton, buttonStyle('next', nextButtonDisabled));\n        this.updateMarker(previousButton, buttonStyle('previous', previousButtonDisabled));\n    };\n    Pagination.prototype.updateMarker = function (marker, style) {\n        var _a;\n        var size = this.marker.size;\n        marker.size = size;\n        marker.fill = style.fill;\n        marker.fillOpacity = (_a = style.fillOpacity) !== null && _a !== void 0 ? _a : 1;\n        marker.stroke = style.stroke;\n        marker.strokeWidth = style.strokeWidth;\n        marker.strokeOpacity = style.strokeOpacity;\n    };\n    Pagination.prototype.enableOrDisableButtons = function () {\n        var _a = this, currentPage = _a.currentPage, totalPages = _a.totalPages;\n        var zeroPagesToDisplay = totalPages === 0;\n        var onLastPage = currentPage === totalPages - 1;\n        var onFirstPage = currentPage === 0;\n        this.nextButtonDisabled = onLastPage || zeroPagesToDisplay;\n        this.previousButtonDisabled = onFirstPage || zeroPagesToDisplay;\n    };\n    Pagination.prototype.nextButtonContainsPoint = function (offsetX, offsetY) {\n        return !this.nextButtonDisabled && this.nextButton.containsPoint(offsetX, offsetY);\n    };\n    Pagination.prototype.previousButtonContainsPoint = function (offsetX, offsetY) {\n        return !this.previousButtonDisabled && this.previousButton.containsPoint(offsetX, offsetY);\n    };\n    Pagination.prototype.onPaginationClick = function (event) {\n        var offsetX = event.offsetX, offsetY = event.offsetY;\n        if (this.nextButtonContainsPoint(offsetX, offsetY)) {\n            this.incrementPage();\n            this.onPaginationChanged();\n            event.consume();\n        }\n        else if (this.previousButtonContainsPoint(offsetX, offsetY)) {\n            this.decrementPage();\n            this.onPaginationChanged();\n            event.consume();\n        }\n    };\n    Pagination.prototype.onPaginationMouseMove = function (event) {\n        var offsetX = event.offsetX, offsetY = event.offsetY;\n        if (this.nextButtonContainsPoint(offsetX, offsetY)) {\n            this.cursorManager.updateCursor(this.id, 'pointer');\n            this.highlightActive = 'next';\n        }\n        else if (this.previousButtonContainsPoint(offsetX, offsetY)) {\n            this.cursorManager.updateCursor(this.id, 'pointer');\n            this.highlightActive = 'previous';\n        }\n        else {\n            this.cursorManager.updateCursor(this.id);\n            this.highlightActive = undefined;\n        }\n        this.updateMarkers();\n        this.chartUpdateCallback(ChartUpdateType.SCENE_RENDER);\n    };\n    Pagination.prototype.onPaginationChanged = function () {\n        this.pageUpdateCallback(this.currentPage);\n    };\n    Pagination.prototype.incrementPage = function () {\n        this.currentPage = Math.min(this.currentPage + 1, this.totalPages - 1);\n    };\n    Pagination.prototype.decrementPage = function () {\n        this.currentPage = Math.max(this.currentPage - 1, 0);\n    };\n    Pagination.prototype.onMarkerShapeChange = function () {\n        var Marker = getMarker(this.marker.shape || Triangle);\n        this.previousButton = new Marker();\n        this.nextButton = new Marker();\n        this.updatePositions();\n        this.updateMarkers();\n        this.chartUpdateCallback(ChartUpdateType.SCENE_RENDER);\n    };\n    Pagination.prototype.attachPagination = function (node) {\n        node.append(this.group);\n    };\n    Pagination.prototype.computeBBox = function () {\n        return this.group.computeBBox();\n    };\n    Pagination.className = 'Pagination';\n    return Pagination;\n}());\nexport { Pagination };\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { RedrawType } from '../scene/node';\nimport { Group } from '../scene/group';\nimport { Selection } from '../scene/selection';\nimport { MarkerLabel } from './markerLabel';\nimport { BBox } from '../scene/bbox';\nimport { getFont } from '../scene/shape/text';\nimport { getMarker } from './marker/util';\nimport { createId } from '../util/id';\nimport { HdpiCanvas } from '../canvas/hdpiCanvas';\nimport { BOOLEAN, NUMBER, OPT_BOOLEAN, OPT_FONT_STYLE, OPT_FONT_WEIGHT, OPT_FUNCTION, OPT_NUMBER, POSITION, COLOR_STRING, STRING, Validate, predicateWithMessage, OPTIONAL, } from '../util/validation';\nimport { Layers } from './layers';\nimport { ChartUpdateType } from './chartUpdateType';\nimport { gridLayout } from './gridLayout';\nimport { Pagination } from './pagination/pagination';\nimport { toTooltipHtml } from './tooltip/tooltip';\nimport { Logger } from '../util/logger';\nvar ORIENTATIONS = ['horizontal', 'vertical'];\nexport var OPT_ORIENTATION = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, function (v) { return ORIENTATIONS.includes(v); }); }, \"expecting an orientation keyword such as 'horizontal' or 'vertical'\");\nvar LegendLabel = /** @class */ (function () {\n    function LegendLabel() {\n        this.maxLength = undefined;\n        this.color = 'black';\n        this.fontStyle = undefined;\n        this.fontWeight = undefined;\n        this.fontSize = 12;\n        this.fontFamily = 'Verdana, sans-serif';\n        this.formatter = undefined;\n    }\n    LegendLabel.prototype.getFont = function () {\n        return getFont(this.fontSize, this.fontFamily, this.fontStyle, this.fontWeight);\n    };\n    __decorate([\n        Validate(OPT_NUMBER(0))\n    ], LegendLabel.prototype, \"maxLength\", void 0);\n    __decorate([\n        Validate(COLOR_STRING)\n    ], LegendLabel.prototype, \"color\", void 0);\n    __decorate([\n        Validate(OPT_FONT_STYLE)\n    ], LegendLabel.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Validate(OPT_FONT_WEIGHT)\n    ], LegendLabel.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], LegendLabel.prototype, \"fontSize\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], LegendLabel.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], LegendLabel.prototype, \"formatter\", void 0);\n    return LegendLabel;\n}());\nvar LegendMarker = /** @class */ (function () {\n    function LegendMarker() {\n        this.size = 15;\n        /**\n         * If the marker type is set, the legend will always use that marker type for all its items,\n         * regardless of the type that comes from the `data`.\n         */\n        this._shape = undefined;\n        /**\n         * Padding between the marker and the label within each legend item.\n         */\n        this.padding = 8;\n        this.strokeWidth = 1;\n    }\n    Object.defineProperty(LegendMarker.prototype, \"shape\", {\n        get: function () {\n            return this._shape;\n        },\n        set: function (value) {\n            var _a;\n            this._shape = value;\n            (_a = this.parent) === null || _a === void 0 ? void 0 : _a.onMarkerShapeChange();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    __decorate([\n        Validate(NUMBER(0))\n    ], LegendMarker.prototype, \"size\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], LegendMarker.prototype, \"padding\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], LegendMarker.prototype, \"strokeWidth\", void 0);\n    return LegendMarker;\n}());\nvar LegendItem = /** @class */ (function () {\n    function LegendItem() {\n        this.marker = new LegendMarker();\n        this.label = new LegendLabel();\n        /** Used to constrain the width of legend items. */\n        this.maxWidth = undefined;\n        /**\n         * The legend uses grid layout for its items, occupying as few columns as possible when positioned to left or right,\n         * and as few rows as possible when positioned to top or bottom. This config specifies the amount of horizontal\n         * padding between legend items.\n         */\n        this.paddingX = 16;\n        /**\n         * The legend uses grid layout for its items, occupying as few columns as possible when positioned to left or right,\n         * and as few rows as possible when positioned to top or bottom. This config specifies the amount of vertical\n         * padding between legend items.\n         */\n        this.paddingY = 8;\n        this.toggleSeriesVisible = true;\n    }\n    __decorate([\n        Validate(OPT_NUMBER(0))\n    ], LegendItem.prototype, \"maxWidth\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], LegendItem.prototype, \"paddingX\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], LegendItem.prototype, \"paddingY\", void 0);\n    __decorate([\n        Validate(BOOLEAN)\n    ], LegendItem.prototype, \"toggleSeriesVisible\", void 0);\n    return LegendItem;\n}());\nvar LegendListeners = /** @class */ (function () {\n    function LegendListeners() {\n        this.legendItemClick = undefined;\n        this.legendItemDoubleClick = undefined;\n    }\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], LegendListeners.prototype, \"legendItemClick\", void 0);\n    return LegendListeners;\n}());\nvar Legend = /** @class */ (function () {\n    function Legend(chart, interactionManager, cursorManager, highlightManager, tooltipManager, layoutService) {\n        var _a;\n        var _this = this;\n        this.chart = chart;\n        this.interactionManager = interactionManager;\n        this.cursorManager = cursorManager;\n        this.highlightManager = highlightManager;\n        this.tooltipManager = tooltipManager;\n        this.layoutService = layoutService;\n        this.id = createId(this);\n        this.group = new Group({ name: 'legend', layer: true, zIndex: Layers.LEGEND_ZINDEX });\n        this.itemSelection = Selection.select(this.group, MarkerLabel);\n        this.oldSize = [0, 0];\n        this.pages = [];\n        this.maxPageSize = [0, 0];\n        /** Item index to track on re-pagination, so current page updates appropriately. */\n        this.paginationTrackingIndex = 0;\n        this.item = new LegendItem();\n        this.listeners = new LegendListeners();\n        this.truncatedItems = new Set();\n        this._data = [];\n        this._enabled = true;\n        this.position = 'right';\n        /** Used to constrain the width of the legend. */\n        this.maxWidth = undefined;\n        /** Used to constrain the height of the legend. */\n        this.maxHeight = undefined;\n        /** Reverse the display order of legend items if `true`. */\n        this.reverseOrder = undefined;\n        this.destroyFns = [];\n        /**\n         * Spacing between the legend and the edge of the chart's element.\n         */\n        this.spacing = 20;\n        this.characterWidths = new Map();\n        this.size = [0, 0];\n        this._visible = true;\n        this.item.marker.parent = this;\n        this.pagination = new Pagination(function (type) { return _this.chart.update(type); }, function (page) { return _this.updatePageNumber(page); }, this.interactionManager, this.cursorManager);\n        this.pagination.attachPagination(this.group);\n        this.item.marker.parent = this;\n        var interactionListeners = [\n            this.interactionManager.addListener('click', function (e) { return _this.checkLegendClick(e); }),\n            this.interactionManager.addListener('dblclick', function (e) { return _this.checkLegendDoubleClick(e); }),\n            this.interactionManager.addListener('hover', function (e) { return _this.handleLegendMouseMove(e); }),\n        ];\n        var layoutListeners = [\n            this.layoutService.addListener('start-layout', function (e) { return _this.positionLegend(e.shrinkRect); }),\n        ];\n        (_a = this.destroyFns).push.apply(_a, __spread(interactionListeners.map(function (s) { return function () { return _this.interactionManager.removeListener(s); }; }), layoutListeners.map(function (s) { return function () { return _this.layoutService.removeListener(s); }; })));\n    }\n    Object.defineProperty(Legend.prototype, \"translationX\", {\n        get: function () {\n            return this.group.translationX;\n        },\n        set: function (value) {\n            this.group.translationX = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"translationY\", {\n        get: function () {\n            return this.group.translationY;\n        },\n        set: function (value) {\n            this.group.translationY = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"data\", {\n        get: function () {\n            return this._data;\n        },\n        set: function (value) {\n            this._data = value;\n            this.updateGroupVisibility();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Legend.prototype, \"enabled\", {\n        get: function () {\n            return this._enabled;\n        },\n        set: function (value) {\n            this._enabled = value;\n            this.updateGroupVisibility();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Legend.prototype.getOrientation = function () {\n        if (this.orientation !== undefined) {\n            return this.orientation;\n        }\n        switch (this.position) {\n            case 'right':\n            case 'left':\n                return 'vertical';\n            case 'bottom':\n            case 'top':\n                return 'horizontal';\n        }\n    };\n    Legend.prototype.destroy = function () {\n        this.destroyFns.forEach(function (f) { return f(); });\n    };\n    Legend.prototype.onMarkerShapeChange = function () {\n        this.itemSelection.clear();\n        this.group.markDirty(this.group, RedrawType.MINOR);\n    };\n    Legend.prototype.getCharacterWidths = function (font) {\n        var characterWidths = this.characterWidths;\n        if (characterWidths.has(font)) {\n            return characterWidths.get(font);\n        }\n        var cw = {\n            '...': HdpiCanvas.getTextSize('...', font).width,\n        };\n        characterWidths.set(font, cw);\n        return cw;\n    };\n    Object.defineProperty(Legend.prototype, \"visible\", {\n        get: function () {\n            return this._visible;\n        },\n        set: function (value) {\n            this._visible = value;\n            this.updateGroupVisibility();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Legend.prototype.updateGroupVisibility = function () {\n        this.group.visible = this.enabled && this.visible && this.data.length > 0;\n    };\n    Legend.prototype.attachLegend = function (node) {\n        node.append(this.group);\n    };\n    /**\n     * The method is given the desired size of the legend, which only serves as a hint.\n     * The vertically oriented legend will take as much horizontal space as needed, but will\n     * respect the height constraints, and the horizontal legend will take as much vertical\n     * space as needed in an attempt not to exceed the given width.\n     * After the layout is done, the {@link size} will contain the actual size of the legend.\n     * If the actual size is not the same as the previous actual size, the legend will fire\n     * the 'layoutChange' event to communicate that another layout is needed, and the above\n     * process should be repeated.\n     * @param width\n     * @param height\n     */\n    Legend.prototype.performLayout = function (width, height) {\n        var _this = this;\n        var _a = this.item, paddingX = _a.paddingX, paddingY = _a.paddingY, label = _a.label, maxWidth = _a.maxWidth, _b = _a.marker, markerSize = _b.size, markerPadding = _b.padding, markerShape = _b.shape, _c = _a.label, _d = _c.maxLength, maxLength = _d === void 0 ? Infinity : _d, fontStyle = _c.fontStyle, fontWeight = _c.fontWeight, fontSize = _c.fontSize, fontFamily = _c.fontFamily;\n        var data = __spread(this.data);\n        if (this.reverseOrder) {\n            data.reverse();\n        }\n        this.itemSelection.update(data);\n        // Update properties that affect the size of the legend items and measure them.\n        var bboxes = [];\n        var font = label.getFont();\n        var itemMaxWidthPercentage = 0.8;\n        var maxItemWidth = maxWidth !== null && maxWidth !== void 0 ? maxWidth : width * itemMaxWidthPercentage;\n        var paddedMarkerWidth = markerSize + markerPadding + paddingX;\n        this.itemSelection.each(function (markerLabel, datum) {\n            var _a;\n            var Marker = getMarker(markerShape || datum.marker.shape);\n            if (!(markerLabel.marker && markerLabel.marker instanceof Marker)) {\n                markerLabel.marker = new Marker();\n            }\n            markerLabel.markerSize = markerSize;\n            markerLabel.spacing = markerPadding;\n            markerLabel.fontStyle = fontStyle;\n            markerLabel.fontWeight = fontWeight;\n            markerLabel.fontSize = fontSize;\n            markerLabel.fontFamily = fontFamily;\n            var id = datum.itemId || datum.id;\n            var text = ((_a = datum.label.text) !== null && _a !== void 0 ? _a : '<unknown>').replace(/\\r?\\n/g, ' ');\n            markerLabel.text = _this.truncate(text, maxLength, maxItemWidth, paddedMarkerWidth, font, id);\n            bboxes.push(markerLabel.computeBBox());\n        });\n        width = Math.max(1, width);\n        height = Math.max(1, height);\n        if (!isFinite(width)) {\n            return false;\n        }\n        var size = this.size;\n        var oldSize = this.oldSize;\n        size[0] = width;\n        size[1] = height;\n        if (size[0] !== oldSize[0] || size[1] !== oldSize[1]) {\n            oldSize[0] = size[0];\n            oldSize[1] = size[1];\n        }\n        var _e = this.updatePagination(bboxes, width, height), pages = _e.pages, maxPageHeight = _e.maxPageHeight, maxPageWidth = _e.maxPageWidth;\n        this.pages = pages;\n        this.maxPageSize = [maxPageWidth - paddingX, maxPageHeight - paddingY];\n        var pageNumber = this.pagination.currentPage;\n        var page = this.pages[pageNumber];\n        if (this.pages.length < 1 || !page) {\n            this.visible = false;\n            return;\n        }\n        this.visible = true;\n        // Position legend items\n        this.updatePositions(pageNumber);\n        // Update legend item properties that don't affect the layout.\n        this.update();\n    };\n    Legend.prototype.truncate = function (text, maxCharLength, maxItemWidth, paddedMarkerWidth, font, id) {\n        var e_1, _a;\n        var ellipsis = \"...\";\n        var textChars = text.split('');\n        var addEllipsis = false;\n        if (text.length > maxCharLength) {\n            text = \"\" + text.substring(0, maxCharLength);\n            addEllipsis = true;\n        }\n        var labelWidth = Math.floor(paddedMarkerWidth + HdpiCanvas.getTextSize(text, font).width);\n        if (labelWidth > maxItemWidth) {\n            var truncatedText = '';\n            var characterWidths = this.getCharacterWidths(font);\n            var cumulativeWidth = paddedMarkerWidth + characterWidths[ellipsis];\n            try {\n                for (var textChars_1 = __values(textChars), textChars_1_1 = textChars_1.next(); !textChars_1_1.done; textChars_1_1 = textChars_1.next()) {\n                    var char = textChars_1_1.value;\n                    if (!characterWidths[char]) {\n                        characterWidths[char] = HdpiCanvas.getTextSize(char, font).width;\n                    }\n                    cumulativeWidth += characterWidths[char];\n                    if (cumulativeWidth > maxItemWidth) {\n                        break;\n                    }\n                    truncatedText += char;\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (textChars_1_1 && !textChars_1_1.done && (_a = textChars_1.return)) _a.call(textChars_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            text = truncatedText;\n            addEllipsis = true;\n        }\n        if (addEllipsis) {\n            text += ellipsis;\n            this.truncatedItems.add(id);\n        }\n        else {\n            this.truncatedItems.delete(id);\n        }\n        return text;\n    };\n    Legend.prototype.updatePagination = function (bboxes, width, height) {\n        var orientation = this.getOrientation();\n        var trackingIndex = Math.min(this.paginationTrackingIndex, bboxes.length);\n        this.pagination.orientation = orientation;\n        this.pagination.translationX = 0;\n        this.pagination.translationY = 0;\n        var _a = this.calculatePagination(bboxes, width, height), pages = _a.pages, maxPageHeight = _a.maxPageHeight, maxPageWidth = _a.maxPageWidth, paginationBBox = _a.paginationBBox, paginationVertical = _a.paginationVertical;\n        var newCurrentPage = pages.findIndex(function (p) { return p.endIndex >= trackingIndex; });\n        this.pagination.currentPage = Math.min(Math.max(newCurrentPage, 0), pages.length - 1);\n        var _b = this.item, itemPaddingX = _b.paddingX, itemPaddingY = _b.paddingY;\n        var paginationComponentPadding = 8;\n        var legendItemsWidth = maxPageWidth - itemPaddingX;\n        var legendItemsHeight = maxPageHeight - itemPaddingY;\n        var paginationX = 0;\n        var paginationY = -paginationBBox.y - this.item.marker.size / 2;\n        if (paginationVertical) {\n            paginationY += legendItemsHeight + paginationComponentPadding;\n        }\n        else {\n            paginationX += -paginationBBox.x + legendItemsWidth + paginationComponentPadding;\n            paginationY += (legendItemsHeight - paginationBBox.height) / 2;\n        }\n        this.pagination.translationX = paginationX;\n        this.pagination.translationY = paginationY;\n        this.pagination.update();\n        this.pagination.updateMarkers();\n        return {\n            maxPageHeight: maxPageHeight,\n            maxPageWidth: maxPageWidth,\n            pages: pages,\n        };\n    };\n    Legend.prototype.calculatePagination = function (bboxes, width, height) {\n        var _a, _b, _c;\n        var _d = this.item, itemPaddingX = _d.paddingX, itemPaddingY = _d.paddingY;\n        var orientation = this.getOrientation();\n        var paginationVertical = ['left', 'right'].includes(this.position);\n        var paginationBBox = this.pagination.computeBBox();\n        var lastPassPaginationBBox = new BBox(0, 0, 0, 0);\n        var pages = [];\n        var maxPageWidth = 0;\n        var maxPageHeight = 0;\n        var count = 0;\n        var stableOutput = function (lastPassPaginationBBox) {\n            var width = lastPassPaginationBBox.width, height = lastPassPaginationBBox.height;\n            return width === paginationBBox.width && height === paginationBBox.height;\n        };\n        var forceResult = this.maxWidth !== undefined || this.maxHeight !== undefined;\n        do {\n            if (count++ > 10) {\n                Logger.warn('unable to find stable legend layout.');\n                break;\n            }\n            paginationBBox = lastPassPaginationBBox;\n            var maxWidth = width - (paginationVertical ? 0 : paginationBBox.width);\n            var maxHeight = height - (paginationVertical ? paginationBBox.height : 0);\n            var layout = gridLayout({\n                orientation: orientation,\n                bboxes: bboxes,\n                maxHeight: maxHeight,\n                maxWidth: maxWidth,\n                itemPaddingY: itemPaddingY,\n                itemPaddingX: itemPaddingX,\n                forceResult: forceResult,\n            });\n            pages = (_a = layout === null || layout === void 0 ? void 0 : layout.pages) !== null && _a !== void 0 ? _a : [];\n            maxPageWidth = (_b = layout === null || layout === void 0 ? void 0 : layout.maxPageWidth) !== null && _b !== void 0 ? _b : 0;\n            maxPageHeight = (_c = layout === null || layout === void 0 ? void 0 : layout.maxPageHeight) !== null && _c !== void 0 ? _c : 0;\n            var totalPages = pages.length;\n            this.pagination.visible = totalPages > 1;\n            this.pagination.totalPages = totalPages;\n            this.pagination.update();\n            lastPassPaginationBBox = this.pagination.computeBBox();\n            if (!this.pagination.visible) {\n                break;\n            }\n        } while (!stableOutput(lastPassPaginationBBox));\n        return { maxPageWidth: maxPageWidth, maxPageHeight: maxPageHeight, pages: pages, paginationBBox: paginationBBox, paginationVertical: paginationVertical };\n    };\n    Legend.prototype.updatePositions = function (pageNumber) {\n        if (pageNumber === void 0) { pageNumber = 0; }\n        var _a = this, paddingY = _a.item.paddingY, itemSelection = _a.itemSelection, pages = _a.pages;\n        if (pages.length < 1 || !pages[pageNumber]) {\n            return;\n        }\n        var _b = pages[pageNumber], columns = _b.columns, visibleStart = _b.startIndex, visibleEnd = _b.endIndex;\n        // Position legend items using the layout computed above.\n        var x = 0;\n        var y = 0;\n        var columnCount = columns.length;\n        var rowCount = columns[0].indices.length;\n        var horizontal = this.getOrientation() === 'horizontal';\n        var itemHeight = columns[0].bboxes[0].height + paddingY;\n        var rowSumColumnWidths = [];\n        itemSelection.each(function (markerLabel, _, i) {\n            var _a, _b;\n            if (i < visibleStart || i > visibleEnd) {\n                markerLabel.visible = false;\n                return;\n            }\n            var pageIndex = i - visibleStart;\n            var columnIndex = 0;\n            var rowIndex = 0;\n            if (horizontal) {\n                columnIndex = pageIndex % columnCount;\n                rowIndex = Math.floor(pageIndex / columnCount);\n            }\n            else {\n                columnIndex = Math.floor(pageIndex / rowCount);\n                rowIndex = pageIndex % rowCount;\n            }\n            markerLabel.visible = true;\n            var column = columns[columnIndex];\n            if (!column) {\n                return;\n            }\n            y = itemHeight * rowIndex;\n            x = (_a = rowSumColumnWidths[rowIndex]) !== null && _a !== void 0 ? _a : 0;\n            rowSumColumnWidths[rowIndex] = ((_b = rowSumColumnWidths[rowIndex]) !== null && _b !== void 0 ? _b : 0) + column.columnWidth;\n            // Round off for pixel grid alignment to work properly.\n            markerLabel.translationX = Math.floor(x);\n            markerLabel.translationY = Math.floor(y);\n        });\n    };\n    Legend.prototype.updatePageNumber = function (pageNumber) {\n        var pages = this.pages;\n        // Track an item on the page in re-pagination cases (e.g. resize).\n        var _a = pages[pageNumber], startIndex = _a.startIndex, endIndex = _a.endIndex;\n        if (startIndex === 0) {\n            // Stay on first page on pagination update.\n            this.paginationTrackingIndex = 0;\n        }\n        else if (pageNumber === pages.length - 1) {\n            // Stay on last page on pagination update.\n            this.paginationTrackingIndex = endIndex;\n        }\n        else {\n            // Track the middle item on the page).\n            this.paginationTrackingIndex = Math.floor((startIndex + endIndex) / 2);\n        }\n        this.pagination.update();\n        this.pagination.updateMarkers();\n        this.updatePositions(pageNumber);\n        this.chart.update(ChartUpdateType.SCENE_RENDER);\n    };\n    Legend.prototype.update = function () {\n        var _a = this.item, strokeWidth = _a.marker.strokeWidth, color = _a.label.color;\n        this.itemSelection.each(function (markerLabel, datum) {\n            var marker = datum.marker;\n            markerLabel.markerFill = marker.fill;\n            markerLabel.markerStroke = marker.stroke;\n            markerLabel.markerStrokeWidth = strokeWidth;\n            markerLabel.markerFillOpacity = marker.fillOpacity;\n            markerLabel.markerStrokeOpacity = marker.strokeOpacity;\n            markerLabel.opacity = datum.enabled ? 1 : 0.5;\n            markerLabel.color = color;\n        });\n    };\n    Legend.prototype.getDatumForPoint = function (x, y) {\n        var e_2, _a;\n        var visibleChildBBoxes = [];\n        var closestLeftTop = { dist: Infinity, datum: undefined };\n        try {\n            for (var _b = __values(this.group.children), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var child = _c.value;\n                if (!child.visible)\n                    continue;\n                if (!(child instanceof MarkerLabel))\n                    continue;\n                var childBBox = child.computeBBox();\n                childBBox.grow(this.item.paddingX / 2, 'horizontal');\n                childBBox.grow(this.item.paddingY / 2, 'vertical');\n                if (childBBox.containsPoint(x, y)) {\n                    return child.datum;\n                }\n                var distX = x - childBBox.x - this.item.paddingX / 2;\n                var distY = y - childBBox.y - this.item.paddingY / 2;\n                var dist = Math.pow(distX, 2) + Math.pow(distY, 2);\n                var toTheLeftTop = distX >= 0 && distY >= 0;\n                if (toTheLeftTop && dist < closestLeftTop.dist) {\n                    closestLeftTop.dist = dist;\n                    closestLeftTop.datum = child.datum;\n                }\n                visibleChildBBoxes.push(childBBox);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        var pageBBox = BBox.merge(visibleChildBBoxes);\n        if (!pageBBox.containsPoint(x, y)) {\n            // We're not in-between legend items.\n            return undefined;\n        }\n        // Fallback to returning closest match to the left/up.\n        return closestLeftTop.datum;\n    };\n    Legend.prototype.computeBBox = function () {\n        return this.group.computeBBox();\n    };\n    Legend.prototype.computePagedBBox = function () {\n        var actualBBox = this.group.computeBBox();\n        if (this.pages.length <= 1) {\n            return actualBBox;\n        }\n        var _a = __read(this.maxPageSize, 2), maxPageWidth = _a[0], maxPageHeight = _a[1];\n        actualBBox.height = Math.max(maxPageHeight, actualBBox.height);\n        actualBBox.width = Math.max(maxPageWidth, actualBBox.width);\n        return actualBBox;\n    };\n    Legend.prototype.checkLegendClick = function (event) {\n        var _a = this, legendItemClick = _a.listeners.legendItemClick, chart = _a.chart, highlightManager = _a.highlightManager, toggleSeriesVisible = _a.item.toggleSeriesVisible;\n        var datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n        if (!datum) {\n            return;\n        }\n        var id = datum.id, itemId = datum.itemId, enabled = datum.enabled;\n        var series = chart.series.find(function (s) { return s.id === id; });\n        if (!series) {\n            return;\n        }\n        event.consume();\n        var newEnabled = enabled;\n        if (toggleSeriesVisible) {\n            newEnabled = !enabled;\n            chart.series.forEach(function (s) {\n                if (s.id === series.id) {\n                    s.toggleSeriesItem(itemId, newEnabled);\n                }\n                else {\n                    s.toggleOtherSeriesItems(series, datum, newEnabled);\n                }\n            });\n        }\n        if (!newEnabled) {\n            highlightManager.updateHighlight(this.id);\n        }\n        else {\n            highlightManager.updateHighlight(this.id, {\n                series: series,\n                itemId: itemId,\n                datum: undefined,\n            });\n        }\n        this.chart.update(ChartUpdateType.PROCESS_DATA, { forceNodeDataRefresh: true });\n        legendItemClick === null || legendItemClick === void 0 ? void 0 : legendItemClick({ type: 'click', enabled: newEnabled, itemId: itemId, seriesId: series.id });\n    };\n    Legend.prototype.checkLegendDoubleClick = function (event) {\n        var _a, _b;\n        var _c = this, legendItemDoubleClick = _c.listeners.legendItemDoubleClick, chart = _c.chart, toggleSeriesVisible = _c.item.toggleSeriesVisible;\n        // Integrated charts do not handle double click behaviour correctly due to multiple instances of the\n        // chart being created. See https://ag-grid.atlassian.net/browse/RTI-1381\n        if (chart.mode === 'integrated') {\n            return;\n        }\n        var datum = this.getDatumForPoint(event.offsetX, event.offsetY);\n        if (!datum) {\n            return;\n        }\n        var id = datum.id, itemId = datum.itemId, seriesId = datum.seriesId;\n        var series = chart.series.find(function (s) { return s.id === id; });\n        if (!series) {\n            return;\n        }\n        event.consume();\n        if (toggleSeriesVisible) {\n            var legendData = chart.series.reduce(function (ls, s) { return __spread(ls, s.getLegendData()); }, []);\n            var visibleItemsCount = legendData.filter(function (d) { return d.enabled; }).length;\n            var clickedItem = legendData.find(function (d) { return d.itemId === itemId && d.seriesId === seriesId; });\n            var seriesItemCounts = legendData.reduce(function (acc, d) {\n                var _a;\n                var _b;\n                (_a = acc[_b = d.seriesId]) !== null && _a !== void 0 ? _a : (acc[_b] = 0);\n                acc[d.seriesId]++;\n                return acc;\n            }, {});\n            var seriesItemEnabledCounts = legendData.reduce(function (acc, d) {\n                var _a;\n                var _b;\n                if (!d.enabled)\n                    return acc;\n                (_a = acc[_b = d.seriesId]) !== null && _a !== void 0 ? _a : (acc[_b] = 0);\n                acc[d.seriesId]++;\n                return acc;\n            }, {});\n            var eachSeriesHasSingleItem_1 = Object.values(seriesItemCounts).filter(function (c) { return c > 1; }).length === 0;\n            var singleEnabledInEachSeries = Object.values(seriesItemEnabledCounts).filter(function (count) { return count > 1; }).length === 0;\n            var singleSelectedWasNotClicked_1 = visibleItemsCount === 1 && ((_a = clickedItem === null || clickedItem === void 0 ? void 0 : clickedItem.enabled) !== null && _a !== void 0 ? _a : false);\n            var singleEnabledInEachSeriesWasNotClicked_1 = singleEnabledInEachSeries && ((_b = clickedItem === null || clickedItem === void 0 ? void 0 : clickedItem.enabled) !== null && _b !== void 0 ? _b : false);\n            chart.series.forEach(function (s) {\n                var legendData = s.getLegendData();\n                legendData.forEach(function (d) {\n                    var wasClicked = d.itemId === itemId && d.seriesId === seriesId;\n                    var newEnabled = wasClicked ||\n                        (eachSeriesHasSingleItem_1 && singleSelectedWasNotClicked_1) ||\n                        (!eachSeriesHasSingleItem_1 && singleEnabledInEachSeriesWasNotClicked_1);\n                    s.toggleSeriesItem(d.itemId, newEnabled);\n                });\n                if (s.id !== series.id) {\n                    s.toggleOtherSeriesItems(series, datum, undefined, singleEnabledInEachSeriesWasNotClicked_1);\n                }\n            });\n        }\n        this.chart.update(ChartUpdateType.PROCESS_DATA, { forceNodeDataRefresh: true });\n        legendItemDoubleClick === null || legendItemDoubleClick === void 0 ? void 0 : legendItemDoubleClick({ type: 'dblclick', enabled: true, itemId: itemId, seriesId: series.id });\n    };\n    Legend.prototype.handleLegendMouseMove = function (event) {\n        var _a = this, enabled = _a.enabled, toggleSeriesVisible = _a.item.toggleSeriesVisible, listeners = _a.listeners;\n        if (!enabled) {\n            return;\n        }\n        var legendBBox = this.computeBBox();\n        var pageX = event.pageX, pageY = event.pageY, offsetX = event.offsetX, offsetY = event.offsetY;\n        var pointerInsideLegend = this.group.visible && legendBBox.containsPoint(offsetX, offsetY);\n        if (!pointerInsideLegend) {\n            this.cursorManager.updateCursor(this.id);\n            this.highlightManager.updateHighlight(this.id);\n            this.tooltipManager.removeTooltip(this.id);\n            return;\n        }\n        // Prevent other handlers from consuming this event if it's generated inside the legend\n        // boundaries.\n        event.consume();\n        var datum = this.getDatumForPoint(offsetX, offsetY);\n        var pointerOverLegendDatum = pointerInsideLegend && datum !== undefined;\n        if (!pointerOverLegendDatum) {\n            this.cursorManager.updateCursor(this.id);\n            this.highlightManager.updateHighlight(this.id);\n            return;\n        }\n        var series = datum ? this.chart.series.find(function (series) { return series.id === (datum === null || datum === void 0 ? void 0 : datum.id); }) : undefined;\n        if (datum && this.truncatedItems.has(datum.itemId || datum.id)) {\n            this.tooltipManager.updateTooltip(this.id, { pageX: pageX, pageY: pageY, offsetX: offsetX, offsetY: offsetY, event: event }, toTooltipHtml({ content: datum.label.text }));\n        }\n        else {\n            this.tooltipManager.removeTooltip(this.id);\n        }\n        if (toggleSeriesVisible || listeners.legendItemClick != null) {\n            this.cursorManager.updateCursor(this.id, 'pointer');\n        }\n        if ((datum === null || datum === void 0 ? void 0 : datum.enabled) && series) {\n            this.highlightManager.updateHighlight(this.id, {\n                series: series,\n                itemId: datum === null || datum === void 0 ? void 0 : datum.itemId,\n                datum: undefined,\n            });\n        }\n        else {\n            this.highlightManager.updateHighlight(this.id);\n        }\n    };\n    Legend.prototype.positionLegend = function (shrinkRect) {\n        var _this = this;\n        var newShrinkRect = shrinkRect.clone();\n        if (!this.enabled || !this.data.length) {\n            return { shrinkRect: newShrinkRect };\n        }\n        var _a = __read(this.calculateLegendDimensions(shrinkRect), 2), legendWidth = _a[0], legendHeight = _a[1];\n        var translationX = 0;\n        var translationY = 0;\n        this.translationX = 0;\n        this.translationY = 0;\n        this.performLayout(legendWidth, legendHeight);\n        var legendBBox = this.computePagedBBox();\n        var calculateTranslationPerpendicularDimension = function () {\n            switch (_this.position) {\n                case 'top':\n                    return 0;\n                case 'bottom':\n                    return shrinkRect.height - legendBBox.height;\n                case 'left':\n                    return 0;\n                case 'right':\n                default:\n                    return shrinkRect.width - legendBBox.width;\n            }\n        };\n        if (this.visible) {\n            switch (this.position) {\n                case 'top':\n                case 'bottom':\n                    translationX = (shrinkRect.width - legendBBox.width) / 2;\n                    translationY = calculateTranslationPerpendicularDimension();\n                    newShrinkRect.shrink(legendBBox.height, this.position);\n                    break;\n                case 'left':\n                case 'right':\n                default:\n                    translationX = calculateTranslationPerpendicularDimension();\n                    translationY = (shrinkRect.height - legendBBox.height) / 2;\n                    newShrinkRect.shrink(legendBBox.width, this.position);\n            }\n            // Round off for pixel grid alignment to work properly.\n            this.translationX = Math.floor(-legendBBox.x + shrinkRect.x + translationX);\n            this.translationY = Math.floor(-legendBBox.y + shrinkRect.y + translationY);\n        }\n        if (this.visible && this.enabled && this.data.length) {\n            var legendPadding = this.spacing;\n            newShrinkRect.shrink(legendPadding, this.position);\n            var legendPositionedBBox = legendBBox.clone();\n            legendPositionedBBox.x += this.translationX;\n            legendPositionedBBox.y += this.translationY;\n            this.tooltipManager.updateExclusiveRect(this.id, legendPositionedBBox);\n        }\n        else {\n            this.tooltipManager.updateExclusiveRect(this.id);\n        }\n        return { shrinkRect: newShrinkRect };\n    };\n    Legend.prototype.calculateLegendDimensions = function (shrinkRect) {\n        var width = shrinkRect.width, height = shrinkRect.height;\n        var aspectRatio = width / height;\n        var maxCoefficient = 0.5;\n        var minHeightCoefficient = 0.2;\n        var minWidthCoefficient = 0.25;\n        var legendWidth = 0;\n        var legendHeight = 0;\n        switch (this.position) {\n            case 'top':\n            case 'bottom':\n                // A horizontal legend should take maximum between 20 to 50 percent of the chart height if height is larger than width\n                // and maximum 20 percent of the chart height if height is smaller than width.\n                var heightCoefficient = aspectRatio < 1\n                    ? Math.min(maxCoefficient, minHeightCoefficient * (1 / aspectRatio))\n                    : minHeightCoefficient;\n                legendWidth = this.maxWidth ? Math.min(this.maxWidth, width) : width;\n                legendHeight = this.maxHeight\n                    ? Math.min(this.maxHeight, height)\n                    : Math.round(height * heightCoefficient);\n                break;\n            case 'left':\n            case 'right':\n            default:\n                // A vertical legend should take maximum between 25 to 50 percent of the chart width if width is larger than height\n                // and maximum 25 percent of the chart width if width is smaller than height.\n                var widthCoefficient = aspectRatio > 1 ? Math.min(maxCoefficient, minWidthCoefficient * aspectRatio) : minWidthCoefficient;\n                legendWidth = this.maxWidth ? Math.min(this.maxWidth, width) : Math.round(width * widthCoefficient);\n                legendHeight = this.maxHeight ? Math.min(this.maxHeight, height) : height;\n        }\n        return [legendWidth, legendHeight];\n    };\n    Legend.className = 'Legend';\n    __decorate([\n        Validate(BOOLEAN)\n    ], Legend.prototype, \"_enabled\", void 0);\n    __decorate([\n        Validate(POSITION)\n    ], Legend.prototype, \"position\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0))\n    ], Legend.prototype, \"maxWidth\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0))\n    ], Legend.prototype, \"maxHeight\", void 0);\n    __decorate([\n        Validate(OPT_BOOLEAN)\n    ], Legend.prototype, \"reverseOrder\", void 0);\n    __decorate([\n        Validate(OPT_ORIENTATION)\n    ], Legend.prototype, \"orientation\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], Legend.prototype, \"spacing\", void 0);\n    return Legend;\n}());\nexport { Legend };\n", "var __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar SizeMonitor = /** @class */ (function () {\n    function SizeMonitor() {\n    }\n    SizeMonitor.init = function () {\n        var _this = this;\n        var NativeResizeObserver = window.ResizeObserver;\n        if (NativeResizeObserver) {\n            this.resizeObserver = new NativeResizeObserver(function (entries) {\n                var e_1, _a;\n                try {\n                    for (var entries_1 = __values(entries), entries_1_1 = entries_1.next(); !entries_1_1.done; entries_1_1 = entries_1.next()) {\n                        var entry = entries_1_1.value;\n                        var _b = entry.contentRect, width = _b.width, height = _b.height;\n                        _this.checkSize(_this.elements.get(entry.target), entry.target, width, height);\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (entries_1_1 && !entries_1_1.done && (_a = entries_1.return)) _a.call(entries_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n            });\n        }\n        else {\n            // polyfill (more reliable even in browsers that support ResizeObserver)\n            var step = function () {\n                _this.elements.forEach(function (entry, element) {\n                    _this.checkClientSize(element, entry);\n                });\n            };\n            window.setInterval(step, 100);\n        }\n        this.ready = true;\n    };\n    SizeMonitor.checkSize = function (entry, element, width, height) {\n        if (entry) {\n            if (!entry.size || width !== entry.size.width || height !== entry.size.height) {\n                entry.size = { width: width, height: height };\n                entry.cb(entry.size, element);\n            }\n        }\n    };\n    // Only a single callback is supported.\n    SizeMonitor.observe = function (element, cb) {\n        if (!this.ready) {\n            this.init();\n        }\n        this.unobserve(element);\n        if (this.resizeObserver) {\n            this.resizeObserver.observe(element);\n        }\n        this.elements.set(element, { cb: cb });\n        // Ensure first size callback happens synchronously.\n        this.checkClientSize(element, { cb: cb });\n    };\n    SizeMonitor.unobserve = function (element) {\n        if (this.resizeObserver) {\n            this.resizeObserver.unobserve(element);\n        }\n        this.elements.delete(element);\n    };\n    SizeMonitor.checkClientSize = function (element, entry) {\n        var width = element.clientWidth ? element.clientWidth : 0;\n        var height = element.clientHeight ? element.clientHeight : 0;\n        this.checkSize(entry, element, width, height);\n    };\n    SizeMonitor.elements = new Map();\n    SizeMonitor.ready = false;\n    return SizeMonitor;\n}());\nexport { SizeMonitor };\n", "function circleRectOverlap(c, x, y, w, h) {\n    // Find closest horizontal and vertical edges.\n    var edgeX = c.x < x ? x : c.x > x + w ? x + w : c.x;\n    var edgeY = c.y < y ? y : c.y > y + h ? y + h : c.y;\n    // Find distance to closest edges.\n    var dx = c.x - edgeX;\n    var dy = c.y - edgeY;\n    var d = Math.sqrt(dx * dx + dy * dy);\n    return d <= c.size * 0.5;\n}\nfunction rectRectOverlap(r1, x2, y2, w2, h2) {\n    var xOverlap = r1.x + r1.width > x2 && r1.x < x2 + w2;\n    var yOverlap = r1.y + r1.height > y2 && r1.y < y2 + h2;\n    return xOverlap && yOverlap;\n}\nfunction rectContainsRect(r1, r2x, r2y, r2w, r2h) {\n    return r2x + r2w < r1.x + r1.width && r2x > r1.x && r2y > r1.y && r2y + r2h < r1.y + r1.height;\n}\nexport function isPointLabelDatum(x) {\n    return x != null && typeof x.point === 'object' && typeof x.label === 'object';\n}\n/**\n * @param data Points and labels for one or more series. The order of series determines label placement precedence.\n * @param bounds Bounds to fit the labels into. If a label can't be fully contained, it doesn't fit.\n * @returns Placed labels for the given series (in the given order).\n */\nexport function placeLabels(data, bounds, padding) {\n    if (padding === void 0) { padding = 5; }\n    var result = [];\n    data = data.map(function (d) { return d.slice().sort(function (a, b) { return b.point.size - a.point.size; }); });\n    for (var j = 0; j < data.length; j++) {\n        var labels = (result[j] = []);\n        var datum = data[j];\n        if (!(datum && datum.length && datum[0].label)) {\n            continue;\n        }\n        var _loop_1 = function (i, ln) {\n            var d = datum[i];\n            var l = d.label;\n            var r = d.point.size * 0.5;\n            var x = d.point.x - l.width * 0.5;\n            var y = d.point.y - r - l.height - padding;\n            var width = l.width, height = l.height;\n            var withinBounds = !bounds || rectContainsRect(bounds, x, y, width, height);\n            if (!withinBounds) {\n                return \"continue\";\n            }\n            var overlapPoints = data.some(function (datum) {\n                return datum.some(function (d) { return circleRectOverlap(d.point, x, y, width, height); });\n            });\n            if (overlapPoints) {\n                return \"continue\";\n            }\n            var overlapLabels = result.some(function (labels) { return labels.some(function (l) { return rectRectOverlap(l, x, y, width, height); }); });\n            if (overlapLabels) {\n                return \"continue\";\n            }\n            labels.push({\n                index: i,\n                text: l.text,\n                x: x,\n                y: y,\n                width: width,\n                height: height,\n                datum: d,\n            });\n        };\n        for (var i = 0, ln = datum.length; i < ln; i++) {\n            _loop_1(i, ln);\n        }\n    }\n    return result;\n}\nexport function axisLabelsOverlap(data, padding) {\n    var result = [];\n    var _loop_2 = function (i) {\n        var datum = data[i];\n        var _a = datum.point, x = _a.x, y = _a.y, text = datum.label.text;\n        var _b = datum.label, width = _b.width, height = _b.height;\n        width += padding !== null && padding !== void 0 ? padding : 0;\n        height += padding !== null && padding !== void 0 ? padding : 0;\n        var overlapLabels = result.some(function (l) {\n            var overlap = rectRectOverlap(l, x, y, width, height);\n            return overlap;\n        });\n        if (overlapLabels) {\n            return { value: true };\n        }\n        result.push({\n            index: i,\n            text: text,\n            x: x,\n            y: y,\n            width: width,\n            height: height,\n            datum: datum,\n        });\n    };\n    for (var i = 0; i < data.length; i++) {\n        var state_1 = _loop_2(i);\n        if (typeof state_1 === \"object\")\n            return state_1.value;\n    }\n    return false;\n}\n", "var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n/**\n * Wrap a function in debouncing trigger function. A requestAnimationFrame() is scheduled\n * after the first schedule() call, and subsequent schedule() calls will be ignored until the\n * animation callback executes.\n */\nexport function debouncedAnimationFrame(cb) {\n    return buildScheduler(function (cb) { return requestAnimationFrame(cb); }, cb);\n}\nexport function debouncedCallback(cb) {\n    return buildScheduler(function (cb) { return setTimeout(cb, 0); }, cb);\n}\nfunction buildScheduler(scheduleFn, cb) {\n    var scheduleCount = 0;\n    var promiseRunning = false;\n    var awaitingPromise;\n    var awaitingDone;\n    var busy = function () {\n        return promiseRunning;\n    };\n    var done = function () {\n        promiseRunning = false;\n        awaitingDone === null || awaitingDone === void 0 ? void 0 : awaitingDone();\n        awaitingDone = undefined;\n        awaitingPromise = undefined;\n        if (scheduleCount > 0) {\n            scheduleFn(scheduleCb);\n        }\n    };\n    var scheduleCb = function () {\n        var count = scheduleCount;\n        scheduleCount = 0;\n        promiseRunning = true;\n        var maybePromise = cb({ count: count });\n        if (!maybePromise) {\n            done();\n            return;\n        }\n        maybePromise.then(done).catch(done);\n    };\n    return {\n        schedule: function () {\n            if (scheduleCount === 0 && !busy()) {\n                scheduleFn(scheduleCb);\n            }\n            scheduleCount++;\n        },\n        await: function () {\n            return __awaiter(this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!busy()) {\n                                return [2 /*return*/];\n                            }\n                            if (!awaitingPromise) {\n                                awaitingPromise = new Promise(function (resolve) {\n                                    awaitingDone = resolve;\n                                });\n                            }\n                            _a.label = 1;\n                        case 1:\n                            if (!busy()) return [3 /*break*/, 3];\n                            return [4 /*yield*/, awaitingPromise];\n                        case 2:\n                            _a.sent();\n                            return [3 /*break*/, 1];\n                        case 3: return [2 /*return*/];\n                    }\n                });\n            });\n        },\n    };\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Marker } from '../marker/marker';\nimport { Circle } from '../marker/circle';\nimport { ChangeDetectable, RedrawType, SceneChangeDetection } from '../../scene/changeDetectable';\nimport { BOOLEAN, NUMBER, OPT_COLOR_STRING, OPT_NUMBER, OPT_NUMBER_ARRAY, predicateWithMessage, Validate, } from '../../util/validation';\nvar MARKER_SHAPES = ['circle', 'cross', 'diamond', 'heart', 'plus', 'square', 'triangle'];\nvar MARKER_SHAPE = predicateWithMessage(function (v) { return MARKER_SHAPES.includes(v) || Object.getPrototypeOf(v) === Marker; }, \"expecting a marker shape keyword such as 'circle', 'diamond' or 'square' or an object extending the Marker class\");\nvar SeriesMarker = /** @class */ (function (_super) {\n    __extends(SeriesMarker, _super);\n    function SeriesMarker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.enabled = true;\n        /**\n         * One of the predefined marker names, or a marker constructor function (for user-defined markers).\n         * A series will create one marker instance per data point.\n         */\n        _this.shape = Circle;\n        _this.size = 6;\n        /**\n         * In case a series has the `sizeKey` set, the `sizeKey` values along with the `size` and `maxSize` configs\n         * will be used to determine the size of the marker. All values will be mapped to a marker size\n         * within the `[size, maxSize]` range, where the largest values will correspond to the `maxSize`\n         * and the lowest to the `size`.\n         */\n        _this.maxSize = 30;\n        _this.domain = undefined;\n        _this.fill = undefined;\n        _this.stroke = undefined;\n        _this.strokeWidth = 1;\n        _this.fillOpacity = undefined;\n        _this.strokeOpacity = undefined;\n        return _this;\n    }\n    __decorate([\n        Validate(BOOLEAN),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], SeriesMarker.prototype, \"enabled\", void 0);\n    __decorate([\n        Validate(MARKER_SHAPE),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], SeriesMarker.prototype, \"shape\", void 0);\n    __decorate([\n        Validate(NUMBER(0)),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], SeriesMarker.prototype, \"size\", void 0);\n    __decorate([\n        Validate(NUMBER(0)),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], SeriesMarker.prototype, \"maxSize\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER_ARRAY),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], SeriesMarker.prototype, \"domain\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], SeriesMarker.prototype, \"fill\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], SeriesMarker.prototype, \"stroke\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0)),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], SeriesMarker.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0, 1)),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], SeriesMarker.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0, 1)),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], SeriesMarker.prototype, \"strokeOpacity\", void 0);\n    return SeriesMarker;\n}(ChangeDetectable));\nexport { SeriesMarker };\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { Logger } from '../util/logger';\nvar ContinuousScale = /** @class */ (function () {\n    function ContinuousScale(domain, range) {\n        this.domain = domain;\n        this.range = range;\n        this.nice = false;\n        this.tickCount = ContinuousScale.defaultTickCount;\n        this.minTickCount = 0;\n        this.maxTickCount = Infinity;\n        this.niceDomain = null;\n        this.strictClampByDefault = false;\n        this.cache = null;\n        this.cacheProps = ['domain', 'range', 'nice', 'tickCount', 'minTickCount', 'maxTickCount'];\n    }\n    ContinuousScale.prototype.transform = function (x) {\n        return x;\n    };\n    ContinuousScale.prototype.transformInvert = function (x) {\n        return x;\n    };\n    ContinuousScale.prototype.fromDomain = function (d) {\n        if (typeof d === 'number') {\n            return d;\n        }\n        else if (d instanceof Date) {\n            return d.getTime();\n        }\n        return NaN;\n    };\n    ContinuousScale.prototype.getDomain = function () {\n        if (this.nice) {\n            this.refresh();\n            if (this.niceDomain) {\n                return this.niceDomain;\n            }\n        }\n        return this.domain;\n    };\n    ContinuousScale.prototype.convert = function (x, params) {\n        var _this = this;\n        var _a;\n        if (!this.domain || this.domain.length < 2) {\n            return NaN;\n        }\n        this.refresh();\n        var strict = (_a = params === null || params === void 0 ? void 0 : params.strict) !== null && _a !== void 0 ? _a : this.strictClampByDefault;\n        var domain = this.getDomain().map(function (d) { return _this.transform(d); });\n        var _b = __read(domain, 2), d0 = _b[0], d1 = _b[1];\n        var range = this.range;\n        var _c = __read(range, 2), r0 = _c[0], r1 = _c[1];\n        x = this.transform(x);\n        if (x < d0) {\n            return strict ? NaN : r0;\n        }\n        else if (x > d1) {\n            return strict ? NaN : r1;\n        }\n        if (d0 === d1) {\n            return (r0 + r1) / 2;\n        }\n        else if (x === d0) {\n            return r0;\n        }\n        else if (x === d1) {\n            return r1;\n        }\n        return (r0 + ((this.fromDomain(x) - this.fromDomain(d0)) / (this.fromDomain(d1) - this.fromDomain(d0))) * (r1 - r0));\n    };\n    ContinuousScale.prototype.invert = function (x) {\n        var _this = this;\n        this.refresh();\n        var domain = this.getDomain().map(function (d) { return _this.transform(d); });\n        var _a = __read(domain, 2), d0 = _a[0], d1 = _a[1];\n        var range = this.range;\n        var _b = __read(range, 2), r0 = _b[0], r1 = _b[1];\n        var isReversed = r0 > r1;\n        var rMin = isReversed ? r1 : r0;\n        var rMax = isReversed ? r0 : r1;\n        var d;\n        if (x < rMin) {\n            return isReversed ? d1 : d0;\n        }\n        else if (x > rMax) {\n            return isReversed ? d0 : d1;\n        }\n        else if (r0 === r1) {\n            d = this.toDomain((this.fromDomain(d0) + this.fromDomain(d1)) / 2);\n        }\n        else {\n            d = this.toDomain(this.fromDomain(d0) + ((x - r0) / (r1 - r0)) * (this.fromDomain(d1) - this.fromDomain(d0)));\n        }\n        return this.transformInvert(d);\n    };\n    ContinuousScale.prototype.didChange = function () {\n        var _this = this;\n        var cache = this.cache;\n        var didChange = !cache || this.cacheProps.some(function (p) { return _this[p] !== cache[p]; });\n        if (didChange) {\n            this.cache = {};\n            this.cacheProps.forEach(function (p) { return (_this.cache[p] = _this[p]); });\n            return true;\n        }\n        return false;\n    };\n    ContinuousScale.prototype.refresh = function () {\n        if (this.didChange()) {\n            this.update();\n        }\n    };\n    ContinuousScale.prototype.isDenseInterval = function (_a) {\n        var start = _a.start, stop = _a.stop, interval = _a.interval, count = _a.count;\n        var range = this.range;\n        var domain = stop - start;\n        var min = Math.min(range[0], range[1]);\n        var max = Math.max(range[0], range[1]);\n        var availableRange = max - min;\n        var step = typeof interval === 'number' ? interval : 1;\n        count !== null && count !== void 0 ? count : (count = domain / step);\n        if (count >= availableRange) {\n            Logger.warn(\"the configured tick interval, \" + JSON.stringify(interval) + \", results in more than 1 tick per pixel, ignoring. Supply a larger tick interval or omit this configuration.\");\n            return true;\n        }\n        return false;\n    };\n    ContinuousScale.defaultTickCount = 5;\n    ContinuousScale.defaultMaxTickCount = 6;\n    return ContinuousScale;\n}());\nexport { ContinuousScale };\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nfunction clamp(x, min, max) {\n    return Math.max(min, Math.min(max, x));\n}\n/**\n * Maps a discrete domain to a continuous numeric range.\n */\nvar BandScale = /** @class */ (function () {\n    function BandScale() {\n        this.type = 'band';\n        this.cache = null;\n        this.cacheProps = ['_domain', 'range', '_paddingInner', '_paddingOuter', 'round', 'interval'];\n        /**\n         * Maps datum to its index in the {@link domain} array.\n         * Used to check for duplicate datums (not allowed).\n         */\n        this.index = new Map();\n        /**\n         * The output range values for datum at each index.\n         */\n        this.ordinalRange = [];\n        /**\n         * Contains unique datums only. Since `{}` is used in place of `Map`\n         * for IE11 compatibility, the datums are converted `toString` before\n         * the uniqueness check.\n         */\n        this._domain = [];\n        this.range = [0, 1];\n        this._bandwidth = 1;\n        this._rawBandwidth = 1;\n        /**\n         * The ratio of the range that is reserved for space between bands.\n         */\n        this._paddingInner = 0;\n        /**\n         * The ratio of the range that is reserved for space before the first\n         * and after the last band.\n         */\n        this._paddingOuter = 0;\n        this.round = false;\n    }\n    BandScale.prototype.didChange = function () {\n        var _this = this;\n        var cache = this.cache;\n        var didChange = !cache || this.cacheProps.some(function (p) { return _this[p] !== cache[p]; });\n        if (didChange) {\n            this.cache = {};\n            this.cacheProps.forEach(function (p) { return (_this.cache[p] = _this[p]); });\n            return true;\n        }\n        return false;\n    };\n    BandScale.prototype.refresh = function () {\n        if (this.didChange()) {\n            this.update();\n        }\n    };\n    Object.defineProperty(BandScale.prototype, \"domain\", {\n        get: function () {\n            return this._domain;\n        },\n        set: function (values) {\n            var domain = [];\n            this.index = new Map();\n            var index = this.index;\n            // In case one wants to have duplicate domain values, for example, two 'Italy' categories,\n            // one should use objects rather than strings for domain values like so:\n            // { toString: () => 'Italy' }\n            // { toString: () => 'Italy' }\n            values.forEach(function (value) {\n                if (index.get(value) === undefined) {\n                    index.set(value, domain.push(value) - 1);\n                }\n            });\n            this._domain = domain;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BandScale.prototype.ticks = function () {\n        this.refresh();\n        var _a = this.interval, interval = _a === void 0 ? 1 : _a;\n        var step = Math.abs(Math.round(interval));\n        return this._domain.filter(function (_, i) { return i % step === 0; });\n    };\n    BandScale.prototype.convert = function (d) {\n        this.refresh();\n        var i = this.index.get(d);\n        if (i === undefined) {\n            return NaN;\n        }\n        var r = this.ordinalRange[i];\n        if (r === undefined) {\n            return NaN;\n        }\n        return r;\n    };\n    BandScale.prototype.invert = function (position) {\n        this.refresh();\n        var index = this.ordinalRange.findIndex(function (p) { return p === position; });\n        return this.domain[index];\n    };\n    Object.defineProperty(BandScale.prototype, \"bandwidth\", {\n        get: function () {\n            this.refresh();\n            return this._bandwidth;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"rawBandwidth\", {\n        get: function () {\n            this.refresh();\n            return this._rawBandwidth;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"padding\", {\n        get: function () {\n            return this._paddingInner;\n        },\n        set: function (value) {\n            value = clamp(value, 0, 1);\n            this._paddingInner = value;\n            this._paddingOuter = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"paddingInner\", {\n        get: function () {\n            return this._paddingInner;\n        },\n        set: function (value) {\n            this._paddingInner = clamp(value, 0, 1);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BandScale.prototype, \"paddingOuter\", {\n        get: function () {\n            return this._paddingOuter;\n        },\n        set: function (value) {\n            this._paddingOuter = clamp(value, 0, 1);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BandScale.prototype.update = function () {\n        var count = this._domain.length;\n        if (count === 0) {\n            return;\n        }\n        var round = this.round;\n        var paddingInner = this._paddingInner;\n        var paddingOuter = this._paddingOuter;\n        var _a = __read(this.range, 2), r0 = _a[0], r1 = _a[1];\n        var width = r1 - r0;\n        var rawStep = width / Math.max(1, count + 2 * paddingOuter - paddingInner);\n        var step = round ? Math.floor(rawStep) : rawStep;\n        var fullBandWidth = step * (count - paddingInner);\n        var x0 = r0 + (width - fullBandWidth) / 2;\n        var start = round ? Math.round(x0) : x0;\n        var bw = step * (1 - paddingInner);\n        var bandwidth = round ? Math.round(bw) : bw;\n        var rawBandwidth = rawStep * (1 - paddingInner);\n        var values = [];\n        for (var i = 0; i < count; i++) {\n            values.push(start + step * i);\n        }\n        this._bandwidth = bandwidth;\n        this._rawBandwidth = rawBandwidth;\n        this.ordinalRange = values;\n    };\n    return BandScale;\n}());\nexport { BandScale };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Shape } from './shape';\nimport { BBox } from '../bbox';\nimport { RedrawType, SceneChangeDetection } from '../node';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        var _this = _super.call(this) || this;\n        _this.x1 = 0;\n        _this.y1 = 0;\n        _this.x2 = 0;\n        _this.y2 = 0;\n        _this.restoreOwnStyles();\n        return _this;\n    }\n    Line.prototype.computeBBox = function () {\n        return new BBox(this.x1, this.y1, this.x2 - this.x1, this.y2 - this.y1);\n    };\n    Line.prototype.isPointInPath = function (_x, _y) {\n        return false;\n    };\n    Line.prototype.render = function (renderCtx) {\n        var _a;\n        var ctx = renderCtx.ctx, forceRender = renderCtx.forceRender, stats = renderCtx.stats;\n        if (this.dirty === RedrawType.NONE && !forceRender) {\n            if (stats)\n                stats.nodesSkipped += this.nodeCount.count;\n            return;\n        }\n        this.computeTransformMatrix();\n        this.matrix.toContext(ctx);\n        var x1 = this.x1;\n        var y1 = this.y1;\n        var x2 = this.x2;\n        var y2 = this.y2;\n        // Align to the pixel grid if the line is strictly vertical\n        // or horizontal (but not both, i.e. a dot).\n        if (x1 === x2) {\n            var x = Math.round(x1) + (Math.floor(this.strokeWidth) % 2) / 2;\n            x1 = x;\n            x2 = x;\n        }\n        else if (y1 === y2) {\n            var y = Math.round(y1) + (Math.floor(this.strokeWidth) % 2) / 2;\n            y1 = y;\n            y2 = y;\n        }\n        ctx.beginPath();\n        ctx.moveTo(x1, y1);\n        ctx.lineTo(x2, y2);\n        this.fillStroke(ctx);\n        (_a = this.fillShadow) === null || _a === void 0 ? void 0 : _a.markClean();\n        _super.prototype.render.call(this, renderCtx);\n    };\n    Line.className = 'Line';\n    Line.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n        fill: undefined,\n        strokeWidth: 1,\n    });\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], Line.prototype, \"x1\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], Line.prototype, \"y1\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], Line.prototype, \"x2\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], Line.prototype, \"y2\", void 0);\n    return Line;\n}(Shape));\nexport { Line };\n", "export function isEqual(a, b, epsilon) {\n    if (epsilon === void 0) { epsilon = 1e-10; }\n    return Math.abs(a - b) < epsilon;\n}\n/**\n * `Number.toFixed(n)` always formats a number so that it has `n` digits after the decimal point.\n * For example, `Number(0.00003427).toFixed(2)` returns `0.00`.\n * That's not very helpful, because all the meaningful information is lost.\n * In this case we would want the formatted value to have at least two significant digits: `0.000034`,\n * not two fraction digits.\n * @param value\n * @param fractionOrSignificantDigits\n */\nexport function toFixed(value, fractionOrSignificantDigits) {\n    if (fractionOrSignificantDigits === void 0) { fractionOrSignificantDigits = 2; }\n    var power = Math.floor(Math.log(Math.abs(value)) / Math.LN10);\n    if (power >= 0 || !isFinite(power)) {\n        return value.toFixed(fractionOrSignificantDigits); // fraction digits\n    }\n    return value.toFixed(Math.abs(power) - 1 + fractionOrSignificantDigits); // significant digits\n}\n/**\n * Returns the mathematically correct n modulus of m. For context, the JS % operator is remainder\n * NOT modulus, which is why this is needed.\n */\nexport function mod(n, m) {\n    if (n >= 0) {\n        return Math.floor(n % m);\n    }\n    return Math.floor((n % m) + m);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Shape } from './shape';\nimport { Path, ScenePathChangeDetection } from './path';\nimport { BBox } from '../bbox';\nimport { normalizeAngle360 } from '../../util/angle';\nimport { isEqual } from '../../util/number';\nvar ArcType;\n(function (ArcType) {\n    ArcType[ArcType[\"Open\"] = 0] = \"Open\";\n    ArcType[ArcType[\"Chord\"] = 1] = \"Chord\";\n    ArcType[ArcType[\"Round\"] = 2] = \"Round\";\n})(ArcType || (ArcType = {}));\n/**\n * Elliptical arc node.\n */\nvar Arc = /** @class */ (function (_super) {\n    __extends(Arc, _super);\n    function Arc() {\n        var _this = _super.call(this) || this;\n        _this.centerX = 0;\n        _this.centerY = 0;\n        _this.radius = 10;\n        _this.startAngle = 0;\n        _this.endAngle = Math.PI * 2;\n        _this.counterClockwise = false;\n        /**\n         * The type of arc to render:\n         * - {@link ArcType.Open} - end points of the arc segment are not connected (default)\n         * - {@link ArcType.Chord} - end points of the arc segment are connected by a line segment\n         * - {@link ArcType.Round} - each of the end points of the arc segment are connected\n         *                           to the center of the arc\n         * Arcs with {@link ArcType.Open} do not support hit testing, even if they have their\n         * {@link Shape.fillStyle} set, because they are not closed paths. Hit testing support\n         * would require using two paths - one for rendering, another for hit testing - and there\n         * doesn't seem to be a compelling reason to do that, when one can just use {@link ArcType.Chord}\n         * to create a closed path.\n         */\n        _this.type = ArcType.Open;\n        _this.restoreOwnStyles();\n        return _this;\n    }\n    Object.defineProperty(Arc.prototype, \"fullPie\", {\n        get: function () {\n            return isEqual(normalizeAngle360(this.startAngle), normalizeAngle360(this.endAngle));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Arc.prototype.updatePath = function () {\n        var path = this.path;\n        path.clear(); // No need to recreate the Path, can simply clear the existing one.\n        path.arc(this.centerX, this.centerY, this.radius, this.startAngle, this.endAngle, this.counterClockwise);\n        if (this.type === ArcType.Chord) {\n            path.closePath();\n        }\n        else if (this.type === ArcType.Round && !this.fullPie) {\n            path.lineTo(this.centerX, this.centerY);\n            path.closePath();\n        }\n    };\n    Arc.prototype.computeBBox = function () {\n        // Only works with full arcs (circles) and untransformed ellipses.\n        return new BBox(this.centerX - this.radius, this.centerY - this.radius, this.radius * 2, this.radius * 2);\n    };\n    Arc.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return (this.type !== ArcType.Open &&\n            bbox.containsPoint(point.x, point.y) &&\n            this.path.isPointInPath(point.x, point.y));\n    };\n    Arc.className = 'Arc';\n    Arc.defaultStyles = Object.assign({}, Shape.defaultStyles, {\n        lineWidth: 1,\n        fillStyle: null,\n    });\n    __decorate([\n        ScenePathChangeDetection()\n    ], Arc.prototype, \"centerX\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Arc.prototype, \"centerY\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Arc.prototype, \"radius\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Arc.prototype, \"startAngle\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Arc.prototype, \"endAngle\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Arc.prototype, \"counterClockwise\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Arc.prototype, \"type\", void 0);\n    return Arc;\n}(Path));\nexport { Arc };\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Text } from './scene/shape/text';\nimport { PointerEvents } from './scene/node';\nimport { BOOLEAN, NUMBER, OPT_COLOR_STRING, OPT_FONT_STYLE, OPT_FONT_WEIGHT, OPT_NUMBER, STRING, Validate, } from './util/validation';\nimport { ProxyPropertyOnWrite } from './util/proxy';\nvar Caption = /** @class */ (function () {\n    function Caption() {\n        this.node = new Text();\n        this.enabled = false;\n        this.text = '';\n        this.fontSize = 10;\n        this.fontFamily = 'sans-serif';\n        this.spacing = Caption.PADDING;\n        this._lineHeight = undefined;\n        var node = this.node;\n        node.textAlign = 'center';\n        node.pointerEvents = PointerEvents.None;\n    }\n    Object.defineProperty(Caption.prototype, \"lineHeight\", {\n        get: function () {\n            return this._lineHeight;\n        },\n        set: function (value) {\n            this._lineHeight = value;\n            this.node.lineHeight = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Caption.PADDING = 10;\n    __decorate([\n        Validate(BOOLEAN)\n    ], Caption.prototype, \"enabled\", void 0);\n    __decorate([\n        Validate(STRING),\n        ProxyPropertyOnWrite('node')\n    ], Caption.prototype, \"text\", void 0);\n    __decorate([\n        Validate(OPT_FONT_STYLE),\n        ProxyPropertyOnWrite('node')\n    ], Caption.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Validate(OPT_FONT_WEIGHT),\n        ProxyPropertyOnWrite('node')\n    ], Caption.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Validate(NUMBER(0)),\n        ProxyPropertyOnWrite('node')\n    ], Caption.prototype, \"fontSize\", void 0);\n    __decorate([\n        Validate(STRING),\n        ProxyPropertyOnWrite('node')\n    ], Caption.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING),\n        ProxyPropertyOnWrite('node', 'fill')\n    ], Caption.prototype, \"color\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0))\n    ], Caption.prototype, \"spacing\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0))\n    ], Caption.prototype, \"_lineHeight\", void 0);\n    return Caption;\n}());\nexport { Caption };\n", "export function areArrayItemsStrictlyEqual(arrA, arrB) {\n    return (arrA.length === arrB.length &&\n        arrA.every(function (a, i) {\n            var b = arrB[i];\n            if (Array.isArray(a) && Array.isArray(b)) {\n                return areArrayItemsStrictlyEqual(a, b);\n            }\n            return a === b;\n        }));\n}\nexport function areArrayNumbersEqual(arrA, arrB) {\n    return arrA.length === arrB.length && arrA.every(function (item, i) { return Number(item) === Number(arrB[i]); });\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexport default function (start, stop, count, minCount, maxCount) {\n    if (count < 2) {\n        return range(start, stop, stop - start);\n    }\n    var step = tickStep(start, stop, count, minCount, maxCount);\n    if (isNaN(step)) {\n        return new NumericTicks(0);\n    }\n    start = Math.ceil(start / step) * step;\n    stop = Math.floor(stop / step) * step;\n    return range(start, stop, step);\n}\nvar tickMultipliers = [1, 2, 5, 10];\nexport function tickStep(a, b, count, minCount, maxCount) {\n    if (minCount === void 0) { minCount = 0; }\n    if (maxCount === void 0) { maxCount = Infinity; }\n    var rawStep = (b - a) / count;\n    var power = Math.floor(Math.log10(rawStep));\n    var step = Math.pow(10, power);\n    var m = tickMultipliers\n        .map(function (multiplier) {\n        var s = multiplier * step;\n        var c = Math.ceil((b - a) / s);\n        var isWithinBounds = c >= minCount && c <= maxCount;\n        var diffCount = Math.abs(c - count);\n        return { multiplier: multiplier, isWithinBounds: isWithinBounds, diffCount: diffCount };\n    })\n        .sort(function (a, b) {\n        if (a.isWithinBounds !== b.isWithinBounds) {\n            return a.isWithinBounds ? -1 : 1;\n        }\n        return a.diffCount - b.diffCount;\n    })[0].multiplier;\n    if (!m || isNaN(m)) {\n        return NaN;\n    }\n    return m * step;\n}\nexport function singleTickDomain(a, b) {\n    var power = Math.floor(Math.log10(b - a));\n    var step = Math.pow(10, power);\n    return tickMultipliers\n        .map(function (multiplier) {\n        var s = multiplier * step;\n        var start = Math.floor(a / s) * s;\n        var end = Math.ceil(b / s) * s;\n        var error = 1 - (b - a) / (end - start);\n        var domain = [start, end];\n        return { error: error, domain: domain };\n    })\n        .sort(function (a, b) { return a.error - b.error; })[0].domain;\n}\nvar NumericTicks = /** @class */ (function (_super) {\n    __extends(NumericTicks, _super);\n    function NumericTicks(fractionDigits, elements) {\n        var _this = _super.call(this) || this;\n        if (elements) {\n            for (var i = 0, n = elements.length; i < n; i++) {\n                _this[i] = elements[i];\n            }\n        }\n        _this.fractionDigits = fractionDigits;\n        return _this;\n    }\n    return NumericTicks;\n}(Array));\nexport { NumericTicks };\nexport function range(start, stop, step) {\n    var countDigits = function (expNo) {\n        var _a, _b;\n        var parts = expNo.split('e');\n        return Math.max(((_b = (_a = parts[0].split('.')[1]) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) - Number(parts[1]), 0);\n    };\n    var fractionalDigits = countDigits((step % 1).toExponential());\n    var f = Math.pow(10, fractionalDigits);\n    var n = Math.ceil((stop - start) / step);\n    var values = new NumericTicks(fractionalDigits);\n    for (var i = 0; i <= n; i++) {\n        var value = start + step * i;\n        values.push(Math.round(value * f) / f);\n    }\n    return values;\n}\n", "var CONSTANTS = {\n    periods: ['AM', 'PM'],\n    days: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],\n    shortDays: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n    months: [\n        'January',\n        'February',\n        'March',\n        'April',\n        'May',\n        'June',\n        'July',\n        'August',\n        'September',\n        'October',\n        'November',\n        'December',\n    ],\n    shortMonths: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n};\nfunction dayOfYear(date, startOfYear) {\n    if (startOfYear === void 0) { startOfYear = new Date(date.getFullYear(), 0, 1); }\n    var startOffset = date.getTimezoneOffset() - startOfYear.getTimezoneOffset();\n    var timeDiff = date.getTime() - startOfYear.getTime() + startOffset * 60000;\n    var timeOneDay = 3600000 * 24;\n    return Math.floor(timeDiff / timeOneDay);\n}\nfunction weekOfYear(date, startDay) {\n    var startOfYear = new Date(date.getFullYear(), 0, 1);\n    var startOfYearDay = startOfYear.getDay();\n    var firstWeekStartOffset = (startDay - startOfYearDay + 7) % 7;\n    var startOffset = new Date(date.getFullYear(), 0, firstWeekStartOffset + 1);\n    if (startOffset <= date) {\n        return Math.floor(dayOfYear(date, startOffset) / 7) + 1;\n    }\n    // Days before week 1 are in week 0.\n    return 0;\n}\nvar SUNDAY = 0;\nvar MONDAY = 1;\nvar THURSDAY = 4;\nfunction isoWeekOfYear(date, year) {\n    if (year === void 0) { year = date.getFullYear(); }\n    var firstOfYear = new Date(year, 0, 1);\n    var firstOfYearDay = firstOfYear.getDay();\n    var firstThursdayOffset = (THURSDAY - firstOfYearDay + 7) % 7;\n    var startOffset = new Date(year, 0, firstThursdayOffset - (THURSDAY - MONDAY) + 1);\n    if (startOffset <= date) {\n        return Math.floor(dayOfYear(date, startOffset) / 7) + 1;\n    }\n    // Days before week 1 are in week 52/53 of previous year.\n    return isoWeekOfYear(date, year - 1);\n}\nfunction timezone(date) {\n    var offset = date.getTimezoneOffset();\n    var unsignedOffset = Math.abs(offset);\n    var sign = offset > 0 ? '-' : '+';\n    return \"\" + sign + pad(Math.floor(unsignedOffset / 60), 2, '0') + pad(Math.floor(unsignedOffset % 60), 2, '0');\n}\nvar FORMATTERS = {\n    a: function (d) { return CONSTANTS.shortDays[d.getDay()]; },\n    A: function (d) { return CONSTANTS.days[d.getDay()]; },\n    b: function (d) { return CONSTANTS.shortMonths[d.getMonth()]; },\n    B: function (d) { return CONSTANTS.months[d.getMonth()]; },\n    c: '%x, %X',\n    d: function (d, p) { return pad(d.getDate(), 2, p !== null && p !== void 0 ? p : '0'); },\n    e: '%_d',\n    f: function (d, p) { return pad(d.getMilliseconds() * 1000, 6, p !== null && p !== void 0 ? p : '0'); },\n    H: function (d, p) { return pad(d.getHours(), 2, p !== null && p !== void 0 ? p : '0'); },\n    I: function (d, p) {\n        var hours = d.getHours() % 12;\n        return hours === 0 ? '12' : pad(hours, 2, p !== null && p !== void 0 ? p : '0');\n    },\n    j: function (d, p) { return pad(dayOfYear(d) + 1, 3, p !== null && p !== void 0 ? p : '0'); },\n    m: function (d, p) { return pad(d.getMonth() + 1, 2, p !== null && p !== void 0 ? p : '0'); },\n    M: function (d, p) { return pad(d.getMinutes(), 2, p !== null && p !== void 0 ? p : '0'); },\n    L: function (d, p) { return pad(d.getMilliseconds(), 3, p !== null && p !== void 0 ? p : '0'); },\n    p: function (d) { return (d.getHours() < 12 ? 'AM' : 'PM'); },\n    Q: function (d) { return String(d.getTime()); },\n    s: function (d) { return String(Math.floor(d.getTime() / 1000)); },\n    S: function (d, p) { return pad(d.getSeconds(), 2, p !== null && p !== void 0 ? p : '0'); },\n    u: function (d) {\n        var day = d.getDay();\n        if (day < 1)\n            day += 7;\n        return String(day % 7);\n    },\n    U: function (d, p) { return pad(weekOfYear(d, SUNDAY), 2, p !== null && p !== void 0 ? p : '0'); },\n    V: function (d, p) { return pad(isoWeekOfYear(d), 2, p !== null && p !== void 0 ? p : '0'); },\n    w: function (d, p) { return pad(d.getDay(), 2, p !== null && p !== void 0 ? p : '0'); },\n    W: function (d, p) { return pad(weekOfYear(d, MONDAY), 2, p !== null && p !== void 0 ? p : '0'); },\n    x: '%-m/%-d/%Y',\n    X: '%-I:%M:%S %p',\n    y: function (d, p) { return pad(d.getFullYear() % 100, 2, p !== null && p !== void 0 ? p : '0'); },\n    Y: function (d, p) { return pad(d.getFullYear(), 4, p !== null && p !== void 0 ? p : '0'); },\n    Z: function (d) { return timezone(d); },\n    '%': function () { return '%'; },\n};\nvar PADS = {\n    _: ' ',\n    '0': '0',\n    '-': '',\n};\nfunction pad(value, size, padChar) {\n    var output = String(Math.floor(value));\n    if (output.length >= size) {\n        return output;\n    }\n    return \"\" + padChar.repeat(size - output.length) + output;\n}\nexport function buildFormatter(formatString) {\n    var formatParts = [];\n    while (formatString.length > 0) {\n        var nextEscapeIdx = formatString.indexOf('%');\n        if (nextEscapeIdx !== 0) {\n            var literalPart = nextEscapeIdx > 0 ? formatString.substring(0, nextEscapeIdx) : formatString;\n            formatParts.push(literalPart);\n        }\n        if (nextEscapeIdx < 0)\n            break;\n        var maybePadSpecifier = formatString[nextEscapeIdx + 1];\n        var maybePad = PADS[maybePadSpecifier];\n        if (maybePad != null) {\n            nextEscapeIdx++;\n        }\n        var maybeFormatterSpecifier = formatString[nextEscapeIdx + 1];\n        var maybeFormatter = FORMATTERS[maybeFormatterSpecifier];\n        if (typeof maybeFormatter === 'function') {\n            formatParts.push([maybeFormatter, maybePad]);\n        }\n        else if (typeof maybeFormatter === 'string') {\n            var formatter = buildFormatter(maybeFormatter);\n            formatParts.push([formatter, maybePad]);\n        }\n        else {\n            formatParts.push(\"\" + (maybePad !== null && maybePad !== void 0 ? maybePad : '') + maybeFormatterSpecifier);\n        }\n        formatString = formatString.substring(nextEscapeIdx + 2);\n    }\n    return function (dateTime) {\n        var dateTimeAsDate = typeof dateTime === 'number' ? new Date(dateTime) : dateTime;\n        return formatParts.map(function (c) { return (typeof c === 'string' ? c : c[0](dateTimeAsDate, c[1])); }).join('');\n    };\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar _a;\nimport { ContinuousScale } from './continuousScale';\nimport timeMillisecond from '../util/time/millisecond';\nimport timeSecond from '../util/time/second';\nimport timeMinute from '../util/time/minute';\nimport timeHour from '../util/time/hour';\nimport timeDay from '../util/time/day';\nimport timeWeek from '../util/time/week';\nimport timeMonth from '../util/time/month';\nimport timeYear from '../util/time/year';\nimport { durationSecond, durationMinute, durationHour, durationDay, durationWeek, durationMonth, durationYear, } from '../util/time/duration';\nimport { TimeInterval } from '../util/time/interval';\nimport { tickStep } from '../util/ticks';\nimport { buildFormatter } from '../util/timeFormat';\nvar DefaultTimeFormats;\n(function (DefaultTimeFormats) {\n    DefaultTimeFormats[DefaultTimeFormats[\"MILLISECOND\"] = 0] = \"MILLISECOND\";\n    DefaultTimeFormats[DefaultTimeFormats[\"SECOND\"] = 1] = \"SECOND\";\n    DefaultTimeFormats[DefaultTimeFormats[\"MINUTE\"] = 2] = \"MINUTE\";\n    DefaultTimeFormats[DefaultTimeFormats[\"HOUR\"] = 3] = \"HOUR\";\n    DefaultTimeFormats[DefaultTimeFormats[\"WEEK_DAY\"] = 4] = \"WEEK_DAY\";\n    DefaultTimeFormats[DefaultTimeFormats[\"SHORT_MONTH\"] = 5] = \"SHORT_MONTH\";\n    DefaultTimeFormats[DefaultTimeFormats[\"MONTH\"] = 6] = \"MONTH\";\n    DefaultTimeFormats[DefaultTimeFormats[\"SHORT_YEAR\"] = 7] = \"SHORT_YEAR\";\n    DefaultTimeFormats[DefaultTimeFormats[\"YEAR\"] = 8] = \"YEAR\";\n})(DefaultTimeFormats || (DefaultTimeFormats = {}));\nvar formatStrings = (_a = {},\n    _a[DefaultTimeFormats.MILLISECOND] = '.%L',\n    _a[DefaultTimeFormats.SECOND] = ':%S',\n    _a[DefaultTimeFormats.MINUTE] = '%I:%M',\n    _a[DefaultTimeFormats.HOUR] = '%I %p',\n    _a[DefaultTimeFormats.WEEK_DAY] = '%a',\n    _a[DefaultTimeFormats.SHORT_MONTH] = '%b %d',\n    _a[DefaultTimeFormats.MONTH] = '%B',\n    _a[DefaultTimeFormats.SHORT_YEAR] = '%y',\n    _a[DefaultTimeFormats.YEAR] = '%Y',\n    _a);\nfunction toNumber(x) {\n    return x instanceof Date ? x.getTime() : x;\n}\nvar TimeScale = /** @class */ (function (_super) {\n    __extends(TimeScale, _super);\n    function TimeScale() {\n        var _this = _super.call(this, [new Date(2022, 11, 7), new Date(2022, 11, 8)], [0, 1]) || this;\n        _this.type = 'time';\n        _this.cacheProps = [\n            'domain',\n            'range',\n            'nice',\n            'tickCount',\n            'interval',\n            'minTickCount',\n            'maxTickCount',\n        ];\n        _this.year = timeYear;\n        _this.month = timeMonth;\n        _this.week = timeWeek;\n        _this.day = timeDay;\n        _this.hour = timeHour;\n        _this.minute = timeMinute;\n        _this.second = timeSecond;\n        _this.millisecond = timeMillisecond;\n        /**\n         * Array of default tick intervals in the following format:\n         *\n         *     [\n         *         interval (unit of time),\n         *         number of units (step),\n         *         the length of that number of units in milliseconds\n         *     ]\n         */\n        _this.tickIntervals = [\n            [_this.second, 1, durationSecond],\n            [_this.second, 5, 5 * durationSecond],\n            [_this.second, 15, 15 * durationSecond],\n            [_this.second, 30, 30 * durationSecond],\n            [_this.minute, 1, durationMinute],\n            [_this.minute, 5, 5 * durationMinute],\n            [_this.minute, 15, 15 * durationMinute],\n            [_this.minute, 30, 30 * durationMinute],\n            [_this.hour, 1, durationHour],\n            [_this.hour, 3, 3 * durationHour],\n            [_this.hour, 6, 6 * durationHour],\n            [_this.hour, 12, 12 * durationHour],\n            [_this.day, 1, durationDay],\n            [_this.day, 2, 2 * durationDay],\n            [_this.week, 1, durationWeek],\n            [_this.week, 2, 2 * durationWeek],\n            [_this.week, 3, 3 * durationWeek],\n            [_this.month, 1, durationMonth],\n            [_this.month, 2, 2 * durationMonth],\n            [_this.month, 3, 3 * durationMonth],\n            [_this.month, 4, 4 * durationMonth],\n            [_this.month, 6, 6 * durationMonth],\n            [_this.year, 1, durationYear],\n        ];\n        return _this;\n    }\n    TimeScale.prototype.toDomain = function (d) {\n        return new Date(d);\n    };\n    TimeScale.prototype.calculateDefaultTickFormat = function (ticks) {\n        var e_1, _a;\n        if (ticks === void 0) { ticks = []; }\n        var defaultTimeFormat = DefaultTimeFormats.YEAR;\n        var updateFormat = function (format) {\n            if (format < defaultTimeFormat) {\n                defaultTimeFormat = format;\n            }\n        };\n        try {\n            for (var ticks_1 = __values(ticks), ticks_1_1 = ticks_1.next(); !ticks_1_1.done; ticks_1_1 = ticks_1.next()) {\n                var value = ticks_1_1.value;\n                var format = this.getLowestGranularityFormat(value);\n                updateFormat(format);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (ticks_1_1 && !ticks_1_1.done && (_a = ticks_1.return)) _a.call(ticks_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        var firstTick = toNumber(ticks[0]);\n        var lastTick = toNumber(ticks[ticks.length - 1]);\n        var startYear = new Date(firstTick).getFullYear();\n        var stopYear = new Date(lastTick).getFullYear();\n        var yearChange = stopYear - startYear > 0;\n        return this.buildFormatString(defaultTimeFormat, yearChange);\n    };\n    TimeScale.prototype.buildFormatString = function (defaultTimeFormat, yearChange) {\n        var formatStringArray = [formatStrings[defaultTimeFormat]];\n        var timeEndIndex = 0;\n        var domain = this.getDomain();\n        var start = Math.min.apply(Math, __spread(domain.map(toNumber)));\n        var stop = Math.max.apply(Math, __spread(domain.map(toNumber)));\n        var extent = stop - start;\n        switch (defaultTimeFormat) {\n            case DefaultTimeFormats.SECOND:\n                if (extent / durationMinute > 1) {\n                    formatStringArray.push(formatStrings[DefaultTimeFormats.MINUTE]);\n                }\n            // fall through deliberately\n            case DefaultTimeFormats.MINUTE:\n                if (extent / durationHour > 1) {\n                    formatStringArray.push(formatStrings[DefaultTimeFormats.HOUR]);\n                }\n            // fall through deliberately\n            case DefaultTimeFormats.HOUR:\n                timeEndIndex = formatStringArray.length;\n                if (extent / durationDay > 1) {\n                    formatStringArray.push(formatStrings[DefaultTimeFormats.WEEK_DAY]);\n                }\n            // fall through deliberately\n            case DefaultTimeFormats.WEEK_DAY:\n                if (extent / durationWeek > 1 || yearChange) {\n                    // if it's more than a week or there is a year change, don't show week day\n                    var weekDayIndex = formatStringArray.indexOf(formatStrings[DefaultTimeFormats.WEEK_DAY]);\n                    if (weekDayIndex > -1) {\n                        formatStringArray.splice(weekDayIndex, 1, formatStrings[DefaultTimeFormats.SHORT_MONTH]);\n                    }\n                }\n            // fall through deliberately\n            case DefaultTimeFormats.SHORT_MONTH:\n            case DefaultTimeFormats.MONTH:\n                if (extent / durationYear > 1 || yearChange) {\n                    formatStringArray.push(formatStrings[DefaultTimeFormats.YEAR]);\n                }\n            // fall through deliberately\n            default:\n                break;\n        }\n        if (timeEndIndex < formatStringArray.length) {\n            // Insert a gap between all date components.\n            formatStringArray = __spread(formatStringArray.slice(0, timeEndIndex), [\n                formatStringArray.slice(timeEndIndex).join(' '),\n            ]);\n        }\n        if (timeEndIndex > 0) {\n            // Reverse order of time components, since they should be displayed in descending\n            // granularity.\n            formatStringArray = __spread(formatStringArray.slice(0, timeEndIndex).reverse(), formatStringArray.slice(timeEndIndex));\n            if (timeEndIndex < formatStringArray.length) {\n                // Insert a gap between time and date components.\n                formatStringArray.splice(timeEndIndex, 0, ' ');\n            }\n        }\n        return formatStringArray.join('');\n    };\n    TimeScale.prototype.getLowestGranularityFormat = function (value) {\n        if (this.second.floor(value) < value) {\n            return DefaultTimeFormats.MILLISECOND;\n        }\n        else if (this.minute.floor(value) < value) {\n            return DefaultTimeFormats.SECOND;\n        }\n        else if (this.hour.floor(value) < value) {\n            return DefaultTimeFormats.MINUTE;\n        }\n        else if (this.day.floor(value) < value) {\n            return DefaultTimeFormats.HOUR;\n        }\n        else if (this.month.floor(value) < value) {\n            if (this.week.floor(value) < value) {\n                return DefaultTimeFormats.WEEK_DAY;\n            }\n            return DefaultTimeFormats.SHORT_MONTH;\n        }\n        else if (this.year.floor(value) < value) {\n            return DefaultTimeFormats.MONTH;\n        }\n        return DefaultTimeFormats.YEAR;\n    };\n    TimeScale.prototype.defaultTickFormat = function (ticks) {\n        var formatString = this.calculateDefaultTickFormat(ticks);\n        return function (date) { return buildFormatter(formatString)(date); };\n    };\n    /**\n     * @param options Tick interval options.\n     * @param options.start The start time (timestamp).\n     * @param options.stop The end time (timestamp).\n     * @param options.count Number of intervals between ticks.\n     */\n    TimeScale.prototype.getTickInterval = function (_a) {\n        var _b;\n        var start = _a.start, stop = _a.stop, count = _a.count, minCount = _a.minCount, maxCount = _a.maxCount;\n        var tickIntervals = this.tickIntervals;\n        var countableTimeInterval;\n        var step;\n        var tickCount = count !== null && count !== void 0 ? count : ContinuousScale.defaultTickCount;\n        var target = Math.abs(stop - start) / Math.max(tickCount, 1);\n        var i = 0;\n        while (i < tickIntervals.length && target > tickIntervals[i][2]) {\n            i++;\n        }\n        if (i === 0) {\n            step = Math.max(tickStep(start, stop, tickCount, minCount, maxCount), 1);\n            countableTimeInterval = this.millisecond;\n        }\n        else if (i === tickIntervals.length) {\n            var y0 = start / durationYear;\n            var y1 = stop / durationYear;\n            step = tickStep(y0, y1, tickCount, minCount, maxCount);\n            countableTimeInterval = this.year;\n        }\n        else {\n            var diff0 = target - tickIntervals[i - 1][2];\n            var diff1 = tickIntervals[i][2] - target;\n            var index = diff0 < diff1 ? i - 1 : i;\n            _b = __read(tickIntervals[index], 2), countableTimeInterval = _b[0], step = _b[1];\n        }\n        return countableTimeInterval.every(step);\n    };\n    TimeScale.prototype.invert = function (y) {\n        return new Date(_super.prototype.invert.call(this, y));\n    };\n    /**\n     * Returns uniformly-spaced dates that represent the scale's domain.\n     */\n    TimeScale.prototype.ticks = function () {\n        if (!this.domain || this.domain.length < 2) {\n            return [];\n        }\n        this.refresh();\n        var _a = __read(this.getDomain().map(toNumber), 2), t0 = _a[0], t1 = _a[1];\n        if (this.interval !== undefined) {\n            return this.getTicksForInterval({ start: t0, stop: t1 });\n        }\n        if (this.nice) {\n            var tickCount = this.tickCount;\n            if (tickCount === 2) {\n                return this.niceDomain;\n            }\n            if (tickCount === 1) {\n                return this.niceDomain.slice(0, 1);\n            }\n        }\n        return this.getDefaultTicks({ start: t0, stop: t1 });\n    };\n    TimeScale.prototype.getDefaultTicks = function (_a) {\n        var start = _a.start, stop = _a.stop;\n        var t = this.getTickInterval({\n            start: start,\n            stop: stop,\n            count: this.tickCount,\n            minCount: this.minTickCount,\n            maxCount: this.maxTickCount,\n        });\n        return t ? t.range(new Date(start), new Date(stop)) : []; // inclusive stop\n    };\n    TimeScale.prototype.getTicksForInterval = function (_a) {\n        var start = _a.start, stop = _a.stop;\n        var _b = this, interval = _b.interval, tickIntervals = _b.tickIntervals;\n        if (!interval) {\n            return [];\n        }\n        if (interval instanceof TimeInterval) {\n            var ticks_2 = interval.range(new Date(start), new Date(stop));\n            if (this.isDenseInterval({ start: start, stop: stop, interval: interval, count: ticks_2.length })) {\n                return this.getDefaultTicks({ start: start, stop: stop });\n            }\n            return ticks_2;\n        }\n        var absInterval = Math.abs(interval);\n        if (this.isDenseInterval({ start: start, stop: stop, interval: absInterval })) {\n            return this.getDefaultTicks({ start: start, stop: stop });\n        }\n        var reversedInterval = __spread(tickIntervals);\n        reversedInterval.reverse();\n        var timeInterval = reversedInterval.find(function (tickInterval) { return absInterval % tickInterval[2] === 0; });\n        if (timeInterval) {\n            var i = timeInterval[0].every(absInterval / (timeInterval[2] / timeInterval[1]));\n            return i.range(new Date(start), new Date(stop));\n        }\n        var date = new Date(start);\n        var stopDate = new Date(stop);\n        var ticks = [];\n        while (date <= stopDate) {\n            ticks.push(date);\n            date = new Date(date);\n            date.setMilliseconds(date.getMilliseconds() + absInterval);\n        }\n        return ticks;\n    };\n    /**\n     * Returns a time format function suitable for displaying tick values.\n     * @param specifier If the specifier string is provided, this method is equivalent to\n     * the {@link TimeLocaleObject.format} method.\n     * If no specifier is provided, this method returns the default time format function.\n     */\n    TimeScale.prototype.tickFormat = function (_a) {\n        var ticks = _a.ticks, specifier = _a.specifier;\n        return specifier == undefined ? this.defaultTickFormat(ticks) : buildFormatter(specifier);\n    };\n    TimeScale.prototype.update = function () {\n        if (!this.domain || this.domain.length < 2) {\n            return;\n        }\n        if (this.nice) {\n            this.updateNiceDomain();\n        }\n    };\n    /**\n     * Extends the domain so that it starts and ends on nice round values.\n     * This method typically modifies the scale’s domain, and may only extend the bounds to the nearest round value.\n     */\n    TimeScale.prototype.updateNiceDomain = function () {\n        var maxAttempts = 4;\n        var _a = __read(this.domain, 2), d0 = _a[0], d1 = _a[1];\n        for (var i = 0; i < maxAttempts; i++) {\n            this.updateNiceDomainIteration(d0, d1);\n            var _b = __read(this.niceDomain, 2), n0 = _b[0], n1 = _b[1];\n            if (toNumber(d0) === toNumber(n0) && toNumber(d1) === toNumber(n1)) {\n                break;\n            }\n            d0 = n0;\n            d1 = n1;\n        }\n    };\n    TimeScale.prototype.updateNiceDomainIteration = function (d0, d1) {\n        var start = toNumber(d0);\n        var stop = toNumber(d1);\n        var interval = this.interval;\n        var i;\n        if (interval instanceof TimeInterval) {\n            i = interval;\n        }\n        else {\n            var tickCount = typeof interval === 'number' ? (stop - start) / Math.max(interval, 1) : this.tickCount;\n            i = this.getTickInterval({\n                start: start,\n                stop: stop,\n                count: tickCount,\n                minCount: this.minTickCount,\n                maxCount: this.maxTickCount,\n            });\n        }\n        if (i) {\n            var intervalRange = i.range(d0, d1, true);\n            var n0 = intervalRange[0];\n            var n1 = intervalRange[intervalRange.length - 1];\n            this.niceDomain = [n0, n1];\n        }\n    };\n    return TimeScale;\n}(ContinuousScale));\nexport { TimeScale };\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar _a;\nvar group = function (content) { return \"(\" + content + \")\"; };\nvar optionalGroup = function (content) { return group(content) + \"?\"; };\nvar nonCapturingGroup = function (content) { return optionalGroup(\"?:\" + content); };\nvar formatRegEx = (function () {\n    var fill = '.';\n    var align = '[<>=^]';\n    var sign = '[+\\\\-( ]';\n    var symbol = '[$€£¥₣₹#]';\n    var zero = '0';\n    var width = '\\\\d+';\n    var comma = ',';\n    var precision = '\\\\d+';\n    var tilde = '~';\n    var type = '[%a-z]';\n    return new RegExp([\n        '^',\n        nonCapturingGroup(\"\" + optionalGroup(fill) + group(align)),\n        optionalGroup(sign),\n        optionalGroup(symbol),\n        optionalGroup(zero),\n        optionalGroup(width),\n        optionalGroup(comma),\n        nonCapturingGroup(\"\\\\.\" + group(precision)),\n        optionalGroup(tilde),\n        optionalGroup(type),\n        '$',\n    ].join(''), 'i');\n})();\nvar surroundedRegEx = (function () {\n    var prefix = '.*?';\n    var content = '.+?';\n    var suffix = '.*?';\n    return new RegExp(['^', group(prefix), \"#\\\\{\" + group(content) + \"\\\\}\", group(suffix), '$'].join(''));\n})();\nfunction parseFormatter(formatter) {\n    var _a;\n    var prefix;\n    var suffix;\n    var surrounded = formatter.match(surroundedRegEx);\n    if (surrounded) {\n        _a = __read(surrounded, 4), prefix = _a[1], formatter = _a[2], suffix = _a[3];\n    }\n    var match = formatter.match(formatRegEx);\n    if (!match) {\n        throw new Error(\"The number formatter is invalid: \" + formatter);\n    }\n    var _b = __read(match, 11), fill = _b[1], align = _b[2], sign = _b[3], symbol = _b[4], zero = _b[5], width = _b[6], comma = _b[7], precision = _b[8], trim = _b[9], type = _b[10];\n    return {\n        fill: fill,\n        align: align,\n        sign: sign,\n        symbol: symbol,\n        zero: zero,\n        width: parseInt(width),\n        comma: comma,\n        precision: parseInt(precision),\n        trim: Boolean(trim),\n        type: type,\n        prefix: prefix,\n        suffix: suffix,\n    };\n}\nexport function format(formatter) {\n    var options = typeof formatter === 'string' ? parseFormatter(formatter) : formatter;\n    var fill = options.fill, align = options.align, _a = options.sign, sign = _a === void 0 ? '-' : _a, symbol = options.symbol, zero = options.zero, width = options.width, comma = options.comma, type = options.type, _b = options.prefix, prefix = _b === void 0 ? '' : _b, _c = options.suffix, suffix = _c === void 0 ? '' : _c;\n    var precision = options.precision, trim = options.trim;\n    var formatBody;\n    if (!type) {\n        formatBody = decimalTypes['g'];\n        trim = true;\n    }\n    else if (type in decimalTypes && type in integerTypes) {\n        formatBody = isNaN(precision) ? integerTypes[type] : decimalTypes[type];\n    }\n    else if (type in decimalTypes) {\n        formatBody = decimalTypes[type];\n    }\n    else if (type in integerTypes) {\n        formatBody = integerTypes[type];\n    }\n    else {\n        throw new Error(\"The number formatter type is invalid: \" + type);\n    }\n    if (isNaN(precision)) {\n        precision = type ? 6 : 12;\n    }\n    return function (n) {\n        var result = formatBody(n, precision);\n        if (trim) {\n            result = removeTrailingZeros(result);\n        }\n        if (comma) {\n            result = insertSeparator(result, comma);\n        }\n        result = addSign(n, result, sign);\n        if (symbol && symbol !== '#') {\n            result = \"\" + symbol + result;\n        }\n        if (symbol === '#' && type === 'x') {\n            result = \"0x\" + result;\n        }\n        if (type === 's') {\n            result = \"\" + result + getSIPrefix(n);\n        }\n        if (type === '%' || type === 'p') {\n            result = result + \"%\";\n        }\n        if (!isNaN(width)) {\n            result = addPadding(result, width, fill || zero, align);\n        }\n        result = \"\" + prefix + result + suffix;\n        return result;\n    };\n}\nvar absFloor = function (n) { return Math.floor(Math.abs(n)); };\nvar integerTypes = {\n    b: function (n) { return absFloor(n).toString(2); },\n    c: function (n) { return String.fromCharCode(n); },\n    d: function (n) { return Math.round(Math.abs(n)).toFixed(0); },\n    o: function (n) { return absFloor(n).toString(8); },\n    x: function (n) { return absFloor(n).toString(16); },\n    X: function (n) { return integerTypes.x(n).toUpperCase(); },\n    n: function (n) { return integerTypes.d(n); },\n    '%': function (n) { return \"\" + absFloor(n * 100).toFixed(0); },\n};\nvar decimalTypes = {\n    e: function (n, f) { return Math.abs(n).toExponential(f); },\n    E: function (n, f) { return decimalTypes.e(n, f).toUpperCase(); },\n    f: function (n, f) { return Math.abs(n).toFixed(f); },\n    F: function (n, f) { return decimalTypes.f(n, f).toUpperCase(); },\n    g: function (n, f) {\n        if (n === 0) {\n            return '0';\n        }\n        var a = Math.abs(n);\n        var p = Math.floor(Math.log10(a));\n        if (p >= -4 && p < f) {\n            return a.toFixed(f - 1 - p);\n        }\n        return a.toExponential(f - 1);\n    },\n    G: function (n, f) { return decimalTypes.g(n, f).toUpperCase(); },\n    n: function (n, f) { return decimalTypes.g(n, f); },\n    p: function (n, f) { return decimalTypes.r(n * 100, f); },\n    r: function (n, f) {\n        if (n === 0) {\n            return '0';\n        }\n        var a = Math.abs(n);\n        var p = Math.floor(Math.log10(a));\n        var q = p - (f - 1);\n        if (q <= 0) {\n            return a.toFixed(-q);\n        }\n        var x = Math.pow(10, q);\n        return (Math.round(a / x) * x).toFixed();\n    },\n    s: function (n, f) {\n        var p = getSIPrefixPower(n);\n        return decimalTypes.r(n / Math.pow(10, p), f);\n    },\n    '%': function (n, f) { return decimalTypes.f(n * 100, f); },\n};\nfunction removeTrailingZeros(numString) {\n    return numString.replace(/\\.0+$/, '').replace(/(\\.[1-9])0+$/, '$1');\n}\nfunction insertSeparator(numString, separator) {\n    var dotIndex = numString.indexOf('.');\n    if (dotIndex < 0) {\n        dotIndex = numString.length;\n    }\n    var integerChars = numString.substring(0, dotIndex).split('');\n    var fractionalPart = numString.substring(dotIndex);\n    for (var i = integerChars.length - 3; i > 0; i -= 3) {\n        integerChars.splice(i, 0, separator);\n    }\n    return \"\" + integerChars.join('') + fractionalPart;\n}\nfunction getSIPrefix(n) {\n    return siPrefixes[getSIPrefixPower(n)];\n}\nfunction getSIPrefixPower(n) {\n    var power = Math.log10(Math.abs(n));\n    var p = Math.floor(power / 3) * 3;\n    return Math.max(minSIPrefix, Math.min(maxSIPrefix, p));\n}\nvar minSIPrefix = -24;\nvar maxSIPrefix = 24;\nvar siPrefixes = (_a = {},\n    _a[minSIPrefix] = 'y',\n    _a[-21] = 'z',\n    _a[-18] = 'a',\n    _a[-15] = 'f',\n    _a[-12] = 'p',\n    _a[-9] = 'n',\n    _a[-6] = 'µ',\n    _a[-3] = 'm',\n    _a[0] = '',\n    _a[3] = 'k',\n    _a[6] = 'M',\n    _a[9] = 'G',\n    _a[12] = 'T',\n    _a[15] = 'P',\n    _a[18] = 'E',\n    _a[21] = 'Z',\n    _a[maxSIPrefix] = 'Y',\n    _a);\nvar minusSign = '\\u2212';\nfunction addSign(num, numString, signType) {\n    if (signType === void 0) { signType = ''; }\n    if (signType === '(') {\n        return num >= 0 ? numString : \"(\" + numString + \")\";\n    }\n    var plusSign = signType === '+' ? '+' : '';\n    return \"\" + (num >= 0 ? plusSign : minusSign) + numString;\n}\nfunction addPadding(numString, width, fill, align) {\n    if (fill === void 0) { fill = ' '; }\n    if (align === void 0) { align = '>'; }\n    var result = numString;\n    if (align === '>' || !align) {\n        result = result.padStart(width, fill);\n    }\n    else if (align === '<') {\n        result = result.padEnd(width, fill);\n    }\n    else if (align === '^') {\n        var padWidth = Math.max(0, width - result.length);\n        var padLeft = Math.ceil(padWidth / 2);\n        var padRight = Math.floor(padWidth / 2);\n        result = result.padStart(padLeft + result.length, fill);\n        result = result.padEnd(padRight + result.length, fill);\n    }\n    return result;\n}\nexport function tickFormat(ticks, formatter) {\n    var options = parseFormatter(formatter || ',f');\n    if (isNaN(options.precision)) {\n        if (options.type === 'f' || options.type === '%') {\n            options.precision = Math.max.apply(Math, __spread(ticks.map(function (x) {\n                if (typeof x !== 'number' || x === 0) {\n                    return 0;\n                }\n                var l = Math.floor(Math.log10(Math.abs(x)));\n                var digits = options.type ? 6 : 12;\n                var exp = x.toExponential(digits - 1).replace(/\\.?0+e/, 'e');\n                var dotIndex = exp.indexOf('.');\n                if (dotIndex < 0) {\n                    return l >= 0 ? 0 : -l;\n                }\n                var s = exp.indexOf('e') - dotIndex;\n                return Math.max(0, s - l - 1);\n            })));\n        }\n        else if (!options.type || options.type in decimalTypes) {\n            options.precision = Math.max.apply(Math, __spread(ticks.map(function (x) {\n                if (typeof x !== 'number') {\n                    return 0;\n                }\n                var exp = x.toExponential((options.type ? 6 : 12) - 1).replace(/\\.?0+e/, 'e');\n                return exp.substring(0, exp.indexOf('e')).replace('.', '').length;\n            })));\n        }\n    }\n    var f = format(options);\n    return function (n) { return f(Number(n)); };\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { ContinuousScale } from './continuousScale';\nimport generateTicks, { range } from '../util/ticks';\nimport { format } from '../util/numberFormat';\nimport { NUMBER, Validate } from '../util/validation';\nvar identity = function (x) { return x; };\nvar LogScale = /** @class */ (function (_super) {\n    __extends(LogScale, _super);\n    function LogScale() {\n        var _this = _super.call(this, [1, 10], [0, 1]) || this;\n        _this.type = 'log';\n        _this.base = 10;\n        _this.cacheProps = ['domain', 'range', 'nice', 'tickCount', 'base'];\n        _this.baseLog = identity;\n        _this.basePow = identity;\n        _this.log = function (x) {\n            return _this.domain[0] >= 0 ? _this.baseLog(x) : -_this.baseLog(-x);\n        };\n        _this.pow = function (x) {\n            return _this.domain[0] >= 0 ? _this.basePow(x) : -_this.basePow(-x);\n        };\n        return _this;\n    }\n    LogScale.prototype.toDomain = function (d) {\n        return d;\n    };\n    LogScale.prototype.transform = function (x) {\n        return this.domain[0] >= 0 ? Math.log(x) : -Math.log(-x);\n    };\n    LogScale.prototype.transformInvert = function (x) {\n        return this.domain[0] >= 0 ? Math.exp(x) : -Math.exp(-x);\n    };\n    LogScale.prototype.update = function () {\n        if (!this.domain || this.domain.length < 2) {\n            return;\n        }\n        this.updateLogFn();\n        this.updatePowFn();\n        if (this.nice) {\n            this.updateNiceDomain();\n        }\n    };\n    LogScale.prototype.updateLogFn = function () {\n        var base = this.base;\n        var log;\n        if (base === 10) {\n            log = Math.log10;\n        }\n        else if (base === Math.E) {\n            log = Math.log;\n        }\n        else if (base === 2) {\n            log = Math.log2;\n        }\n        else {\n            var logBase_1 = Math.log(base);\n            log = function (x) { return Math.log(x) / logBase_1; };\n        }\n        this.baseLog = log;\n    };\n    LogScale.prototype.updatePowFn = function () {\n        var base = this.base;\n        var pow;\n        if (base === 10) {\n            pow = LogScale.pow10;\n        }\n        else if (base === Math.E) {\n            pow = Math.exp;\n        }\n        else {\n            pow = function (x) { return Math.pow(base, x); };\n        }\n        this.basePow = pow;\n    };\n    LogScale.prototype.updateNiceDomain = function () {\n        var _a = __read(this.domain, 2), d0 = _a[0], d1 = _a[1];\n        var n0 = this.pow(Math.floor(this.log(d0)));\n        var n1 = this.pow(Math.ceil(this.log(d1)));\n        this.niceDomain = [n0, n1];\n    };\n    LogScale.pow10 = function (x) {\n        return x >= 0 ? Math.pow(10, x) : 1 / Math.pow(10, -x);\n    };\n    LogScale.prototype.ticks = function () {\n        var _this = this;\n        var _a;\n        var count = (_a = this.tickCount) !== null && _a !== void 0 ? _a : 10;\n        if (!this.domain || this.domain.length < 2 || count < 1) {\n            return [];\n        }\n        this.refresh();\n        var base = this.base;\n        var _b = __read(this.getDomain(), 2), d0 = _b[0], d1 = _b[1];\n        var p0 = this.log(d0);\n        var p1 = this.log(d1);\n        if (this.interval) {\n            var step = Math.abs(this.interval);\n            var absDiff = Math.abs(p1 - p0);\n            var ticks_1 = range(p0, p1, Math.min(absDiff, step))\n                .map(function (x) { return _this.pow(x); })\n                .filter(function (t) { return t >= d0 && t <= d1; });\n            if (!this.isDenseInterval({ start: d0, stop: d1, interval: step, count: ticks_1.length })) {\n                return ticks_1;\n            }\n        }\n        var isBaseInteger = base % 1 === 0;\n        var isDiffLarge = p1 - p0 >= count;\n        if (!isBaseInteger || isDiffLarge) {\n            // Returns [10^1, 10^2, 10^3, 10^4, ...]\n            return generateTicks(p0, p1, Math.min(p1 - p0, count)).map(function (x) { return _this.pow(x); });\n        }\n        var ticks = [];\n        var isPositive = d0 > 0;\n        p0 = Math.floor(p0) - 1;\n        p1 = Math.round(p1) + 1;\n        var min = Math.min.apply(Math, __spread(this.range));\n        var max = Math.max.apply(Math, __spread(this.range));\n        var availableSpacing = (max - min) / count;\n        var lastTickPosition = Infinity;\n        for (var p = p0; p <= p1; p++) {\n            var nextMagnitudeTickPosition = this.convert(this.pow(p + 1));\n            for (var k = 1; k < base; k++) {\n                var q = isPositive ? k : base - k + 1;\n                var t = this.pow(p) * q;\n                var tickPosition = this.convert(t);\n                var prevSpacing = Math.abs(lastTickPosition - tickPosition);\n                var nextSpacing = Math.abs(tickPosition - nextMagnitudeTickPosition);\n                var fits = prevSpacing >= availableSpacing && nextSpacing >= availableSpacing;\n                if (t >= d0 && t <= d1 && (k === 1 || fits)) {\n                    ticks.push(t);\n                    lastTickPosition = tickPosition;\n                }\n            }\n        }\n        return ticks;\n    };\n    LogScale.prototype.tickFormat = function (_a) {\n        var count = _a.count, ticks = _a.ticks, specifier = _a.specifier;\n        var base = this.base;\n        if (specifier == null) {\n            specifier = (base === 10 ? '.0e' : ',');\n        }\n        if (typeof specifier !== 'function') {\n            specifier = format(specifier);\n        }\n        if (count === Infinity) {\n            return specifier;\n        }\n        if (count == null) {\n            count = 10;\n        }\n        ticks = ticks !== null && ticks !== void 0 ? ticks : this.ticks();\n        return function (d) {\n            return specifier(d);\n        };\n    };\n    __decorate([\n        Validate(NUMBER(0))\n    ], LogScale.prototype, \"base\", void 0);\n    return LogScale;\n}(ContinuousScale));\nexport { LogScale };\n", "import { addTransformToInstanceProperty } from './decorator';\nexport function Default(defaultValue, replaces) {\n    if (replaces === void 0) { replaces = [undefined]; }\n    return addTransformToInstanceProperty(function (_, __, v) {\n        if (replaces.includes(v)) {\n            return defaultValue;\n        }\n        return v;\n    });\n}\n", "var __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nexport function extent(values) {\n    var length = values.length;\n    if (length === 0) {\n        return undefined;\n    }\n    var min = Infinity;\n    var max = -Infinity;\n    for (var i = 0; i < length; i++) {\n        var v = values[i];\n        if (v instanceof Date) {\n            v = v.getTime();\n        }\n        if (typeof v !== 'number') {\n            continue;\n        }\n        if (v < min) {\n            min = v;\n        }\n        if (v > max) {\n            max = v;\n        }\n    }\n    var extent = [min, max];\n    if (extent.some(function (v) { return !isFinite(v); })) {\n        return undefined;\n    }\n    return extent;\n}\n/**\n * finds the min and max using a process appropriate for stacked values. Ie,\n * summing up the positive and negative numbers, and returning the totals of each\n */\nexport function findMinMax(values) {\n    var e_1, _a;\n    var min = undefined;\n    var max = undefined;\n    try {\n        for (var values_1 = __values(values), values_1_1 = values_1.next(); !values_1_1.done; values_1_1 = values_1.next()) {\n            var value = values_1_1.value;\n            if (value < 0) {\n                min = (min !== null && min !== void 0 ? min : 0) + value;\n            }\n            else if (value >= 0) {\n                max = (max !== null && max !== void 0 ? max : 0) + value;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (values_1_1 && !values_1_1.done && (_a = values_1.return)) _a.call(values_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return { min: min, max: max };\n}\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BOOLEAN, NUMBER, OPT_FONT_STYLE, OPT_FONT_WEIGHT, COLOR_STRING, STRING, Validate } from '../util/validation';\nimport { getFont } from '../scene/shape/text';\nimport { normalizeAngle360, toRadians } from '../util/angle';\nvar Label = /** @class */ (function () {\n    function Label() {\n        this.enabled = true;\n        this.fontSize = 12;\n        this.fontFamily = 'Verdana, sans-serif';\n        this.fontStyle = undefined;\n        this.fontWeight = undefined;\n        this.color = 'rgba(70, 70, 70, 1)';\n    }\n    Label.prototype.getFont = function () {\n        return getFont(this.fontSize, this.fontFamily, this.fontStyle, this.fontWeight);\n    };\n    __decorate([\n        Validate(BOOLEAN)\n    ], Label.prototype, \"enabled\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], Label.prototype, \"fontSize\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], Label.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Validate(OPT_FONT_STYLE)\n    ], Label.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Validate(OPT_FONT_WEIGHT)\n    ], Label.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Validate(COLOR_STRING)\n    ], Label.prototype, \"color\", void 0);\n    return Label;\n}());\nexport { Label };\nexport function calculateLabelRotation(opts) {\n    var _a = opts.parallelFlipRotation, parallelFlipRotation = _a === void 0 ? 0 : _a, _b = opts.regularFlipRotation, regularFlipRotation = _b === void 0 ? 0 : _b;\n    var labelRotation = opts.rotation ? normalizeAngle360(toRadians(opts.rotation)) : 0;\n    var parallelFlipFlag = !labelRotation && parallelFlipRotation >= 0 && parallelFlipRotation <= Math.PI ? -1 : 1;\n    // Flip if the axis rotation angle is in the top hemisphere.\n    var regularFlipFlag = !labelRotation && regularFlipRotation >= 0 && regularFlipRotation <= Math.PI ? -1 : 1;\n    var autoRotation = 0;\n    if (opts.parallel) {\n        autoRotation = (parallelFlipFlag * Math.PI) / 2;\n    }\n    else if (regularFlipFlag === -1) {\n        autoRotation = Math.PI;\n    }\n    return { labelRotation: labelRotation, autoRotation: autoRotation, parallelFlipFlag: parallelFlipFlag, regularFlipFlag: regularFlipFlag };\n}\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { Group } from './scene/group';\nimport { Selection } from './scene/selection';\nimport { Line } from './scene/shape/line';\nimport { Text } from './scene/shape/text';\nimport { Arc } from './scene/shape/arc';\nimport { BBox } from './scene/bbox';\nimport { Caption } from './caption';\nimport { createId } from './util/id';\nimport { normalizeAngle360, normalizeAngle360Inclusive, toRadians } from './util/angle';\nimport { TimeInterval } from './util/time/interval';\nimport { areArrayNumbersEqual } from './util/equal';\nimport { Validate, BOOLEAN, OPT_BOOLEAN, NUMBER, OPT_NUMBER, OPT_FONT_STYLE, OPT_FONT_WEIGHT, STRING, OPT_COLOR_STRING, OPTIONAL, ARRAY, predicateWithMessage, OPT_STRING, OPT_ARRAY, LESS_THAN, NUMBER_OR_NAN, AND, GREATER_THAN, } from './util/validation';\nimport { Layers } from './chart/layers';\nimport { axisLabelsOverlap } from './util/labelPlacement';\nimport { ContinuousScale } from './scale/continuousScale';\nimport { Matrix } from './scene/matrix';\nimport { TimeScale } from './scale/timeScale';\nimport { LogScale } from './scale/logScale';\nimport { Default } from './util/default';\nimport { Deprecated } from './util/deprecation';\nimport { extent } from './util/array';\nimport { ChartAxisDirection } from './chart/chartAxisDirection';\nimport { calculateLabelRotation } from './chart/label';\nimport { Logger } from './util/logger';\nvar TICK_COUNT = predicateWithMessage(function (v, ctx) { return NUMBER(0)(v, ctx) || v instanceof TimeInterval; }, \"expecting a tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'\");\nvar OPT_TICK_COUNT = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, TICK_COUNT); }, \"expecting an optional tick count Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'\");\nvar OPT_TICK_INTERVAL = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, function (v, ctx) { return (v !== 0 && NUMBER(0)(v, ctx)) || v instanceof TimeInterval; }); }, \"expecting an optional non-zero positive Number value or, for a time axis, a Time Interval such as 'agCharts.time.month'\");\nvar GRID_STYLE_KEYS = ['stroke', 'lineDash'];\nvar GRID_STYLE = predicateWithMessage(ARRAY(undefined, function (o) {\n    for (var key in o) {\n        if (!GRID_STYLE_KEYS.includes(key)) {\n            return false;\n        }\n    }\n    return true;\n}), \"expecting an Array of objects with gridline style properties such as 'stroke' and 'lineDash'\");\nexport var Tags;\n(function (Tags) {\n    Tags[Tags[\"TickLine\"] = 0] = \"TickLine\";\n    Tags[Tags[\"TickLabel\"] = 1] = \"TickLabel\";\n    Tags[Tags[\"GridLine\"] = 2] = \"GridLine\";\n    Tags[Tags[\"GridArc\"] = 3] = \"GridArc\";\n    Tags[Tags[\"AxisLine\"] = 4] = \"AxisLine\";\n})(Tags || (Tags = {}));\nvar AxisLine = /** @class */ (function () {\n    function AxisLine() {\n        this.width = 1;\n        this.color = 'rgba(195, 195, 195, 1)';\n    }\n    __decorate([\n        Validate(NUMBER(0))\n    ], AxisLine.prototype, \"width\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], AxisLine.prototype, \"color\", void 0);\n    return AxisLine;\n}());\nexport { AxisLine };\nvar AxisTick = /** @class */ (function () {\n    function AxisTick() {\n        /**\n         * The line width to be used by axis ticks.\n         */\n        this.width = 1;\n        /**\n         * The line length to be used by axis ticks.\n         */\n        this.size = 6;\n        /**\n         * The color of the axis ticks.\n         * Use `undefined` rather than `rgba(0, 0, 0, 0)` to make the ticks invisible.\n         */\n        this.color = 'rgba(195, 195, 195, 1)';\n        /**\n         * A hint of how many ticks to use (the exact number of ticks might differ),\n         * a `TimeInterval` or a `CountableTimeInterval`.\n         * For example:\n         *\n         *     axis.tick.count = 5;\n         *     axis.tick.count = year;\n         *     axis.tick.count = month.every(6);\n         */\n        this.count = undefined;\n        this.interval = undefined;\n        this.values = undefined;\n        this.minSpacing = NaN;\n        this.maxSpacing = NaN;\n    }\n    __decorate([\n        Validate(NUMBER(0))\n    ], AxisTick.prototype, \"width\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], AxisTick.prototype, \"size\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], AxisTick.prototype, \"color\", void 0);\n    __decorate([\n        Validate(OPT_TICK_COUNT),\n        Deprecated('Use tick.interval or tick.minSpacing and tick.maxSpacing instead')\n    ], AxisTick.prototype, \"count\", void 0);\n    __decorate([\n        Validate(OPT_TICK_INTERVAL)\n    ], AxisTick.prototype, \"interval\", void 0);\n    __decorate([\n        Validate(OPT_ARRAY())\n    ], AxisTick.prototype, \"values\", void 0);\n    __decorate([\n        Validate(AND(NUMBER_OR_NAN(1), LESS_THAN('maxSpacing'))),\n        Default(NaN)\n    ], AxisTick.prototype, \"minSpacing\", void 0);\n    __decorate([\n        Validate(AND(NUMBER_OR_NAN(1), GREATER_THAN('minSpacing'))),\n        Default(NaN)\n    ], AxisTick.prototype, \"maxSpacing\", void 0);\n    return AxisTick;\n}());\nvar AxisLabel = /** @class */ (function () {\n    function AxisLabel() {\n        this.fontStyle = undefined;\n        this.fontWeight = undefined;\n        this.fontSize = 12;\n        this.fontFamily = 'Verdana, sans-serif';\n        /**\n         * The padding between the labels and the ticks.\n         */\n        this.padding = 5;\n        /**\n         * Minimum gap in pixels between the axis labels before being removed to avoid collisions.\n         */\n        this.minSpacing = NaN;\n        /**\n         * The color of the labels.\n         * Use `undefined` rather than `rgba(0, 0, 0, 0)` to make labels invisible.\n         */\n        this.color = 'rgba(87, 87, 87, 1)';\n        /**\n         * Custom label rotation in degrees.\n         * Labels are rendered perpendicular to the axis line by default.\n         * Or parallel to the axis line, if the {@link parallel} is set to `true`.\n         * The value of this config is used as the angular offset/deflection\n         * from the default rotation.\n         */\n        this.rotation = undefined;\n        /**\n         * If specified and axis labels may collide, they are rotated to reduce collisions. If the\n         * `rotation` property is specified, it takes precedence.\n         */\n        this.autoRotate = undefined;\n        /**\n         * Rotation angle to use when autoRotate is applied.\n         */\n        this.autoRotateAngle = 335;\n        /**\n         * Avoid axis label collision by automatically reducing the number of ticks displayed. If set to `false`, axis labels may collide.\n         */\n        this.avoidCollisions = true;\n        /**\n         * By default labels and ticks are positioned to the left of the axis line.\n         * `true` positions the labels to the right of the axis line.\n         * However, if the axis is rotated, it's easier to think in terms\n         * of this side or the opposite side, rather than left and right.\n         * We use the term `mirror` for conciseness, although it's not\n         * true mirroring - for example, when a label is rotated, so that\n         * it is inclined at the 45 degree angle, text flowing from north-west\n         * to south-east, ending at the tick to the left of the axis line,\n         * and then we set this config to `true`, the text will still be flowing\n         * from north-west to south-east, _starting_ at the tick to the right\n         * of the axis line.\n         */\n        this.mirrored = false;\n        /**\n         * Labels are rendered perpendicular to the axis line by default.\n         * Setting this config to `true` makes labels render parallel to the axis line\n         * and center aligns labels' text at the ticks.\n         */\n        this.parallel = false;\n        /**\n         * In case {@param value} is a number, the {@param fractionDigits} parameter will\n         * be provided as well. The `fractionDigits` corresponds to the number of fraction\n         * digits used by the tick step. For example, if the tick step is `0.0005`,\n         * the `fractionDigits` is 4.\n         */\n        this.formatter = undefined;\n        this.format = undefined;\n    }\n    __decorate([\n        Validate(OPT_FONT_STYLE)\n    ], AxisLabel.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Validate(OPT_FONT_WEIGHT)\n    ], AxisLabel.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Validate(NUMBER(1))\n    ], AxisLabel.prototype, \"fontSize\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], AxisLabel.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], AxisLabel.prototype, \"padding\", void 0);\n    __decorate([\n        Validate(NUMBER_OR_NAN()),\n        Default(NaN)\n    ], AxisLabel.prototype, \"minSpacing\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], AxisLabel.prototype, \"color\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(-360, 360))\n    ], AxisLabel.prototype, \"rotation\", void 0);\n    __decorate([\n        Validate(OPT_BOOLEAN)\n    ], AxisLabel.prototype, \"autoRotate\", void 0);\n    __decorate([\n        Validate(NUMBER(-360, 360))\n    ], AxisLabel.prototype, \"autoRotateAngle\", void 0);\n    __decorate([\n        Validate(BOOLEAN)\n    ], AxisLabel.prototype, \"avoidCollisions\", void 0);\n    __decorate([\n        Validate(BOOLEAN)\n    ], AxisLabel.prototype, \"mirrored\", void 0);\n    __decorate([\n        Validate(BOOLEAN)\n    ], AxisLabel.prototype, \"parallel\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], AxisLabel.prototype, \"format\", void 0);\n    return AxisLabel;\n}());\nexport { AxisLabel };\n/**\n * A general purpose linear axis with no notion of orientation.\n * The axis is always rendered vertically, with horizontal labels positioned to the left\n * of the axis line by default. The axis can be {@link rotation | rotated} by an arbitrary angle,\n * so that it can be used as a top, right, bottom, left, radial or any other kind\n * of linear axis.\n * The generic `D` parameter is the type of the domain of the axis' scale.\n * The output range of the axis' scale is always numeric (screen coordinates).\n */\nvar Axis = /** @class */ (function () {\n    function Axis(scale) {\n        this.id = createId(this);\n        this.nice = true;\n        this.dataDomain = [];\n        this.axisGroup = new Group({ name: this.id + \"-axis\", zIndex: Layers.AXIS_ZINDEX });\n        this.lineNode = this.axisGroup.appendChild(new Line());\n        this.tickLineGroup = this.axisGroup.appendChild(new Group({ name: this.id + \"-Axis-tick-lines\", zIndex: Layers.AXIS_ZINDEX }));\n        this.tickLabelGroup = this.axisGroup.appendChild(new Group({ name: this.id + \"-Axis-tick-labels\", zIndex: Layers.AXIS_ZINDEX }));\n        this.crossLineGroup = new Group({ name: this.id + \"-CrossLines\" });\n        this.gridGroup = new Group({ name: this.id + \"-Axis-grid\" });\n        this.gridLineGroup = this.gridGroup.appendChild(new Group({\n            name: this.id + \"-gridLines\",\n            zIndex: Layers.AXIS_GRID_ZINDEX,\n        }));\n        this.gridArcGroup = this.gridGroup.appendChild(new Group({\n            name: this.id + \"-gridArcs\",\n            zIndex: Layers.AXIS_GRID_ZINDEX,\n        }));\n        this.tickLineGroupSelection = Selection.select(this.tickLineGroup, Line);\n        this.tickLabelGroupSelection = Selection.select(this.tickLabelGroup, Text);\n        this.gridLineGroupSelection = Selection.select(this.gridLineGroup, Line);\n        this.gridArcGroupSelection = Selection.select(this.gridArcGroup, Arc);\n        this._crossLines = [];\n        this.line = new AxisLine();\n        this.tick = new AxisTick();\n        this.label = new AxisLabel();\n        this.translation = { x: 0, y: 0 };\n        this.rotation = 0; // axis rotation angle in degrees\n        this.layout = {\n            label: {\n                align: 'center',\n                baseline: 'middle',\n                rotation: 0,\n                fractionDigits: 0,\n                padding: this.label.padding,\n                format: this.label.format,\n            },\n        };\n        this.requestedRange = [0, 1];\n        this._visibleRange = [0, 1];\n        this._title = undefined;\n        /**\n         * The length of the grid. The grid is only visible in case of a non-zero value.\n         * In case {@link radialGrid} is `true`, the value is interpreted as an angle\n         * (in degrees).\n         */\n        this._gridLength = 0;\n        /**\n         * The array of styles to cycle through when rendering grid lines.\n         * For example, use two {@link GridStyle} objects for alternating styles.\n         * Contains only one {@link GridStyle} object by default, meaning all grid lines\n         * have the same style.\n         */\n        this.gridStyle = [\n            {\n                stroke: 'rgba(219, 219, 219, 1)',\n                lineDash: [4, 2],\n            },\n        ];\n        /**\n         * `false` - render grid as lines of {@link gridLength} that extend the ticks\n         *           on the opposite side of the axis\n         * `true` - render grid as concentric circles that go through the ticks\n         */\n        this._radialGrid = false;\n        this.fractionDigits = 0;\n        /**\n         * The distance between the grid ticks and the axis ticks.\n         */\n        this.gridPadding = 0;\n        /**\n         * Is used to avoid collisions between axis labels and series.\n         */\n        this.seriesAreaPadding = 0;\n        this.thickness = 0;\n        this._scale = scale;\n        this.refreshScale();\n    }\n    Object.defineProperty(Axis.prototype, \"scale\", {\n        get: function () {\n            return this._scale;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Axis.prototype, \"crossLines\", {\n        get: function () {\n            return this._crossLines;\n        },\n        set: function (value) {\n            var _this = this;\n            var _a, _b;\n            (_a = this._crossLines) === null || _a === void 0 ? void 0 : _a.forEach(function (crossLine) { return _this.detachCrossLine(crossLine); });\n            this._crossLines = value;\n            (_b = this._crossLines) === null || _b === void 0 ? void 0 : _b.forEach(function (crossLine) {\n                _this.attachCrossLine(crossLine);\n                _this.initCrossLine(crossLine);\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Axis.prototype.attachCrossLine = function (crossLine) {\n        this.crossLineGroup.appendChild(crossLine.group);\n    };\n    Axis.prototype.detachCrossLine = function (crossLine) {\n        this.crossLineGroup.removeChild(crossLine.group);\n    };\n    Axis.prototype.destroy = function () {\n        // For override by sub-classes.\n    };\n    Axis.prototype.refreshScale = function () {\n        var _this = this;\n        var _a;\n        this.requestedRange = this.scale.range.slice();\n        (_a = this.crossLines) === null || _a === void 0 ? void 0 : _a.forEach(function (crossLine) {\n            _this.initCrossLine(crossLine);\n        });\n    };\n    Axis.prototype.updateRange = function () {\n        var _a;\n        var _b = this, rr = _b.requestedRange, vr = _b.visibleRange, scale = _b.scale;\n        var span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n        var shift = span * vr[0];\n        var start = rr[0] - shift;\n        scale.range = [start, start + span];\n        (_a = this.crossLines) === null || _a === void 0 ? void 0 : _a.forEach(function (crossLine) {\n            crossLine.clippedRange = [rr[0], rr[1]];\n        });\n    };\n    Axis.prototype.setCrossLinesVisible = function (visible) {\n        this.crossLineGroup.visible = visible;\n    };\n    Axis.prototype.attachAxis = function (node, nextNode) {\n        node.insertBefore(this.gridGroup, nextNode);\n        node.insertBefore(this.axisGroup, nextNode);\n        node.insertBefore(this.crossLineGroup, nextNode);\n    };\n    Axis.prototype.detachAxis = function (node) {\n        node.removeChild(this.gridGroup);\n        node.removeChild(this.axisGroup);\n        node.removeChild(this.crossLineGroup);\n    };\n    /**\n     * Checks if a point or an object is in range.\n     * @param x A point (or object's starting point).\n     * @param width Object's width.\n     * @param tolerance Expands the range on both ends by this amount.\n     */\n    Axis.prototype.inRange = function (x, width, tolerance) {\n        if (width === void 0) { width = 0; }\n        if (tolerance === void 0) { tolerance = 0; }\n        return this.inRangeEx(x, width, tolerance) === 0;\n    };\n    Axis.prototype.inRangeEx = function (x, width, tolerance) {\n        if (width === void 0) { width = 0; }\n        if (tolerance === void 0) { tolerance = 0; }\n        var range = this.range;\n        // Account for inverted ranges, for example [500, 100] as well as [100, 500]\n        var min = Math.min(range[0], range[1]);\n        var max = Math.max(range[0], range[1]);\n        if (x + width < min - tolerance) {\n            return -1; // left of range\n        }\n        if (x > max + tolerance) {\n            return 1; // right of range\n        }\n        return 0; // in range\n    };\n    Object.defineProperty(Axis.prototype, \"range\", {\n        get: function () {\n            return this.requestedRange;\n        },\n        set: function (value) {\n            this.requestedRange = value.slice();\n            this.updateRange();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Axis.prototype, \"visibleRange\", {\n        get: function () {\n            return this._visibleRange.slice();\n        },\n        set: function (value) {\n            if (value && value.length === 2) {\n                var _a = __read(value, 2), min = _a[0], max = _a[1];\n                min = Math.max(0, min);\n                max = Math.min(1, max);\n                min = Math.min(min, max);\n                max = Math.max(min, max);\n                this._visibleRange = [min, max];\n                this.updateRange();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Axis.prototype.onLabelFormatChange = function (ticks, format) {\n        var _a = this, scale = _a.scale, fractionDigits = _a.fractionDigits;\n        var logScale = scale instanceof LogScale;\n        var defaultLabelFormatter = !logScale && fractionDigits > 0\n            ? function (x) { return (typeof x === 'number' ? x.toFixed(fractionDigits) : String(x)); }\n            : function (x) { return String(x); };\n        if (format && scale && scale.tickFormat) {\n            try {\n                this.labelFormatter = scale.tickFormat({\n                    ticks: ticks,\n                    specifier: format,\n                });\n            }\n            catch (e) {\n                this.labelFormatter = defaultLabelFormatter;\n                Logger.warnOnce(\"the axis label format string \" + format + \" is invalid. No formatting will be applied\");\n            }\n        }\n        else {\n            this.labelFormatter = defaultLabelFormatter;\n        }\n    };\n    Object.defineProperty(Axis.prototype, \"title\", {\n        get: function () {\n            return this._title;\n        },\n        set: function (value) {\n            var oldTitle = this._title;\n            if (oldTitle !== value) {\n                if (oldTitle) {\n                    this.axisGroup.removeChild(oldTitle.node);\n                }\n                if (value) {\n                    value.node.rotation = -Math.PI / 2;\n                    this.axisGroup.appendChild(value.node);\n                }\n                this._title = value;\n                // position title so that it doesn't briefly get rendered in the top left hand corner of the canvas before update is called.\n                this.setTickCount(this.tick.count);\n                this.setTickInterval(this.tick.interval);\n                this.updateTitle({ ticks: this.scale.ticks() });\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Axis.prototype.setDomain = function () {\n        var _a;\n        var _b = this, scale = _b.scale, dataDomain = _b.dataDomain, tickValues = _b.tick.values;\n        if (tickValues && scale instanceof ContinuousScale) {\n            var _c = __read((_a = extent(tickValues)) !== null && _a !== void 0 ? _a : [Infinity, -Infinity], 2), tickMin = _c[0], tickMax = _c[1];\n            var min = Math.min(scale.fromDomain(dataDomain[0]), tickMin);\n            var max = Math.max(scale.fromDomain(dataDomain[1]), tickMax);\n            scale.domain = [scale.toDomain(min), scale.toDomain(max)];\n        }\n        else {\n            scale.domain = dataDomain;\n        }\n    };\n    Axis.prototype.setTickInterval = function (interval) {\n        var _a;\n        this.scale.interval = (_a = this.tick.interval) !== null && _a !== void 0 ? _a : interval;\n    };\n    Axis.prototype.setTickCount = function (count, minTickCount, maxTickCount) {\n        var scale = this.scale;\n        if (!(count && scale instanceof ContinuousScale)) {\n            return;\n        }\n        if (typeof count === 'number') {\n            scale.tickCount = count;\n            scale.minTickCount = minTickCount !== null && minTickCount !== void 0 ? minTickCount : 0;\n            scale.maxTickCount = maxTickCount !== null && maxTickCount !== void 0 ? maxTickCount : Infinity;\n            return;\n        }\n        if (scale instanceof TimeScale) {\n            this.setTickInterval(count);\n        }\n    };\n    Object.defineProperty(Axis.prototype, \"gridLength\", {\n        get: function () {\n            return this._gridLength;\n        },\n        set: function (value) {\n            var _this = this;\n            var _a;\n            // Was visible and now invisible, or was invisible and now visible.\n            if ((this._gridLength && !value) || (!this._gridLength && value)) {\n                this.gridLineGroupSelection = this.gridLineGroupSelection.clear();\n                this.gridArcGroupSelection = this.gridArcGroupSelection.clear();\n            }\n            this._gridLength = value;\n            (_a = this.crossLines) === null || _a === void 0 ? void 0 : _a.forEach(function (crossLine) {\n                _this.initCrossLine(crossLine);\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Axis.prototype, \"radialGrid\", {\n        get: function () {\n            return this._radialGrid;\n        },\n        set: function (value) {\n            if (this._radialGrid !== value) {\n                this._radialGrid = value;\n                this.gridLineGroupSelection = this.gridLineGroupSelection.clear();\n                this.gridArcGroupSelection = this.gridArcGroupSelection.clear();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Creates/removes/updates the scene graph nodes that constitute the axis.\n     */\n    Axis.prototype.update = function (primaryTickCount) {\n        var _a, _b;\n        this.calculateDomain();\n        var _c = this, scale = _c.scale, gridLength = _c.gridLength, tick = _c.tick, _d = _c.label, parallelLabels = _d.parallel, mirrored = _d.mirrored, avoidCollisions = _d.avoidCollisions, requestedRange = _c.requestedRange;\n        var requestedRangeMin = Math.min.apply(Math, __spread(requestedRange));\n        var requestedRangeMax = Math.max.apply(Math, __spread(requestedRange));\n        var rotation = toRadians(this.rotation);\n        var anySeriesActive = this.isAnySeriesActive();\n        // The side of the axis line to position the labels on.\n        // -1 = left (default)\n        //  1 = right\n        var sideFlag = mirrored ? 1 : -1;\n        // When labels are parallel to the axis line, the `parallelFlipFlag` is used to\n        // flip the labels to avoid upside-down text, when the axis is rotated\n        // such that it is in the right hemisphere, i.e. the angle of rotation\n        // is in the [0, π] interval.\n        // The rotation angle is normalized, so that we have an easier time checking\n        // if it's in the said interval. Since the axis is always rendered vertically\n        // and then rotated, zero rotation means 12 (not 3) o-clock.\n        // -1 = flip\n        //  1 = don't flip (default)\n        var parallelFlipRotation = normalizeAngle360(rotation);\n        var regularFlipRotation = normalizeAngle360(rotation - Math.PI / 2);\n        var nice = this.nice;\n        this.setDomain();\n        this.setTickInterval(this.tick.interval);\n        if (scale instanceof ContinuousScale) {\n            scale.nice = nice;\n            this.setTickCount(this.tick.count);\n            scale.update();\n        }\n        var halfBandwidth = (scale.bandwidth || 0) / 2;\n        this.updatePosition();\n        this.updateLine();\n        var i = 0;\n        var labelOverlap = true;\n        var ticks = [];\n        var _e = this.estimateTickCount({\n            minSpacing: this.tick.minSpacing,\n            maxSpacing: this.tick.maxSpacing,\n        }), maxTickCount = _e.maxTickCount, minTickCount = _e.minTickCount, defaultTickCount = _e.defaultTickCount;\n        var continuous = scale instanceof ContinuousScale;\n        var secondaryAxis = primaryTickCount !== undefined;\n        var checkForOverlap = avoidCollisions && this.tick.interval === undefined && this.tick.values === undefined;\n        var tickSpacing = !isNaN(this.tick.minSpacing) || !isNaN(this.tick.maxSpacing);\n        var maxIterations = this.tick.count || !continuous || isNaN(maxTickCount) ? 10 : maxTickCount;\n        while (labelOverlap) {\n            var unchanged = true;\n            var _loop_1 = function () {\n                if (i > maxIterations) {\n                    return \"break\";\n                }\n                var prevTicks = ticks;\n                var tickCount = Math.max(defaultTickCount - i, minTickCount);\n                var filterTicks = checkForOverlap && !(continuous && this_1.tick.count === undefined) && (tickSpacing || i !== 0);\n                if (this_1.tick.values) {\n                    ticks = this_1.tick.values;\n                }\n                else if (maxTickCount === 0) {\n                    ticks = [];\n                }\n                else if (i === 0 || !filterTicks) {\n                    this_1.setTickCount((_a = this_1.tick.count) !== null && _a !== void 0 ? _a : tickCount, minTickCount, maxTickCount);\n                    ticks = scale.ticks();\n                }\n                if (filterTicks) {\n                    var keepEvery_1 = tickSpacing ? Math.ceil(ticks.length / tickCount) : 2;\n                    ticks = ticks.filter(function (_, i) { return i % keepEvery_1 === 0; });\n                }\n                var secondaryAxisTicks = void 0;\n                if (secondaryAxis) {\n                    // `updateSecondaryAxisTicks` mutates `scale.domain` based on `primaryTickCount`\n                    secondaryAxisTicks = this_1.updateSecondaryAxisTicks(primaryTickCount);\n                    ticks = secondaryAxisTicks;\n                }\n                this_1.updateSelections({\n                    halfBandwidth: halfBandwidth,\n                    gridLength: gridLength,\n                    ticks: ticks,\n                });\n                if (!secondaryAxis && ticks.length > 0) {\n                    primaryTickCount = ticks.length;\n                }\n                unchanged = checkForOverlap ? areArrayNumbersEqual(ticks, prevTicks) : false;\n                i++;\n            };\n            var this_1 = this;\n            while (unchanged) {\n                var state_1 = _loop_1();\n                if (state_1 === \"break\")\n                    break;\n            }\n            if (unchanged) {\n                break;\n            }\n            // When the scale domain or the ticks change, the label format may change\n            this.onLabelFormatChange(ticks, this.label.format);\n            var _f = this.updateLabels({\n                parallelFlipRotation: parallelFlipRotation,\n                regularFlipRotation: regularFlipRotation,\n                sideFlag: sideFlag,\n                tickLabelGroupSelection: this.tickLabelGroupSelection,\n                ticks: ticks,\n            }), labelData = _f.labelData, rotated = _f.rotated;\n            var labelSpacing = this.getLabelSpacing(rotated);\n            // no need for further iterations if `avoidCollisions` is false\n            labelOverlap = checkForOverlap ? axisLabelsOverlap(labelData, labelSpacing) : false;\n        }\n        this.updateGridLines({\n            gridLength: gridLength,\n            halfBandwidth: halfBandwidth,\n            sideFlag: sideFlag,\n        });\n        var anyTickVisible = false;\n        var visibleFn = function (node) {\n            var min = Math.floor(requestedRangeMin);\n            var max = Math.ceil(requestedRangeMax);\n            if (min === max) {\n                node.visible = false;\n                return;\n            }\n            // Fix an effect of rounding error\n            if (node.translationY >= min - 1 && node.translationY < min) {\n                node.translationY = min;\n            }\n            if (node.translationY > max && node.translationY <= max + 1) {\n                node.translationY = max;\n            }\n            var visible = node.translationY >= min && node.translationY <= max;\n            if (visible) {\n                anyTickVisible = true;\n            }\n            node.visible = visible;\n        };\n        var _g = this, gridLineGroupSelection = _g.gridLineGroupSelection, gridArcGroupSelection = _g.gridArcGroupSelection, tickLineGroupSelection = _g.tickLineGroupSelection, tickLabelGroupSelection = _g.tickLabelGroupSelection;\n        gridLineGroupSelection.each(visibleFn);\n        gridArcGroupSelection.each(visibleFn);\n        tickLineGroupSelection.each(visibleFn);\n        tickLabelGroupSelection.each(visibleFn);\n        this.tickLineGroup.visible = anyTickVisible;\n        this.tickLabelGroup.visible = anyTickVisible;\n        this.gridLineGroup.visible = anyTickVisible;\n        this.gridArcGroup.visible = anyTickVisible;\n        (_b = this.crossLines) === null || _b === void 0 ? void 0 : _b.forEach(function (crossLine) {\n            crossLine.sideFlag = -sideFlag;\n            crossLine.direction = rotation === -Math.PI / 2 ? ChartAxisDirection.X : ChartAxisDirection.Y;\n            crossLine.label.parallel =\n                crossLine.label.parallel !== undefined ? crossLine.label.parallel : parallelLabels;\n            crossLine.parallelFlipRotation = parallelFlipRotation;\n            crossLine.regularFlipRotation = regularFlipRotation;\n            crossLine.update(anySeriesActive);\n        });\n        this.updateTitle({ ticks: ticks });\n        tickLineGroupSelection.each(function (line) {\n            line.strokeWidth = tick.width;\n            line.stroke = tick.color;\n            line.visible = anyTickVisible;\n            line.x1 = sideFlag * tick.size;\n            line.x2 = 0;\n            line.y1 = 0;\n            line.y2 = 0;\n        });\n        return primaryTickCount;\n    };\n    Axis.prototype.estimateTickCount = function (_a) {\n        var minSpacing = _a.minSpacing, maxSpacing = _a.maxSpacing;\n        var requestedRange = this.requestedRange;\n        var min = Math.min.apply(Math, __spread(requestedRange));\n        var max = Math.max.apply(Math, __spread(requestedRange));\n        var availableRange = max - min;\n        var defaultMinSpacing = Math.max(Axis.defaultTickMinSpacing, availableRange / ContinuousScale.defaultMaxTickCount);\n        if (isNaN(minSpacing) && isNaN(maxSpacing)) {\n            minSpacing = defaultMinSpacing;\n            maxSpacing = availableRange;\n            if (minSpacing > maxSpacing) {\n                // Take automatic minSpacing if there is a conflict.\n                maxSpacing = minSpacing;\n            }\n        }\n        else if (isNaN(minSpacing)) {\n            minSpacing = defaultMinSpacing;\n            if (minSpacing > maxSpacing) {\n                // Take user-suplied maxSpacing if there is a conflict.\n                minSpacing = maxSpacing;\n            }\n        }\n        else if (isNaN(maxSpacing)) {\n            maxSpacing = availableRange;\n            if (minSpacing > maxSpacing) {\n                // Take user-suplied minSpacing if there is a conflict.\n                maxSpacing = minSpacing;\n            }\n        }\n        var maxTickCount = Math.max(1, Math.floor(availableRange / minSpacing));\n        var minTickCount = Math.min(maxTickCount, Math.ceil(availableRange / maxSpacing));\n        var defaultTickCount = ContinuousScale.defaultTickCount;\n        if (defaultTickCount > maxTickCount) {\n            defaultTickCount = maxTickCount;\n        }\n        else if (defaultTickCount < minTickCount) {\n            defaultTickCount = minTickCount;\n        }\n        return { minTickCount: minTickCount, maxTickCount: maxTickCount, defaultTickCount: defaultTickCount };\n    };\n    Axis.prototype.getLabelSpacing = function (rotated) {\n        var label = this.label;\n        if (!isNaN(label.minSpacing)) {\n            return label.minSpacing;\n        }\n        return rotated ? 0 : 10;\n    };\n    Axis.prototype.calculateDomain = function () {\n        // Placeholder for subclasses to override.\n    };\n    Axis.prototype.updatePosition = function () {\n        var _a = this, label = _a.label, crossLineGroup = _a.crossLineGroup, axisGroup = _a.axisGroup, gridGroup = _a.gridGroup, translation = _a.translation, gridLineGroupSelection = _a.gridLineGroupSelection, gridPadding = _a.gridPadding, gridLength = _a.gridLength;\n        var rotation = toRadians(this.rotation);\n        var sideFlag = label.mirrored ? 1 : -1;\n        var translationX = Math.floor(translation.x);\n        var translationY = Math.floor(translation.y);\n        crossLineGroup.translationX = translationX;\n        crossLineGroup.translationY = translationY;\n        crossLineGroup.rotation = rotation;\n        axisGroup.translationX = translationX;\n        axisGroup.translationY = translationY;\n        axisGroup.rotation = rotation;\n        gridGroup.translationX = translationX;\n        gridGroup.translationY = translationY;\n        gridGroup.rotation = rotation;\n        gridLineGroupSelection.each(function (line) {\n            line.x1 = gridPadding;\n            line.x2 = -sideFlag * gridLength + gridPadding;\n            line.y1 = 0;\n            line.y2 = 0;\n        });\n    };\n    Axis.prototype.updateSecondaryAxisTicks = function (_primaryTickCount) {\n        throw new Error('AG Charts - unexpected call to updateSecondaryAxisTicks() - check axes configuration.');\n    };\n    Axis.prototype.updateSelections = function (_a) {\n        var ticks = _a.ticks, halfBandwidth = _a.halfBandwidth, gridLength = _a.gridLength;\n        var scale = this.scale;\n        var data = ticks.map(function (t) { return ({ tick: t, translationY: scale.convert(t) + halfBandwidth }); });\n        var gridLineGroupSelection = this.radialGrid\n            ? this.gridLineGroupSelection\n            : this.gridLineGroupSelection.update(gridLength ? data : [], function (group) {\n                var node = new Line();\n                node.tag = Tags.GridLine;\n                group.append(node);\n            });\n        var gridArcGroupSelection = this.radialGrid\n            ? this.gridArcGroupSelection.update(gridLength ? data : [], function (group) {\n                var node = new Arc();\n                node.tag = Tags.GridArc;\n                group.append(node);\n            })\n            : this.gridArcGroupSelection;\n        var tickLineGroupSelection = this.tickLineGroupSelection.update(data, function (group) {\n            var line = new Line();\n            line.tag = Tags.TickLine;\n            group.appendChild(line);\n        });\n        var tickLabelGroupSelection = this.tickLabelGroupSelection.update(data, function (group) {\n            var text = new Text();\n            text.tag = Tags.TickLabel;\n            group.appendChild(text);\n        });\n        // We need raw `translationY` values on `datum` for accurate label collision detection in axes.update()\n        // But node `translationY` values must be rounded to get pixel grid alignment\n        var translationFn = function (node) { return (node.translationY = Math.round(node.datum.translationY)); };\n        gridLineGroupSelection.each(translationFn);\n        gridArcGroupSelection.each(translationFn);\n        tickLineGroupSelection.each(translationFn);\n        tickLabelGroupSelection.each(translationFn);\n        this.tickLineGroupSelection = tickLineGroupSelection;\n        this.tickLabelGroupSelection = tickLabelGroupSelection;\n        this.gridLineGroupSelection = gridLineGroupSelection;\n        this.gridArcGroupSelection = gridArcGroupSelection;\n    };\n    Axis.prototype.updateGridLines = function (_a) {\n        var gridLength = _a.gridLength, halfBandwidth = _a.halfBandwidth, sideFlag = _a.sideFlag;\n        var _b = this, gridStyle = _b.gridStyle, scale = _b.scale, tick = _b.tick, gridPadding = _b.gridPadding;\n        if (gridLength && gridStyle.length) {\n            var styleCount_1 = gridStyle.length;\n            var grid = void 0;\n            if (this.radialGrid) {\n                var angularGridLength_1 = normalizeAngle360Inclusive(toRadians(gridLength));\n                grid = this.gridArcGroupSelection.each(function (arc, datum) {\n                    var radius = Math.round(scale.convert(datum) + halfBandwidth);\n                    arc.centerX = 0;\n                    arc.centerY = scale.range[0] - radius;\n                    arc.endAngle = angularGridLength_1;\n                    arc.radius = radius;\n                });\n            }\n            else {\n                grid = this.gridLineGroupSelection.each(function (line) {\n                    line.x1 = gridPadding;\n                    line.x2 = -sideFlag * gridLength + gridPadding;\n                    line.y1 = 0;\n                    line.y2 = 0;\n                });\n            }\n            grid.each(function (node, _, index) {\n                var style = gridStyle[index % styleCount_1];\n                node.stroke = style.stroke;\n                node.strokeWidth = tick.width;\n                node.lineDash = style.lineDash;\n                node.fill = undefined;\n            });\n        }\n    };\n    Axis.prototype.updateLabels = function (_a) {\n        var _this = this;\n        var ticks = _a.ticks, tickLabelGroupSelection = _a.tickLabelGroupSelection, sideFlag = _a.sideFlag, parallelFlipRotation = _a.parallelFlipRotation, regularFlipRotation = _a.regularFlipRotation;\n        var _b = this, label = _b.label, _c = _b.label, parallel = _c.parallel, rotation = _c.rotation, tick = _b.tick;\n        var labelAutoRotation = 0;\n        var _d = calculateLabelRotation({\n            rotation: rotation,\n            parallel: parallel,\n            regularFlipRotation: regularFlipRotation,\n            parallelFlipRotation: parallelFlipRotation,\n        }), autoRotation = _d.autoRotation, labelRotation = _d.labelRotation, parallelFlipFlag = _d.parallelFlipFlag, regularFlipFlag = _d.regularFlipFlag;\n        // `ticks instanceof NumericTicks` doesn't work here, so we feature detect.\n        this.fractionDigits = ticks.fractionDigits >= 0 ? ticks.fractionDigits : 0;\n        // Update properties that affect the size of the axis labels and measure the labels\n        var labelBboxes = new Map();\n        var labelX = sideFlag * (tick.size + label.padding + this.seriesAreaPadding);\n        var labelMatrix = new Matrix();\n        Matrix.updateTransformMatrix(labelMatrix, 1, 1, autoRotation, 0, 0);\n        var labelData = [];\n        var labelSelection = tickLabelGroupSelection.each(function (node, datum, index) {\n            var tick = datum.tick, translationY = datum.translationY;\n            node.fontStyle = label.fontStyle;\n            node.fontWeight = label.fontWeight;\n            node.fontSize = label.fontSize;\n            node.fontFamily = label.fontFamily;\n            node.fill = label.color;\n            node.text = _this.formatTickDatum(tick, index);\n            var userHidden = node.text === '' || node.text == undefined;\n            var bbox = node.computeBBox();\n            var width = bbox.width, height = bbox.height;\n            var translatedBBox = new BBox(labelX, translationY, 0, 0);\n            labelMatrix.transformBBox(translatedBBox, bbox);\n            var _a = bbox.x, x = _a === void 0 ? 0 : _a, _b = bbox.y, y = _b === void 0 ? 0 : _b;\n            bbox.width = width;\n            bbox.height = height;\n            labelBboxes.set(index, userHidden ? null : bbox);\n            if (userHidden) {\n                return;\n            }\n            labelData.push({\n                point: {\n                    x: x,\n                    y: y,\n                    size: 0,\n                },\n                label: {\n                    width: width,\n                    height: height,\n                    text: '',\n                },\n            });\n        });\n        var labelSpacing = this.getLabelSpacing();\n        var rotate = axisLabelsOverlap(labelData, labelSpacing);\n        if (label.rotation === undefined && label.autoRotate === true && rotate) {\n            // When no user label rotation angle has been specified and the width of any label exceeds the average tick gap (`rotate` is `true`),\n            // automatically rotate the labels\n            labelAutoRotation = normalizeAngle360(toRadians(label.autoRotateAngle));\n        }\n        var labelTextBaseline = 'middle';\n        if (parallel && !labelRotation) {\n            if (sideFlag * parallelFlipFlag === -1) {\n                labelTextBaseline = 'hanging';\n            }\n            else {\n                labelTextBaseline = 'bottom';\n            }\n        }\n        var labelRotated = labelRotation > 0 && labelRotation <= Math.PI;\n        var labelAutoRotated = labelAutoRotation > 0 && labelAutoRotation <= Math.PI;\n        var alignFlag = labelRotated || labelAutoRotated ? -1 : 1;\n        var labelTextAlign = 'start';\n        if (parallel) {\n            if (labelRotation || labelAutoRotation) {\n                if (sideFlag * alignFlag === -1) {\n                    labelTextAlign = 'end';\n                }\n            }\n            else {\n                labelTextAlign = 'center';\n            }\n        }\n        else if (sideFlag * regularFlipFlag === -1) {\n            labelTextAlign = 'end';\n        }\n        var combinedRotation = autoRotation + labelRotation + labelAutoRotation;\n        if (combinedRotation) {\n            Matrix.updateTransformMatrix(labelMatrix, 1, 1, combinedRotation, 0, 0);\n        }\n        labelData = [];\n        labelSelection.each(function (label, datum, index) {\n            if (label.text === '' || label.text == undefined) {\n                label.visible = false; // hide empty labels\n                return;\n            }\n            label.textBaseline = labelTextBaseline;\n            label.textAlign = labelTextAlign;\n            label.x = labelX;\n            label.rotationCenterX = labelX;\n            label.rotation = combinedRotation;\n            // Text.computeBBox() does not take into account any of the transformations that have been applied to the label nodes, only the width and height are useful.\n            // Rather than taking into account all transformations including those of parent nodes which would be the result of `computeTransformedBBox()`, giving the x and y in the entire axis coordinate space,\n            // take into account only the rotation and translation applied to individual label nodes to get the x y coordinates of the labels relative to each other\n            // this makes label collision detection a lot simpler\n            var bbox = labelBboxes.get(index);\n            if (!bbox) {\n                return;\n            }\n            label.visible = true;\n            var _a = bbox.width, width = _a === void 0 ? 0 : _a, _b = bbox.height, height = _b === void 0 ? 0 : _b;\n            var translationY = datum.translationY;\n            var translatedBBox = new BBox(labelX, translationY, 0, 0);\n            labelMatrix.transformBBox(translatedBBox, bbox);\n            var _c = bbox.x, x = _c === void 0 ? 0 : _c, _d = bbox.y, y = _d === void 0 ? 0 : _d;\n            labelData.push({\n                point: {\n                    x: x,\n                    y: y,\n                    size: 0,\n                },\n                label: {\n                    width: width,\n                    height: height,\n                    text: label.text,\n                },\n            });\n        });\n        this.layout.label = {\n            align: labelTextAlign,\n            baseline: labelTextBaseline,\n            rotation: combinedRotation,\n            fractionDigits: this.fractionDigits,\n            padding: this.label.padding,\n            format: this.label.format,\n        };\n        return { labelData: labelData, rotated: !!(labelRotation || labelAutoRotation) };\n    };\n    Axis.prototype.updateLine = function () {\n        // Render axis line.\n        var _a = this, lineNode = _a.lineNode, requestedRange = _a.requestedRange;\n        lineNode.x1 = 0;\n        lineNode.x2 = 0;\n        lineNode.y1 = requestedRange[0];\n        lineNode.y2 = requestedRange[1];\n        lineNode.strokeWidth = this.line.width;\n        lineNode.stroke = this.line.color;\n        lineNode.visible = true;\n    };\n    Axis.prototype.updateTitle = function (_a) {\n        var ticks = _a.ticks;\n        var _b = this, label = _b.label, rotation = _b.rotation, title = _b.title, lineNode = _b.lineNode, requestedRange = _b.requestedRange, tickLineGroup = _b.tickLineGroup, tickLabelGroup = _b.tickLabelGroup;\n        if (!title) {\n            return;\n        }\n        var titleVisible = false;\n        if (title.enabled && lineNode.visible) {\n            titleVisible = true;\n            var sideFlag = label.mirrored ? 1 : -1;\n            var parallelFlipRotation = normalizeAngle360(rotation);\n            var padding = Caption.PADDING;\n            var titleNode = title.node;\n            var titleRotationFlag = sideFlag === -1 && parallelFlipRotation > Math.PI && parallelFlipRotation < Math.PI * 2 ? -1 : 1;\n            titleNode.rotation = (titleRotationFlag * sideFlag * Math.PI) / 2;\n            titleNode.x = Math.floor((titleRotationFlag * sideFlag * (requestedRange[0] + requestedRange[1])) / 2);\n            var bboxYDimension = 0;\n            if ((ticks === null || ticks === void 0 ? void 0 : ticks.length) > 0) {\n                var tickBBox = Group.computeBBox([tickLineGroup, tickLabelGroup]);\n                var tickWidth = rotation === 0 ? tickBBox.width : tickBBox.height;\n                if (Math.abs(tickWidth) < Infinity) {\n                    bboxYDimension += tickWidth;\n                }\n            }\n            if (sideFlag === -1) {\n                titleNode.y = Math.floor(titleRotationFlag * (-padding - bboxYDimension));\n            }\n            else {\n                titleNode.y = Math.floor(-padding - bboxYDimension);\n            }\n            titleNode.textBaseline = titleRotationFlag === 1 ? 'bottom' : 'top';\n        }\n        title.node.visible = titleVisible;\n    };\n    // For formatting (nice rounded) tick values.\n    Axis.prototype.formatTickDatum = function (datum, index) {\n        var _a = this, label = _a.label, labelFormatter = _a.labelFormatter, fractionDigits = _a.fractionDigits;\n        if (label.formatter) {\n            return label.formatter({\n                value: fractionDigits > 0 ? datum : String(datum),\n                index: index,\n                fractionDigits: fractionDigits,\n                formatter: labelFormatter,\n            });\n        }\n        else if (labelFormatter) {\n            return labelFormatter(datum);\n        }\n        // The axis is using a logScale or the`datum` is an integer, a string or an object\n        return String(datum);\n    };\n    // For formatting arbitrary values between the ticks.\n    Axis.prototype.formatDatum = function (datum) {\n        return String(datum);\n    };\n    Axis.prototype.computeBBox = function () {\n        return this.axisGroup.computeBBox();\n    };\n    Axis.prototype.initCrossLine = function (crossLine) {\n        crossLine.scale = this.scale;\n        crossLine.gridLength = this.gridLength;\n    };\n    Axis.prototype.isAnySeriesActive = function () {\n        return false;\n    };\n    Axis.prototype.clipTickLines = function (x, y, width, height) {\n        this.tickLineGroup.setClipRectInGroupCoordinateSpace(new BBox(x, y, width, height));\n    };\n    Axis.prototype.clipGrid = function (x, y, width, height) {\n        this.gridGroup.setClipRectInGroupCoordinateSpace(new BBox(x, y, width, height));\n    };\n    Axis.prototype.calculatePadding = function (min, _max) {\n        return Math.abs(min * 0.01);\n    };\n    Axis.defaultTickMinSpacing = 50;\n    __decorate([\n        Validate(BOOLEAN)\n    ], Axis.prototype, \"nice\", void 0);\n    __decorate([\n        Validate(GRID_STYLE)\n    ], Axis.prototype, \"gridStyle\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], Axis.prototype, \"thickness\", void 0);\n    return Axis;\n}());\nexport { Axis };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { ContinuousScale } from './continuousScale';\nimport ticks, { range, tickStep, singleTickDomain } from '../util/ticks';\nimport { tickFormat } from '../util/numberFormat';\n/**\n * Maps continuous domain to a continuous range.\n */\nvar LinearScale = /** @class */ (function (_super) {\n    __extends(LinearScale, _super);\n    function LinearScale() {\n        var _this = _super.call(this, [0, 1], [0, 1]) || this;\n        _this.type = 'linear';\n        return _this;\n    }\n    LinearScale.prototype.toDomain = function (d) {\n        return d;\n    };\n    LinearScale.prototype.ticks = function () {\n        var _a;\n        var count = (_a = this.tickCount) !== null && _a !== void 0 ? _a : ContinuousScale.defaultTickCount;\n        if (!this.domain || this.domain.length < 2 || count < 1 || this.domain.some(function (d) { return !isFinite(d); })) {\n            return [];\n        }\n        this.refresh();\n        var _b = __read(this.getDomain(), 2), d0 = _b[0], d1 = _b[1];\n        var interval = this.interval;\n        if (interval) {\n            var step = Math.abs(interval);\n            if (!this.isDenseInterval({ start: d0, stop: d1, interval: step })) {\n                return range(d0, d1, step);\n            }\n        }\n        return ticks(d0, d1, count, this.minTickCount, this.maxTickCount);\n    };\n    LinearScale.prototype.update = function () {\n        if (!this.domain || this.domain.length < 2) {\n            return;\n        }\n        if (this.nice) {\n            this.updateNiceDomain();\n        }\n    };\n    /**\n     * Extends the domain so that it starts and ends on nice round values.\n     * @param count Tick count.\n     */\n    LinearScale.prototype.updateNiceDomain = function () {\n        var _a, _b;\n        var count = (_a = this.tickCount) !== null && _a !== void 0 ? _a : ContinuousScale.defaultTickCount;\n        var _c = __read(this.domain, 2), start = _c[0], stop = _c[1];\n        if (count < 1) {\n            this.niceDomain = [start, stop];\n            return;\n        }\n        if (count === 1) {\n            this.niceDomain = singleTickDomain(start, stop);\n            return;\n        }\n        var maxAttempts = 4;\n        var prev0 = start;\n        var prev1 = stop;\n        for (var i = 0; i < maxAttempts; i++) {\n            var step = (_b = this.interval) !== null && _b !== void 0 ? _b : tickStep(start, stop, count, this.minTickCount, this.maxTickCount);\n            var _d = __read(this.domain, 2), d0 = _d[0], d1 = _d[1];\n            if (step >= 1) {\n                start = Math.floor(d0 / step) * step;\n                stop = Math.ceil(d1 / step) * step;\n            }\n            else {\n                // Prevent floating point error\n                var s = 1 / step;\n                start = Math.floor(d0 * s) / s;\n                stop = Math.ceil(d1 * s) / s;\n            }\n            if (start === prev0 && stop === prev1) {\n                break;\n            }\n            prev0 = start;\n            prev1 = stop;\n        }\n        this.niceDomain = [start, stop];\n    };\n    LinearScale.prototype.tickFormat = function (_a) {\n        var ticks = _a.ticks, specifier = _a.specifier;\n        return tickFormat(ticks || this.ticks(), specifier);\n    };\n    return LinearScale;\n}(ContinuousScale));\nexport { LinearScale };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { Axis } from '../axis';\nimport { ChartAxisDirection } from './chartAxisDirection';\nimport { LinearScale } from '../scale/linearScale';\nimport { ContinuousScale } from '../scale/continuousScale';\nimport { POSITION, STRING_ARRAY, Validate } from '../util/validation';\nexport function flipChartAxisDirection(direction) {\n    if (direction === ChartAxisDirection.X) {\n        return ChartAxisDirection.Y;\n    }\n    else {\n        return ChartAxisDirection.X;\n    }\n}\nvar ChartAxis = /** @class */ (function (_super) {\n    __extends(ChartAxis, _super);\n    function ChartAxis(moduleCtx, scale) {\n        var _this = _super.call(this, scale) || this;\n        _this.moduleCtx = moduleCtx;\n        _this.keys = [];\n        _this.direction = ChartAxisDirection.Y;\n        _this.boundSeries = [];\n        _this.includeInvisibleDomains = false;\n        _this.modules = {};\n        _this._position = 'left';\n        return _this;\n    }\n    Object.defineProperty(ChartAxis.prototype, \"type\", {\n        get: function () {\n            return this.constructor.type || '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChartAxis.prototype.useCalculatedTickCount = function () {\n        // We only want to use the new algorithm for number axes. Category axes don't use a\n        // calculated or user-supplied tick-count, and time axes need special handling depending on\n        // the time-range involved.\n        return this.scale instanceof LinearScale;\n    };\n    Object.defineProperty(ChartAxis.prototype, \"position\", {\n        get: function () {\n            return this._position;\n        },\n        set: function (value) {\n            if (this._position !== value) {\n                this._position = value;\n                switch (value) {\n                    case 'top':\n                        this.direction = ChartAxisDirection.X;\n                        this.rotation = -90;\n                        this.label.mirrored = true;\n                        this.label.parallel = true;\n                        break;\n                    case 'right':\n                        this.direction = ChartAxisDirection.Y;\n                        this.rotation = 0;\n                        this.label.mirrored = true;\n                        this.label.parallel = false;\n                        break;\n                    case 'bottom':\n                        this.direction = ChartAxisDirection.X;\n                        this.rotation = -90;\n                        this.label.mirrored = false;\n                        this.label.parallel = true;\n                        break;\n                    case 'left':\n                        this.direction = ChartAxisDirection.Y;\n                        this.rotation = 0;\n                        this.label.mirrored = false;\n                        this.label.parallel = false;\n                        break;\n                }\n                if (this.axisContext) {\n                    this.axisContext.position = value;\n                    this.axisContext.direction = this.direction;\n                }\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChartAxis.prototype.calculateDomain = function () {\n        var _a;\n        var _b = this, direction = _b.direction, boundSeries = _b.boundSeries, includeInvisibleDomains = _b.includeInvisibleDomains;\n        if (this.linkedTo) {\n            this.dataDomain = this.linkedTo.dataDomain;\n        }\n        else {\n            var domains_1 = [];\n            boundSeries\n                .filter(function (s) { return includeInvisibleDomains || s.isEnabled(); })\n                .forEach(function (series) {\n                domains_1.push(series.getDomain(direction));\n            });\n            var domain = (_a = new Array()).concat.apply(_a, __spread(domains_1));\n            this.dataDomain = this.normaliseDataDomain(domain);\n        }\n    };\n    ChartAxis.prototype.normaliseDataDomain = function (d) {\n        return d;\n    };\n    ChartAxis.prototype.isAnySeriesActive = function () {\n        var _this = this;\n        return this.boundSeries.some(function (s) { return _this.includeInvisibleDomains || s.isEnabled(); });\n    };\n    ChartAxis.prototype.getLayoutState = function () {\n        return __assign({ rect: this.computeBBox(), gridPadding: this.gridPadding, seriesAreaPadding: this.seriesAreaPadding, tickSize: this.tick.size }, this.layout);\n    };\n    ChartAxis.prototype.addModule = function (module) {\n        var _this = this;\n        if (this.modules[module.optionsKey] != null) {\n            throw new Error('AG Charts - module already initialised: ' + module.optionsKey);\n        }\n        if (this.axisContext == null) {\n            var keys = function () {\n                return _this.boundSeries\n                    .map(function (s) { return s.getKeys(_this.direction); })\n                    .reduce(function (keys, seriesKeys) {\n                    keys.push.apply(keys, __spread(seriesKeys));\n                    return keys;\n                }, []);\n            };\n            this.axisContext = {\n                axisId: this.id,\n                position: this.position,\n                direction: this.direction,\n                continuous: this.scale instanceof ContinuousScale,\n                keys: keys,\n                scaleValueFormatter: function (specifier) { var _a, _b, _c; return (_c = (_b = (_a = _this.scale).tickFormat) === null || _b === void 0 ? void 0 : _b.call(_a, { specifier: specifier })) !== null && _c !== void 0 ? _c : undefined; },\n                scaleBandwidth: function () { var _a; return (_a = _this.scale.bandwidth) !== null && _a !== void 0 ? _a : 0; },\n                scaleConvert: function (val) { return _this.scale.convert(val); },\n                scaleInvert: function (val) { var _a, _b, _c; return (_c = (_b = (_a = _this.scale).invert) === null || _b === void 0 ? void 0 : _b.call(_a, val)) !== null && _c !== void 0 ? _c : undefined; },\n            };\n        }\n        var moduleMeta = module.initialiseModule(__assign(__assign({}, this.moduleCtx), { parent: this.axisContext }));\n        this.modules[module.optionsKey] = moduleMeta;\n        this[module.optionsKey] = moduleMeta.instance;\n    };\n    ChartAxis.prototype.removeModule = function (module) {\n        var _a, _b;\n        (_b = (_a = this.modules[module.optionsKey]) === null || _a === void 0 ? void 0 : _a.instance) === null || _b === void 0 ? void 0 : _b.destroy();\n        delete this.modules[module.optionsKey];\n        delete this[module.optionsKey];\n    };\n    ChartAxis.prototype.isModuleEnabled = function (module) {\n        return this.modules[module.optionsKey] != null;\n    };\n    ChartAxis.prototype.destroy = function () {\n        var e_1, _a;\n        _super.prototype.destroy.call(this);\n        try {\n            for (var _b = __values(Object.entries(this.modules)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), key = _d[0], module_1 = _d[1];\n                module_1.instance.destroy();\n                delete this.modules[key];\n                delete this[key];\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    __decorate([\n        Validate(STRING_ARRAY)\n    ], ChartAxis.prototype, \"keys\", void 0);\n    __decorate([\n        Validate(POSITION)\n    ], ChartAxis.prototype, \"_position\", void 0);\n    return ChartAxis;\n}(Axis));\nexport { ChartAxis };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { NUMBER, Validate } from '../../util/validation';\nimport { BandScale } from '../../scale/bandScale';\nimport { ChartAxis } from '../chartAxis';\nvar CategoryAxis = /** @class */ (function (_super) {\n    __extends(CategoryAxis, _super);\n    function CategoryAxis(moduleCtx) {\n        var _this = _super.call(this, moduleCtx, new BandScale()) || this;\n        _this._paddingOverrideEnabled = false;\n        _this.groupPaddingInner = 0.1;\n        _this.includeInvisibleDomains = true;\n        return _this;\n    }\n    Object.defineProperty(CategoryAxis.prototype, \"paddingInner\", {\n        get: function () {\n            this._paddingOverrideEnabled = true;\n            return this.scale.paddingInner;\n        },\n        set: function (value) {\n            this._paddingOverrideEnabled = true;\n            this.scale.paddingInner = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CategoryAxis.prototype, \"paddingOuter\", {\n        get: function () {\n            return this.scale.paddingOuter;\n        },\n        set: function (value) {\n            this.scale.paddingOuter = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CategoryAxis.prototype.normaliseDataDomain = function (d) {\n        // Prevent duplicate categories.\n        var valuesSet = new Set(d);\n        return new (Array.bind.apply(Array, __spread([void 0], valuesSet.values())))();\n    };\n    CategoryAxis.prototype.calculateDomain = function () {\n        if (!this._paddingOverrideEnabled) {\n            var boundSeries = this.boundSeries;\n            var paddings = boundSeries.map(function (s) { var _a; return (_a = s.getBandScalePadding) === null || _a === void 0 ? void 0 : _a.call(s); }).filter(function (p) { return p != null; });\n            if (paddings.length > 0) {\n                this.scale.paddingInner = Math.min.apply(Math, __spread(paddings.map(function (p) { return p.inner; })));\n                this.scale.paddingOuter = Math.max.apply(Math, __spread(paddings.map(function (p) { return p.outer; })));\n            }\n        }\n        return _super.prototype.calculateDomain.call(this);\n    };\n    CategoryAxis.className = 'CategoryAxis';\n    CategoryAxis.type = 'category';\n    __decorate([\n        Validate(NUMBER(0, 1))\n    ], CategoryAxis.prototype, \"groupPaddingInner\", void 0);\n    return CategoryAxis;\n}(ChartAxis));\nexport { CategoryAxis };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { Logger } from './logger';\n/**\n * Performs a JSON-diff between a source and target JSON structure.\n *\n * On a per property basis, takes the target property value where:\n * - types are different.\n * - type is primitive.\n * - type is array and length or content have changed.\n *\n * Recurses for object types.\n *\n * @param source starting point for diff\n * @param target target for diff vs. source\n *\n * @returns `null` if no differences, or an object with the subset of properties that have changed.\n */\nexport function jsonDiff(source, target) {\n    var e_1, _a;\n    var sourceType = classify(source);\n    var targetType = classify(target);\n    if (targetType === 'array') {\n        var targetArray = target;\n        if (sourceType !== 'array' || source.length !== targetArray.length) {\n            return __spread(targetArray);\n        }\n        if (targetArray.some(function (targetElement, i) { var _a; return jsonDiff((_a = source) === null || _a === void 0 ? void 0 : _a[i], targetElement) != null; })) {\n            return __spread(targetArray);\n        }\n        return null;\n    }\n    if (targetType === 'primitive') {\n        if (sourceType !== 'primitive') {\n            return __assign({}, target);\n        }\n        if (source !== target) {\n            return target;\n        }\n        return null;\n    }\n    var lhs = source || {};\n    var rhs = target || {};\n    var allProps = new Set(__spread(Object.keys(lhs), Object.keys(rhs)));\n    var propsChangedCount = 0;\n    var result = {};\n    var _loop_1 = function (prop) {\n        // Cheap-and-easy equality check.\n        if (lhs[prop] === rhs[prop]) {\n            return \"continue\";\n        }\n        var take = function (v) {\n            result[prop] = v;\n            propsChangedCount++;\n        };\n        var lhsType = classify(lhs[prop]);\n        var rhsType = classify(rhs[prop]);\n        if (lhsType !== rhsType) {\n            // Types changed, just take RHS.\n            take(rhs[prop]);\n            return \"continue\";\n        }\n        if (rhsType === 'primitive' || rhsType === null) {\n            take(rhs[prop]);\n            return \"continue\";\n        }\n        if (rhsType === 'array' && lhs[prop].length !== rhs[prop].length) {\n            // Arrays are different sizes, so just take target array.\n            take(rhs[prop]);\n            return \"continue\";\n        }\n        if (rhsType === 'class-instance') {\n            // Don't try to do anything tricky with array diffs!\n            take(rhs[prop]);\n            return \"continue\";\n        }\n        if (rhsType === 'function' && lhs[prop] !== rhs[prop]) {\n            take(rhs[prop]);\n            return \"continue\";\n        }\n        var diff = jsonDiff(lhs[prop], rhs[prop]);\n        if (diff !== null) {\n            take(diff);\n        }\n    };\n    try {\n        for (var allProps_1 = __values(allProps), allProps_1_1 = allProps_1.next(); !allProps_1_1.done; allProps_1_1 = allProps_1.next()) {\n            var prop = allProps_1_1.value;\n            _loop_1(prop);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (allProps_1_1 && !allProps_1_1.done && (_a = allProps_1.return)) _a.call(allProps_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return propsChangedCount === 0 ? null : result;\n}\n/**\n * Special value used by `jsonMerge` to signal that a property should be removed from the merged\n * output.\n */\nexport var DELETE = Symbol('<delete-property>');\nvar NOT_SPECIFIED = Symbol('<unspecified-property>');\n/**\n * Merge together the provide JSON object structures, with the precedence of application running\n * from higher indexes to lower indexes.\n *\n * Deep-clones all objects to avoid mutation of the inputs changing the output object. For arrays,\n * just performs a deep-clone of the entire array, no merging of elements attempted.\n *\n * @param json all json objects to merge\n * @param opts merge options\n * @param opts.avoidDeepClone contains a list of properties where deep clones should be avoided\n *\n * @returns the combination of all of the json inputs\n */\nexport function jsonMerge(json, opts) {\n    var e_2, _a;\n    var avoidDeepClone = (opts === null || opts === void 0 ? void 0 : opts.avoidDeepClone) || [];\n    var jsonTypes = json.map(function (v) { return classify(v); });\n    if (jsonTypes.some(function (v) { return v === 'array'; })) {\n        // Clone final array.\n        var finalValue = json[json.length - 1];\n        if (finalValue instanceof Array) {\n            return finalValue.map(function (v) {\n                var type = classify(v);\n                if (type === 'array')\n                    return jsonMerge([[], v], opts);\n                if (type === 'object')\n                    return jsonMerge([{}, v], opts);\n                return v;\n            });\n        }\n        return finalValue;\n    }\n    var result = {};\n    var props = new Set(json.map(function (v) { return (v != null ? Object.keys(v) : []); }).reduce(function (r, n) { return r.concat(n); }, []));\n    var _loop_2 = function (nextProp) {\n        var values = json\n            .map(function (j) { return (j != null && nextProp in j ? j[nextProp] : NOT_SPECIFIED); })\n            .filter(function (v) { return v !== NOT_SPECIFIED; });\n        if (values.length === 0) {\n            return \"continue\";\n        }\n        var lastValue = values[values.length - 1];\n        if (lastValue === DELETE) {\n            return \"continue\";\n        }\n        var types = values.map(function (v) { return classify(v); });\n        var type = types[0];\n        if (types.some(function (t) { return t !== type; })) {\n            // Short-circuit if mismatching types.\n            result[nextProp] = lastValue;\n            return \"continue\";\n        }\n        if ((type === 'array' || type === 'object') && !avoidDeepClone.includes(nextProp)) {\n            result[nextProp] = jsonMerge(values, opts);\n        }\n        else if (type === 'array') {\n            // Arrays need to be shallow copied to avoid external mutation and allow jsonDiff to\n            // detect changes.\n            result[nextProp] = __spread(lastValue);\n        }\n        else {\n            // Just directly assign/overwrite.\n            result[nextProp] = lastValue;\n        }\n    };\n    try {\n        for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n            var nextProp = props_1_1.value;\n            _loop_2(nextProp);\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return result;\n}\n/**\n * Recursively apply a JSON object into a class-hierarchy, optionally instantiating certain classes\n * by property name.\n *\n * @param target to apply source JSON properties into\n * @param source to be applied\n * @param params.path path for logging/error purposes, to aid with pinpointing problems\n * @param params.matcherPath path for pattern matching, to lookup allowedTypes override.\n * @param params.skip property names to skip from the source\n * @param params.constructors dictionary of property name to class constructors for properties that\n *                            require object construction\n * @param params.allowedTypes overrides by path for allowed property types\n */\nexport function jsonApply(target, source, params) {\n    var _a;\n    if (params === void 0) { params = {}; }\n    var _b = params.path, path = _b === void 0 ? undefined : _b, _c = params.matcherPath, matcherPath = _c === void 0 ? path ? path.replace(/(\\[[0-9+]+\\])/i, '[]') : undefined : _c, _d = params.skip, skip = _d === void 0 ? [] : _d, _e = params.constructors, constructors = _e === void 0 ? {} : _e, _f = params.allowedTypes, allowedTypes = _f === void 0 ? {} : _f, idx = params.idx;\n    if (target == null) {\n        throw new Error(\"AG Charts - target is uninitialised: \" + (path || '<root>'));\n    }\n    if (source == null) {\n        return target;\n    }\n    var targetAny = target;\n    if (idx != null && '_declarationOrder' in targetAny) {\n        targetAny['_declarationOrder'] = idx;\n    }\n    var targetType = classify(target);\n    var _loop_3 = function (property) {\n        var propertyMatcherPath = \"\" + (matcherPath ? matcherPath + '.' : '') + property;\n        if (skip.indexOf(propertyMatcherPath) >= 0) {\n            return \"continue\";\n        }\n        var newValue = source[property];\n        var propertyPath = \"\" + (path ? path + '.' : '') + property;\n        var targetClass = targetAny.constructor;\n        var currentValue = targetAny[property];\n        var ctr = (_a = constructors[property]) !== null && _a !== void 0 ? _a : constructors[propertyMatcherPath];\n        try {\n            var currentValueType = classify(currentValue);\n            var newValueType = classify(newValue);\n            if (targetType === 'class-instance' &&\n                !(property in target || Object.prototype.hasOwnProperty.call(targetAny, property))) {\n                Logger.warn(\"unable to set [\" + propertyPath + \"] in \" + (targetClass === null || targetClass === void 0 ? void 0 : targetClass.name) + \" - property is unknown\");\n                return \"continue\";\n            }\n            var allowableTypes = allowedTypes[propertyMatcherPath] || [currentValueType];\n            if (currentValueType === 'class-instance' && newValueType === 'object') {\n                // Allowed, this is the common case! - do not error.\n            }\n            else if (currentValueType != null && newValueType != null && !allowableTypes.includes(newValueType)) {\n                Logger.warn(\"unable to set [\" + propertyPath + \"] in \" + (targetClass === null || targetClass === void 0 ? void 0 : targetClass.name) + \" - can't apply type of [\" + newValueType + \"], allowed types are: [\" + allowableTypes + \"]\");\n                return \"continue\";\n            }\n            if (newValueType === 'array') {\n                ctr = ctr !== null && ctr !== void 0 ? ctr : constructors[propertyMatcherPath + \"[]\"];\n                if (ctr != null) {\n                    var newValueArray = newValue;\n                    targetAny[property] = newValueArray.map(function (v, idx) {\n                        return jsonApply(new ctr(), v, __assign(__assign({}, params), { path: propertyPath, matcherPath: propertyMatcherPath + '[]', idx: idx }));\n                    });\n                }\n                else {\n                    targetAny[property] = newValue;\n                }\n            }\n            else if (newValueType === 'class-instance') {\n                targetAny[property] = newValue;\n            }\n            else if (newValueType === 'object') {\n                if (currentValue != null) {\n                    jsonApply(currentValue, newValue, __assign(__assign({}, params), { path: propertyPath, matcherPath: propertyMatcherPath, idx: undefined }));\n                }\n                else if (ctr != null) {\n                    targetAny[property] = jsonApply(new ctr(), newValue, __assign(__assign({}, params), { path: propertyPath, matcherPath: propertyMatcherPath, idx: undefined }));\n                }\n                else {\n                    targetAny[property] = newValue;\n                }\n            }\n            else {\n                targetAny[property] = newValue;\n            }\n        }\n        catch (error) {\n            var err = error;\n            Logger.warn(\"unable to set [\" + propertyPath + \"] in [\" + (targetClass === null || targetClass === void 0 ? void 0 : targetClass.name) + \"]; nested error is: \" + err.message);\n            return \"continue\";\n        }\n    };\n    for (var property in source) {\n        _loop_3(property);\n    }\n    return target;\n}\n/**\n * Walk the given JSON object graphs, invoking the visit() callback for every object encountered.\n * Arrays are descended into without a callback, however their elements will have the visit()\n * callback invoked if they are objects.\n *\n * @param json to traverse\n * @param visit callback for each non-primitive and non-array object found\n * @param opts.skip property names to skip when walking\n * @param jsons to traverse in parallel\n */\nexport function jsonWalk(json, visit, opts) {\n    var jsons = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        jsons[_i - 3] = arguments[_i];\n    }\n    var jsonType = classify(json);\n    var skip = opts.skip || [];\n    if (jsonType === 'array') {\n        json.forEach(function (element, index) {\n            jsonWalk.apply(void 0, __spread([element, visit, opts], (jsons !== null && jsons !== void 0 ? jsons : []).map(function (o) { return o === null || o === void 0 ? void 0 : o[index]; })));\n        });\n        return;\n    }\n    else if (jsonType !== 'object') {\n        return;\n    }\n    visit.apply(void 0, __spread([jsonType, json], jsons));\n    var _loop_4 = function (property) {\n        if (skip.indexOf(property) >= 0) {\n            return \"continue\";\n        }\n        var value = json[property];\n        var otherValues = jsons === null || jsons === void 0 ? void 0 : jsons.map(function (o) { return o === null || o === void 0 ? void 0 : o[property]; });\n        var valueType = classify(value);\n        if (valueType === 'object' || valueType === 'array') {\n            jsonWalk.apply(void 0, __spread([value, visit, opts], otherValues));\n        }\n    };\n    for (var property in json) {\n        _loop_4(property);\n    }\n}\n/**\n * Classify the type of a value to assist with handling for merge purposes.\n */\nfunction classify(value) {\n    if (value == null) {\n        return null;\n    }\n    else if (value instanceof HTMLElement) {\n        return 'primitive';\n    }\n    else if (value instanceof Array) {\n        return 'array';\n    }\n    else if (value instanceof Date) {\n        return 'primitive';\n    }\n    else if (typeof value === 'object' && value.constructor === Object) {\n        return 'object';\n    }\n    else if (typeof value === 'function') {\n        return 'function';\n    }\n    else if (typeof value === 'object' && value.constructor != null) {\n        return 'class-instance';\n    }\n    return 'primitive';\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar _a;\nimport { Series, SeriesNodeBaseClickEvent, } from '../series';\nimport { SeriesMarker } from '../seriesMarker';\nimport { isContinuous, isDiscrete } from '../../../util/value';\nimport { ContinuousScale } from '../../../scale/continuousScale';\nimport { Path } from '../../../scene/shape/path';\nimport { Selection } from '../../../scene/selection';\nimport { Group } from '../../../scene/group';\nimport { Text } from '../../../scene/shape/text';\nimport { RedrawType, SceneChangeDetection } from '../../../scene/changeDetectable';\nimport { CategoryAxis } from '../../axis/categoryAxis';\nimport { Layers } from '../../layers';\nimport { OPT_FUNCTION, Validate } from '../../../util/validation';\nimport { jsonDiff } from '../../../util/json';\nimport { ChartAxisDirection } from '../../chartAxisDirection';\nimport { getMarker } from '../../marker/util';\nimport { Logger } from '../../../util/logger';\nvar DEFAULT_DIRECTION_KEYS = (_a = {},\n    _a[ChartAxisDirection.X] = ['xKey'],\n    _a[ChartAxisDirection.Y] = ['yKey'],\n    _a);\nvar CartesianSeriesNodeBaseClickEvent = /** @class */ (function (_super) {\n    __extends(CartesianSeriesNodeBaseClickEvent, _super);\n    function CartesianSeriesNodeBaseClickEvent(xKey, yKey, nativeEvent, datum, series) {\n        var _this = _super.call(this, nativeEvent, datum, series) || this;\n        _this.xKey = xKey;\n        _this.yKey = yKey;\n        return _this;\n    }\n    return CartesianSeriesNodeBaseClickEvent;\n}(SeriesNodeBaseClickEvent));\nexport { CartesianSeriesNodeBaseClickEvent };\nvar CartesianSeriesNodeClickEvent = /** @class */ (function (_super) {\n    __extends(CartesianSeriesNodeClickEvent, _super);\n    function CartesianSeriesNodeClickEvent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'nodeClick';\n        return _this;\n    }\n    return CartesianSeriesNodeClickEvent;\n}(CartesianSeriesNodeBaseClickEvent));\nexport { CartesianSeriesNodeClickEvent };\nvar CartesianSeriesNodeDoubleClickEvent = /** @class */ (function (_super) {\n    __extends(CartesianSeriesNodeDoubleClickEvent, _super);\n    function CartesianSeriesNodeDoubleClickEvent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'nodeDoubleClick';\n        return _this;\n    }\n    return CartesianSeriesNodeDoubleClickEvent;\n}(CartesianSeriesNodeBaseClickEvent));\nexport { CartesianSeriesNodeDoubleClickEvent };\nvar CartesianSeries = /** @class */ (function (_super) {\n    __extends(CartesianSeries, _super);\n    function CartesianSeries(opts) {\n        if (opts === void 0) { opts = {}; }\n        var _a;\n        var _this = _super.call(this, {\n            useSeriesGroupLayer: true,\n            pickModes: opts.pickModes,\n            directionKeys: (_a = opts.directionKeys) !== null && _a !== void 0 ? _a : DEFAULT_DIRECTION_KEYS,\n        }) || this;\n        _this._contextNodeData = [];\n        _this.nodeDataDependencies = {};\n        _this.highlightSelection = Selection.select(_this.highlightNode, function () {\n            return _this.opts.hasMarkers ? _this.markerFactory() : _this.nodeFactory();\n        });\n        _this.highlightLabelSelection = Selection.select(_this.highlightLabel, Text);\n        _this.subGroups = [];\n        _this.subGroupId = 0;\n        /**\n         * The assumption is that the values will be reset (to `true`)\n         * in the {@link yKeys} setter.\n         */\n        _this.seriesItemEnabled = new Map();\n        var _b = opts.pathsPerSeries, pathsPerSeries = _b === void 0 ? 1 : _b, _c = opts.hasMarkers, hasMarkers = _c === void 0 ? false : _c, _d = opts.pathsZIndexSubOrderOffset, pathsZIndexSubOrderOffset = _d === void 0 ? [] : _d, _e = opts.renderLayerPerSubSeries, renderLayerPerSubSeries = _e === void 0 ? true : _e;\n        _this.opts = { pathsPerSeries: pathsPerSeries, hasMarkers: hasMarkers, pathsZIndexSubOrderOffset: pathsZIndexSubOrderOffset, renderLayerPerSubSeries: renderLayerPerSubSeries };\n        return _this;\n    }\n    Object.defineProperty(CartesianSeries.prototype, \"contextNodeData\", {\n        get: function () {\n            var _a;\n            return (_a = this._contextNodeData) === null || _a === void 0 ? void 0 : _a.slice();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CartesianSeries.prototype.destroy = function () {\n        _super.prototype.destroy.call(this);\n        this._contextNodeData.splice(0, this._contextNodeData.length);\n        this.subGroups.splice(0, this.subGroups.length);\n    };\n    /**\n     * Note: we are passing `isContinuousX` and `isContinuousY` into this method because it will\n     *       typically be called inside a loop and this check only needs to happen once.\n     * @param x A domain value to be plotted along the x-axis.\n     * @param y A domain value to be plotted along the y-axis.\n     * @param isContinuousX Typically this will be the value of `xAxis.scale instanceof ContinuousScale`.\n     * @param isContinuousY Typically this will be the value of `yAxis.scale instanceof ContinuousScale`.\n     * @returns `[x, y]`, if both x and y are valid domain values for their respective axes/scales, or `undefined`.\n     */\n    CartesianSeries.prototype.checkDomainXY = function (x, y, isContinuousX, isContinuousY) {\n        var isValidDatum = ((isContinuousX && isContinuous(x)) || (!isContinuousX && isDiscrete(x))) &&\n            ((isContinuousY && isContinuous(y)) || (!isContinuousY && isDiscrete(y)));\n        return isValidDatum ? [x, y] : undefined;\n    };\n    /**\n     * Note: we are passing the xAxis and yAxis because the calling code is supposed to make sure\n     *       that series has both of them defined, and also to avoid one level of indirection,\n     *       e.g. `this.xAxis!.inRange(x)`, both of which are suboptimal in tight loops where this method is used.\n     * @param x A range value to be plotted along the x-axis.\n     * @param y A range value to be plotted along the y-axis.\n     * @param xAxis The series' x-axis.\n     * @param yAxis The series' y-axis.\n     * @returns\n     */\n    CartesianSeries.prototype.checkRangeXY = function (x, y, xAxis, yAxis) {\n        return !isNaN(x) && !isNaN(y) && xAxis.inRange(x) && yAxis.inRange(y);\n    };\n    CartesianSeries.prototype.update = function (_a) {\n        var _b, _c;\n        var seriesRect = _a.seriesRect;\n        return __awaiter(this, void 0, void 0, function () {\n            var _d, seriesItemEnabled, visible, series, seriesHighlighted, anySeriesItemEnabled, newNodeDataDependencies;\n            return __generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        _d = this, seriesItemEnabled = _d.seriesItemEnabled, visible = _d.visible;\n                        series = ((_c = (_b = this.highlightManager) === null || _b === void 0 ? void 0 : _b.getActiveHighlight()) !== null && _c !== void 0 ? _c : {}).series;\n                        seriesHighlighted = series ? series === this : undefined;\n                        anySeriesItemEnabled = (visible && seriesItemEnabled.size === 0) || __spread(seriesItemEnabled.values()).some(function (v) { return v === true; });\n                        newNodeDataDependencies = {\n                            seriesRectWidth: seriesRect === null || seriesRect === void 0 ? void 0 : seriesRect.width,\n                            seriesRectHeight: seriesRect === null || seriesRect === void 0 ? void 0 : seriesRect.height,\n                        };\n                        if (jsonDiff(this.nodeDataDependencies, newNodeDataDependencies) != null) {\n                            this.nodeDataDependencies = newNodeDataDependencies;\n                            this.markNodeDataDirty();\n                        }\n                        return [4 /*yield*/, this.updateSelections(seriesHighlighted, anySeriesItemEnabled)];\n                    case 1:\n                        _e.sent();\n                        return [4 /*yield*/, this.updateNodes(seriesHighlighted, anySeriesItemEnabled)];\n                    case 2:\n                        _e.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CartesianSeries.prototype.updateSelections = function (seriesHighlighted, anySeriesItemEnabled) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.updateHighlightSelection(seriesHighlighted)];\n                    case 1:\n                        _b.sent();\n                        if (!anySeriesItemEnabled) {\n                            return [2 /*return*/];\n                        }\n                        if (!this.nodeDataRefresh && !this.isPathOrSelectionDirty()) {\n                            return [2 /*return*/];\n                        }\n                        if (!this.nodeDataRefresh) return [3 /*break*/, 4];\n                        this.nodeDataRefresh = false;\n                        _a = this;\n                        return [4 /*yield*/, this.createNodeData()];\n                    case 2:\n                        _a._contextNodeData = _b.sent();\n                        return [4 /*yield*/, this.updateSeriesGroups()];\n                    case 3:\n                        _b.sent();\n                        _b.label = 4;\n                    case 4: return [4 /*yield*/, Promise.all(this.subGroups.map(function (g, i) { return _this.updateSeriesGroupSelections(g, i, seriesHighlighted); }))];\n                    case 5:\n                        _b.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CartesianSeries.prototype.updateSeriesGroupSelections = function (subGroup, seriesIdx, seriesHighlighted) {\n        return __awaiter(this, void 0, void 0, function () {\n            var datumSelection, labelSelection, markerSelection, paths, contextData, nodeData, labelData, itemId, _a, _b, _c;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        datumSelection = subGroup.datumSelection, labelSelection = subGroup.labelSelection, markerSelection = subGroup.markerSelection, paths = subGroup.paths;\n                        contextData = this._contextNodeData[seriesIdx];\n                        nodeData = contextData.nodeData, labelData = contextData.labelData, itemId = contextData.itemId;\n                        return [4 /*yield*/, this.updatePaths({ seriesHighlighted: seriesHighlighted, itemId: itemId, contextData: contextData, paths: paths, seriesIdx: seriesIdx })];\n                    case 1:\n                        _d.sent();\n                        _a = subGroup;\n                        return [4 /*yield*/, this.updateDatumSelection({ nodeData: nodeData, datumSelection: datumSelection, seriesIdx: seriesIdx })];\n                    case 2:\n                        _a.datumSelection = _d.sent();\n                        _b = subGroup;\n                        return [4 /*yield*/, this.updateLabelSelection({ labelData: labelData, labelSelection: labelSelection, seriesIdx: seriesIdx })];\n                    case 3:\n                        _b.labelSelection = _d.sent();\n                        if (!markerSelection) return [3 /*break*/, 5];\n                        _c = subGroup;\n                        return [4 /*yield*/, this.updateMarkerSelection({\n                                nodeData: nodeData,\n                                markerSelection: markerSelection,\n                                seriesIdx: seriesIdx,\n                            })];\n                    case 4:\n                        _c.markerSelection = _d.sent();\n                        _d.label = 5;\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CartesianSeries.prototype.nodeFactory = function () {\n        return new Group();\n    };\n    CartesianSeries.prototype.markerFactory = function () {\n        var MarkerShape = getMarker();\n        return new MarkerShape();\n    };\n    CartesianSeries.prototype.updateSeriesGroups = function () {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var _b, contextNodeData, contentGroup, subGroups, _c, pathsPerSeries, hasMarkers, pathsZIndexSubOrderOffset, renderLayerPerSubSeries, totalGroups, layer, subGroupId, subGroupZOffset, dataNodeGroup, markerGroup, labelGroup, pathParentGroup, paths, index;\n            var _this = this;\n            return __generator(this, function (_d) {\n                _b = this, contextNodeData = _b._contextNodeData, contentGroup = _b.contentGroup, subGroups = _b.subGroups, _c = _b.opts, pathsPerSeries = _c.pathsPerSeries, hasMarkers = _c.hasMarkers, pathsZIndexSubOrderOffset = _c.pathsZIndexSubOrderOffset, renderLayerPerSubSeries = _c.renderLayerPerSubSeries;\n                if (contextNodeData.length === subGroups.length) {\n                    return [2 /*return*/];\n                }\n                if (contextNodeData.length < subGroups.length) {\n                    subGroups.splice(contextNodeData.length).forEach(function (_a) {\n                        var e_1, _b;\n                        var dataNodeGroup = _a.dataNodeGroup, markerGroup = _a.markerGroup, labelGroup = _a.labelGroup, paths = _a.paths;\n                        contentGroup.removeChild(dataNodeGroup);\n                        if (markerGroup) {\n                            contentGroup.removeChild(markerGroup);\n                        }\n                        if (labelGroup) {\n                            contentGroup.removeChild(labelGroup);\n                        }\n                        try {\n                            for (var paths_1 = __values(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()) {\n                                var path = paths_1_1.value;\n                                contentGroup.removeChild(path);\n                            }\n                        }\n                        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                        finally {\n                            try {\n                                if (paths_1_1 && !paths_1_1.done && (_b = paths_1.return)) _b.call(paths_1);\n                            }\n                            finally { if (e_1) throw e_1.error; }\n                        }\n                    });\n                }\n                totalGroups = contextNodeData.length;\n                while (totalGroups > subGroups.length) {\n                    layer = renderLayerPerSubSeries;\n                    subGroupId = this.subGroupId++;\n                    subGroupZOffset = subGroupId;\n                    dataNodeGroup = new Group({\n                        name: this.id + \"-series-sub\" + subGroupId + \"-dataNodes\",\n                        layer: layer,\n                        zIndex: Layers.SERIES_LAYER_ZINDEX,\n                        zIndexSubOrder: [function () { return _this._declarationOrder; }, subGroupZOffset],\n                    });\n                    markerGroup = hasMarkers\n                        ? new Group({\n                            name: this.id + \"-series-sub\" + this.subGroupId++ + \"-markers\",\n                            layer: layer,\n                            zIndex: Layers.SERIES_LAYER_ZINDEX,\n                            zIndexSubOrder: [function () { return _this._declarationOrder; }, 10000 + subGroupId],\n                        })\n                        : undefined;\n                    labelGroup = new Group({\n                        name: this.id + \"-series-sub\" + this.subGroupId++ + \"-labels\",\n                        layer: layer,\n                        zIndex: Layers.SERIES_LABEL_ZINDEX,\n                        zIndexSubOrder: [function () { return _this._declarationOrder; }, subGroupId],\n                    });\n                    contentGroup.appendChild(dataNodeGroup);\n                    contentGroup.appendChild(labelGroup);\n                    if (markerGroup) {\n                        contentGroup.appendChild(markerGroup);\n                    }\n                    pathParentGroup = renderLayerPerSubSeries ? dataNodeGroup : contentGroup;\n                    paths = [];\n                    for (index = 0; index < pathsPerSeries; index++) {\n                        paths[index] = new Path();\n                        paths[index].zIndex = Layers.SERIES_LAYER_ZINDEX;\n                        paths[index].zIndexSubOrder = [\n                            function () { return _this._declarationOrder; },\n                            ((_a = pathsZIndexSubOrderOffset[index]) !== null && _a !== void 0 ? _a : 0) + subGroupZOffset,\n                        ];\n                        pathParentGroup.appendChild(paths[index]);\n                    }\n                    subGroups.push({\n                        paths: paths,\n                        dataNodeGroup: dataNodeGroup,\n                        markerGroup: markerGroup,\n                        labelGroup: labelGroup,\n                        labelSelection: Selection.select(labelGroup, Text),\n                        datumSelection: Selection.select(dataNodeGroup, function () { return _this.nodeFactory(); }),\n                        markerSelection: markerGroup ? Selection.select(markerGroup, function () { return _this.markerFactory(); }) : undefined,\n                    });\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    CartesianSeries.prototype.updateNodes = function (seriesHighlighted, anySeriesItemEnabled) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var _b, highlightSelection, highlightLabelSelection, contextNodeData, seriesItemEnabled, _c, hasMarkers, renderLayerPerSubSeries, visible, seriesOpacity, subGroupOpacities, isSubGroupOpacityDifferent;\n            var _this = this;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        _b = this, highlightSelection = _b.highlightSelection, highlightLabelSelection = _b.highlightLabelSelection, contextNodeData = _b._contextNodeData, seriesItemEnabled = _b.seriesItemEnabled, _c = _b.opts, hasMarkers = _c.hasMarkers, renderLayerPerSubSeries = _c.renderLayerPerSubSeries;\n                        visible = this.visible && ((_a = this._contextNodeData) === null || _a === void 0 ? void 0 : _a.length) > 0 && anySeriesItemEnabled;\n                        this.rootGroup.visible = visible;\n                        this.contentGroup.visible = visible;\n                        this.highlightGroup.visible = visible && !!seriesHighlighted;\n                        seriesOpacity = this.getOpacity();\n                        subGroupOpacities = this.subGroups.map(function (_, index) {\n                            var itemId = contextNodeData[index].itemId;\n                            return _this.getOpacity({ itemId: itemId });\n                        });\n                        isSubGroupOpacityDifferent = subGroupOpacities.some(function (subOp) { return subOp !== seriesOpacity; });\n                        this.contentGroup.opacity = isSubGroupOpacityDifferent ? 1 : seriesOpacity;\n                        if (!hasMarkers) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.updateMarkerNodes({\n                                markerSelection: highlightSelection,\n                                isHighlight: true,\n                                seriesIdx: -1,\n                            })];\n                    case 1:\n                        _d.sent();\n                        return [3 /*break*/, 4];\n                    case 2: return [4 /*yield*/, this.updateDatumNodes({ datumSelection: highlightSelection, isHighlight: true, seriesIdx: -1 })];\n                    case 3:\n                        _d.sent();\n                        _d.label = 4;\n                    case 4: return [4 /*yield*/, this.updateLabelNodes({ labelSelection: highlightLabelSelection, seriesIdx: -1 })];\n                    case 5:\n                        _d.sent();\n                        return [4 /*yield*/, Promise.all(this.subGroups.map(function (subGroup, seriesIdx) { return __awaiter(_this, void 0, void 0, function () {\n                                var dataNodeGroup, markerGroup, datumSelection, labelSelection, markerSelection, paths, labelGroup, itemId, subGroupVisible, subGroupOpacity, paths_2, paths_2_1, path;\n                                var e_2, _a;\n                                var _b;\n                                return __generator(this, function (_c) {\n                                    switch (_c.label) {\n                                        case 0:\n                                            dataNodeGroup = subGroup.dataNodeGroup, markerGroup = subGroup.markerGroup, datumSelection = subGroup.datumSelection, labelSelection = subGroup.labelSelection, markerSelection = subGroup.markerSelection, paths = subGroup.paths, labelGroup = subGroup.labelGroup;\n                                            itemId = contextNodeData[seriesIdx].itemId;\n                                            subGroupVisible = visible && ((_b = seriesItemEnabled.get(itemId)) !== null && _b !== void 0 ? _b : true);\n                                            subGroupOpacity = isSubGroupOpacityDifferent ? subGroupOpacities[seriesIdx] : 1;\n                                            dataNodeGroup.opacity = subGroupOpacity;\n                                            dataNodeGroup.visible = subGroupVisible;\n                                            labelGroup.visible = subGroupVisible;\n                                            if (markerGroup) {\n                                                markerGroup.opacity = subGroupOpacity;\n                                                markerGroup.zIndex =\n                                                    dataNodeGroup.zIndex >= Layers.SERIES_LAYER_ZINDEX\n                                                        ? dataNodeGroup.zIndex\n                                                        : dataNodeGroup.zIndex + 1;\n                                                markerGroup.visible = subGroupVisible;\n                                            }\n                                            if (labelGroup) {\n                                                labelGroup.opacity = subGroupOpacity;\n                                            }\n                                            try {\n                                                for (paths_2 = __values(paths), paths_2_1 = paths_2.next(); !paths_2_1.done; paths_2_1 = paths_2.next()) {\n                                                    path = paths_2_1.value;\n                                                    if (!renderLayerPerSubSeries) {\n                                                        path.opacity = subGroupOpacity;\n                                                        path.visible = subGroupVisible;\n                                                    }\n                                                }\n                                            }\n                                            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                                            finally {\n                                                try {\n                                                    if (paths_2_1 && !paths_2_1.done && (_a = paths_2.return)) _a.call(paths_2);\n                                                }\n                                                finally { if (e_2) throw e_2.error; }\n                                            }\n                                            if (!dataNodeGroup.visible) {\n                                                return [2 /*return*/];\n                                            }\n                                            return [4 /*yield*/, this.updatePathNodes({ seriesHighlighted: seriesHighlighted, itemId: itemId, paths: paths, seriesIdx: seriesIdx })];\n                                        case 1:\n                                            _c.sent();\n                                            return [4 /*yield*/, this.updateDatumNodes({ datumSelection: datumSelection, isHighlight: false, seriesIdx: seriesIdx })];\n                                        case 2:\n                                            _c.sent();\n                                            return [4 /*yield*/, this.updateLabelNodes({ labelSelection: labelSelection, seriesIdx: seriesIdx })];\n                                        case 3:\n                                            _c.sent();\n                                            if (!(hasMarkers && markerSelection)) return [3 /*break*/, 5];\n                                            return [4 /*yield*/, this.updateMarkerNodes({ markerSelection: markerSelection, isHighlight: false, seriesIdx: seriesIdx })];\n                                        case 4:\n                                            _c.sent();\n                                            _c.label = 5;\n                                        case 5: return [2 /*return*/];\n                                    }\n                                });\n                            }); }))];\n                    case 6:\n                        _d.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CartesianSeries.prototype.updateHighlightSelection = function (seriesHighlighted) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var _b, highlightSelection, highlightLabelSelection, contextNodeData, highlightedDatum, item, _c, labelItem, _d, itemId_1, contextNodeData_1, contextNodeData_1_1, labelData, _e;\n            var e_3, _f;\n            return __generator(this, function (_g) {\n                switch (_g.label) {\n                    case 0:\n                        _b = this, highlightSelection = _b.highlightSelection, highlightLabelSelection = _b.highlightLabelSelection, contextNodeData = _b._contextNodeData;\n                        highlightedDatum = (_a = this.highlightManager) === null || _a === void 0 ? void 0 : _a.getActiveHighlight();\n                        item = seriesHighlighted && (highlightedDatum === null || highlightedDatum === void 0 ? void 0 : highlightedDatum.datum) ? highlightedDatum : undefined;\n                        _c = this;\n                        return [4 /*yield*/, this.updateHighlightSelectionItem({ item: item, highlightSelection: highlightSelection })];\n                    case 1:\n                        _c.highlightSelection = _g.sent();\n                        if (this.isLabelEnabled() && item != null) {\n                            _d = item.itemId, itemId_1 = _d === void 0 ? undefined : _d;\n                            try {\n                                for (contextNodeData_1 = __values(contextNodeData), contextNodeData_1_1 = contextNodeData_1.next(); !contextNodeData_1_1.done; contextNodeData_1_1 = contextNodeData_1.next()) {\n                                    labelData = contextNodeData_1_1.value.labelData;\n                                    labelItem = labelData.find(function (ld) { return ld.datum === item.datum && ld.itemId === itemId_1; });\n                                    if (labelItem != null) {\n                                        break;\n                                    }\n                                }\n                            }\n                            catch (e_3_1) { e_3 = { error: e_3_1 }; }\n                            finally {\n                                try {\n                                    if (contextNodeData_1_1 && !contextNodeData_1_1.done && (_f = contextNodeData_1.return)) _f.call(contextNodeData_1);\n                                }\n                                finally { if (e_3) throw e_3.error; }\n                            }\n                        }\n                        _e = this;\n                        return [4 /*yield*/, this.updateHighlightSelectionLabel({\n                                item: labelItem,\n                                highlightLabelSelection: highlightLabelSelection,\n                            })];\n                    case 2:\n                        _e.highlightLabelSelection = _g.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CartesianSeries.prototype.pickNodeExactShape = function (point) {\n        var e_4, _a;\n        var result = _super.prototype.pickNodeExactShape.call(this, point);\n        if (result) {\n            return result;\n        }\n        var x = point.x, y = point.y;\n        var hasMarkers = this.opts.hasMarkers;\n        try {\n            for (var _b = __values(this.subGroups), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = _c.value, dataNodeGroup = _d.dataNodeGroup, markerGroup = _d.markerGroup;\n                var match = dataNodeGroup.pickNode(x, y);\n                if (!match && hasMarkers) {\n                    match = markerGroup === null || markerGroup === void 0 ? void 0 : markerGroup.pickNode(x, y);\n                }\n                if (match) {\n                    return { datum: match.datum, distance: 0 };\n                }\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n    };\n    CartesianSeries.prototype.pickNodeClosestDatum = function (point) {\n        var e_5, _a, e_6, _b;\n        var _c, _d;\n        var x = point.x, y = point.y;\n        var _e = this, xAxis = _e.xAxis, yAxis = _e.yAxis, rootGroup = _e.rootGroup, contextNodeData = _e._contextNodeData;\n        var hitPoint = rootGroup.transformPoint(x, y);\n        var minDistance = Infinity;\n        var closestDatum;\n        try {\n            for (var contextNodeData_2 = __values(contextNodeData), contextNodeData_2_1 = contextNodeData_2.next(); !contextNodeData_2_1.done; contextNodeData_2_1 = contextNodeData_2.next()) {\n                var context = contextNodeData_2_1.value;\n                try {\n                    for (var _f = (e_6 = void 0, __values(context.nodeData)), _g = _f.next(); !_g.done; _g = _f.next()) {\n                        var datum = _g.value;\n                        var _h = datum.point, _j = _h === void 0 ? {} : _h, _k = _j.x, datumX = _k === void 0 ? NaN : _k, _l = _j.y, datumY = _l === void 0 ? NaN : _l;\n                        if (isNaN(datumX) || isNaN(datumY)) {\n                            continue;\n                        }\n                        var isInRange = (xAxis === null || xAxis === void 0 ? void 0 : xAxis.inRange(datumX)) && (yAxis === null || yAxis === void 0 ? void 0 : yAxis.inRange(datumY));\n                        if (!isInRange) {\n                            continue;\n                        }\n                        // No need to use Math.sqrt() since x < y implies Math.sqrt(x) < Math.sqrt(y) for\n                        // values > 1\n                        var distance = Math.max(Math.pow((hitPoint.x - datumX), 2) + Math.pow((hitPoint.y - datumY), 2), 0);\n                        if (distance < minDistance) {\n                            minDistance = distance;\n                            closestDatum = datum;\n                        }\n                    }\n                }\n                catch (e_6_1) { e_6 = { error: e_6_1 }; }\n                finally {\n                    try {\n                        if (_g && !_g.done && (_b = _f.return)) _b.call(_f);\n                    }\n                    finally { if (e_6) throw e_6.error; }\n                }\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (contextNodeData_2_1 && !contextNodeData_2_1.done && (_a = contextNodeData_2.return)) _a.call(contextNodeData_2);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n        if (closestDatum) {\n            var distance = Math.max(Math.sqrt(minDistance) - ((_d = (_c = closestDatum.point) === null || _c === void 0 ? void 0 : _c.size) !== null && _d !== void 0 ? _d : 0), 0);\n            return { datum: closestDatum, distance: distance };\n        }\n    };\n    CartesianSeries.prototype.pickNodeMainAxisFirst = function (point, requireCategoryAxis) {\n        var e_7, _a, e_8, _b;\n        var _c, _d;\n        var x = point.x, y = point.y;\n        var _e = this, xAxis = _e.xAxis, yAxis = _e.yAxis, rootGroup = _e.rootGroup, contextNodeData = _e._contextNodeData;\n        // Prefer to start search with any available category axis.\n        var directions = [xAxis, yAxis]\n            .filter(function (a) { return a instanceof CategoryAxis; })\n            .map(function (a) { return a.direction; });\n        if (requireCategoryAxis && directions.length === 0) {\n            return;\n        }\n        // Default to X-axis unless we found a suitable category axis.\n        var _f = __read(directions, 1), _g = _f[0], primaryDirection = _g === void 0 ? ChartAxisDirection.X : _g;\n        var hitPoint = rootGroup.transformPoint(x, y);\n        var hitPointCoords = primaryDirection === ChartAxisDirection.X ? [hitPoint.x, hitPoint.y] : [hitPoint.y, hitPoint.x];\n        var minDistance = [Infinity, Infinity];\n        var closestDatum = undefined;\n        try {\n            for (var contextNodeData_3 = __values(contextNodeData), contextNodeData_3_1 = contextNodeData_3.next(); !contextNodeData_3_1.done; contextNodeData_3_1 = contextNodeData_3.next()) {\n                var context = contextNodeData_3_1.value;\n                try {\n                    for (var _h = (e_8 = void 0, __values(context.nodeData)), _j = _h.next(); !_j.done; _j = _h.next()) {\n                        var datum = _j.value;\n                        var _k = datum.point, _l = _k === void 0 ? {} : _k, _m = _l.x, datumX = _m === void 0 ? NaN : _m, _o = _l.y, datumY = _o === void 0 ? NaN : _o;\n                        if (isNaN(datumX) || isNaN(datumY)) {\n                            continue;\n                        }\n                        var isInRange = (xAxis === null || xAxis === void 0 ? void 0 : xAxis.inRange(datumX)) && (yAxis === null || yAxis === void 0 ? void 0 : yAxis.inRange(datumY));\n                        if (!isInRange) {\n                            continue;\n                        }\n                        var point_1 = primaryDirection === ChartAxisDirection.X ? [datumX, datumY] : [datumY, datumX];\n                        // Compare distances from most significant dimension to least.\n                        var newMinDistance = true;\n                        for (var i = 0; i < point_1.length; i++) {\n                            var dist = Math.abs(point_1[i] - hitPointCoords[i]);\n                            if (dist > minDistance[i]) {\n                                newMinDistance = false;\n                                break;\n                            }\n                            if (dist < minDistance[i]) {\n                                minDistance[i] = dist;\n                                minDistance.fill(Infinity, i + 1, minDistance.length);\n                            }\n                        }\n                        if (newMinDistance) {\n                            closestDatum = datum;\n                        }\n                    }\n                }\n                catch (e_8_1) { e_8 = { error: e_8_1 }; }\n                finally {\n                    try {\n                        if (_j && !_j.done && (_b = _h.return)) _b.call(_h);\n                    }\n                    finally { if (e_8) throw e_8.error; }\n                }\n            }\n        }\n        catch (e_7_1) { e_7 = { error: e_7_1 }; }\n        finally {\n            try {\n                if (contextNodeData_3_1 && !contextNodeData_3_1.done && (_a = contextNodeData_3.return)) _a.call(contextNodeData_3);\n            }\n            finally { if (e_7) throw e_7.error; }\n        }\n        if (closestDatum) {\n            var distance = Math.max(Math.sqrt(Math.pow(minDistance[0], 2) + Math.pow(minDistance[1], 2)) - ((_d = (_c = closestDatum.point) === null || _c === void 0 ? void 0 : _c.size) !== null && _d !== void 0 ? _d : 0), 0);\n            return { datum: closestDatum, distance: distance };\n        }\n    };\n    CartesianSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        if (this.seriesItemEnabled.size > 0) {\n            this.seriesItemEnabled.set(itemId, enabled);\n            this.nodeDataRefresh = true;\n        }\n        else {\n            _super.prototype.toggleSeriesItem.call(this, itemId, enabled);\n        }\n    };\n    CartesianSeries.prototype.isEnabled = function () {\n        var e_9, _a;\n        if (this.seriesItemEnabled.size > 0) {\n            try {\n                for (var _b = __values(this.seriesItemEnabled), _c = _b.next(); !_c.done; _c = _b.next()) {\n                    var _d = __read(_c.value, 2), enabled = _d[1];\n                    if (enabled) {\n                        return true;\n                    }\n                }\n            }\n            catch (e_9_1) { e_9 = { error: e_9_1 }; }\n            finally {\n                try {\n                    if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                }\n                finally { if (e_9) throw e_9.error; }\n            }\n            return false;\n        }\n        return _super.prototype.isEnabled.call(this);\n    };\n    CartesianSeries.prototype.isPathOrSelectionDirty = function () {\n        // Override point to allow more sophisticated dirty selection detection.\n        return false;\n    };\n    CartesianSeries.prototype.getLabelData = function () {\n        return [];\n    };\n    CartesianSeries.prototype.isAnySeriesVisible = function () {\n        var e_10, _a;\n        try {\n            for (var _b = __values(this.seriesItemEnabled.values()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var visible = _c.value;\n                if (visible) {\n                    return true;\n                }\n            }\n        }\n        catch (e_10_1) { e_10 = { error: e_10_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_10) throw e_10.error; }\n        }\n        return false;\n    };\n    CartesianSeries.prototype.validateXYData = function (xKey, yKey, data, xAxis, yAxis, xData, yData, yDepth) {\n        var _a;\n        if (yDepth === void 0) { yDepth = 1; }\n        if (((_a = this.chart) === null || _a === void 0 ? void 0 : _a.mode) === 'integrated') {\n            // Integrated Charts use-cases do not require this validation.\n            return true;\n        }\n        if (!xAxis || !yAxis || data.length === 0 || (this.seriesItemEnabled.size > 0 && !this.isAnySeriesVisible())) {\n            return true;\n        }\n        var hasNumber = function (items, depth, maxDepth) {\n            if (depth === void 0) { depth = 0; }\n            if (maxDepth === void 0) { maxDepth = 0; }\n            return items.some(depth === maxDepth ? function (y) { return isContinuous(y); } : function (arr) { return hasNumber(arr, depth + 1, maxDepth); });\n        };\n        var isContinuousX = xAxis.scale instanceof ContinuousScale;\n        var isContinuousY = yAxis.scale instanceof ContinuousScale;\n        var validationResult = true;\n        if (isContinuousX && !hasNumber(xData)) {\n            Logger.warnOnce(\"the number axis has no numeric data supplied for xKey: [\" + xKey + \"].\");\n            validationResult = false;\n        }\n        if (isContinuousY && !hasNumber(yData, 0, yDepth - 1)) {\n            Logger.warnOnce(\"the number axis has no numeric data supplied for yKey: [\" + yKey + \"].\");\n            validationResult = false;\n        }\n        return validationResult;\n    };\n    CartesianSeries.prototype.updatePaths = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                // Override point for sub-classes.\n                opts.paths.forEach(function (p) { return (p.visible = false); });\n                return [2 /*return*/];\n            });\n        });\n    };\n    CartesianSeries.prototype.updatePathNodes = function (_opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/];\n            });\n        });\n    };\n    CartesianSeries.prototype.updateHighlightSelectionItem = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var hasMarkers, item, highlightSelection, nodeData, markerSelection;\n            return __generator(this, function (_a) {\n                hasMarkers = this.opts.hasMarkers;\n                item = opts.item, highlightSelection = opts.highlightSelection;\n                nodeData = item ? [item] : [];\n                if (hasMarkers) {\n                    markerSelection = highlightSelection;\n                    return [2 /*return*/, this.updateMarkerSelection({ nodeData: nodeData, markerSelection: markerSelection, seriesIdx: -1 })];\n                }\n                else {\n                    return [2 /*return*/, this.updateDatumSelection({ nodeData: nodeData, datumSelection: highlightSelection, seriesIdx: -1 })];\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    CartesianSeries.prototype.updateHighlightSelectionLabel = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var item, highlightLabelSelection, labelData;\n            return __generator(this, function (_a) {\n                item = opts.item, highlightLabelSelection = opts.highlightLabelSelection;\n                labelData = item ? [item] : [];\n                return [2 /*return*/, this.updateLabelSelection({ labelData: labelData, labelSelection: highlightLabelSelection, seriesIdx: -1 })];\n            });\n        });\n    };\n    CartesianSeries.prototype.updateDatumSelection = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                // Override point for sub-classes.\n                return [2 /*return*/, opts.datumSelection];\n            });\n        });\n    };\n    CartesianSeries.prototype.updateDatumNodes = function (_opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/];\n            });\n        });\n    };\n    CartesianSeries.prototype.updateMarkerSelection = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                // Override point for sub-classes.\n                return [2 /*return*/, opts.markerSelection];\n            });\n        });\n    };\n    CartesianSeries.prototype.updateMarkerNodes = function (_opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/];\n            });\n        });\n    };\n    return CartesianSeries;\n}(Series));\nexport { CartesianSeries };\nvar CartesianSeriesMarker = /** @class */ (function (_super) {\n    __extends(CartesianSeriesMarker, _super);\n    function CartesianSeriesMarker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.formatter = undefined;\n        return _this;\n    }\n    __decorate([\n        Validate(OPT_FUNCTION),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], CartesianSeriesMarker.prototype, \"formatter\", void 0);\n    return CartesianSeriesMarker;\n}(SeriesMarker));\nexport { CartesianSeriesMarker };\n", "export function sleep(sleepTimeoutMs) {\n    return new Promise(function (resolve) {\n        setTimeout(function () { return resolve(undefined); }, sleepTimeoutMs);\n    });\n}\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { OPT_FUNCTION, OPT_STRING, Validate } from '../../util/validation';\nvar Overlay = /** @class */ (function () {\n    function Overlay(className, parent) {\n        this.renderer = undefined;\n        this.text = undefined;\n        this.className = className;\n        this.parentElement = parent;\n    }\n    Overlay.prototype.show = function (rect) {\n        var _a, _b;\n        var element = this.element;\n        if (!this.element) {\n            element = document.createElement('div');\n            element.className = this.className;\n            this.element = element;\n        }\n        element.style.position = 'absolute';\n        element.style.left = rect.x + \"px\";\n        element.style.top = rect.y + \"px\";\n        element.style.width = rect.width + \"px\";\n        element.style.height = rect.height + \"px\";\n        if (this.renderer) {\n            this.element.innerHTML = this.renderer();\n        }\n        else {\n            var content = document.createElement('div');\n            content.style.alignItems = 'center';\n            content.style.boxSizing = 'border-box';\n            content.style.display = 'flex';\n            content.style.justifyContent = 'center';\n            content.style.margin = '8px';\n            content.style.height = '100%';\n            content.style.font = '12px Verdana, sans-serif';\n            content.innerText = (_a = this.text) !== null && _a !== void 0 ? _a : 'No data to display';\n            element.append(content);\n        }\n        (_b = this.parentElement) === null || _b === void 0 ? void 0 : _b.append(element);\n    };\n    Overlay.prototype.hide = function () {\n        var _a;\n        (_a = this.element) === null || _a === void 0 ? void 0 : _a.remove();\n        this.element = undefined;\n    };\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], Overlay.prototype, \"renderer\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], Overlay.prototype, \"text\", void 0);\n    return Overlay;\n}());\nexport { Overlay };\n", "import { Overlay } from './overlay';\nvar ChartOverlays = /** @class */ (function () {\n    function ChartOverlays(parent) {\n        this.noData = new Overlay('ag-chart-no-data-overlay', parent);\n    }\n    return ChartOverlays;\n}());\nexport { ChartOverlays };\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar Listeners = /** @class */ (function () {\n    function Listeners() {\n        this.registeredListeners = {};\n    }\n    Listeners.prototype.addListener = function (type, cb) {\n        var _a;\n        var symbol = Symbol(type);\n        if (!this.registeredListeners[type]) {\n            this.registeredListeners[type] = [];\n        }\n        (_a = this.registeredListeners[type]) === null || _a === void 0 ? void 0 : _a.push({ symbol: symbol, handler: cb });\n        return symbol;\n    };\n    Listeners.prototype.dispatch = function (type) {\n        var _a;\n        var params = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            params[_i - 1] = arguments[_i];\n        }\n        var listeners = (_a = this.registeredListeners[type]) !== null && _a !== void 0 ? _a : [];\n        return listeners.map(function (l) { return l.handler.apply(l, __spread(params)); });\n    };\n    Listeners.prototype.cancellableDispatch = function (type, cancelled) {\n        var e_1, _a;\n        var _b;\n        var params = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            params[_i - 2] = arguments[_i];\n        }\n        var listeners = (_b = this.registeredListeners[type]) !== null && _b !== void 0 ? _b : [];\n        var results = [];\n        try {\n            for (var listeners_1 = __values(listeners), listeners_1_1 = listeners_1.next(); !listeners_1_1.done; listeners_1_1 = listeners_1.next()) {\n                var listener = listeners_1_1.value;\n                if (cancelled())\n                    break;\n                results.push(listener.handler.apply(listener, __spread(params)));\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (listeners_1_1 && !listeners_1_1.done && (_a = listeners_1.return)) _a.call(listeners_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return results;\n    };\n    Listeners.prototype.reduceDispatch = function (type, reduceFn) {\n        var e_2, _a;\n        var _b;\n        var params = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            params[_i - 2] = arguments[_i];\n        }\n        var listeners = (_b = this.registeredListeners[type]) !== null && _b !== void 0 ? _b : [];\n        var listenerResult = undefined;\n        try {\n            for (var listeners_2 = __values(listeners), listeners_2_1 = listeners_2.next(); !listeners_2_1.done; listeners_2_1 = listeners_2.next()) {\n                var listener = listeners_2_1.value;\n                listenerResult = listener.handler.apply(listener, __spread(params));\n                params = reduceFn.apply(void 0, __spread([listenerResult], params));\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (listeners_2_1 && !listeners_2_1.done && (_a = listeners_2.return)) _a.call(listeners_2);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return listenerResult;\n    };\n    Listeners.prototype.removeListener = function (listenerSymbol) {\n        for (var type in this.registeredListeners) {\n            var listeners = this.registeredListeners[type];\n            var match = listeners === null || listeners === void 0 ? void 0 : listeners.findIndex(function (entry) { return entry.symbol === listenerSymbol; });\n            if (match != null && match >= 0) {\n                listeners === null || listeners === void 0 ? void 0 : listeners.splice(match, 1);\n            }\n            if (match != null && (listeners === null || listeners === void 0 ? void 0 : listeners.length) === 0) {\n                delete this.registeredListeners[type];\n            }\n        }\n    };\n    return Listeners;\n}());\nexport { Listeners };\n", "import { Listeners } from '../../util/listeners';\nvar BaseManager = /** @class */ (function () {\n    function BaseManager() {\n        this.listeners = new Listeners();\n    }\n    BaseManager.prototype.addListener = function (type, cb) {\n        return this.listeners.addListener(type, cb);\n    };\n    BaseManager.prototype.removeListener = function (listenerSymbol) {\n        this.listeners.removeListener(listenerSymbol);\n    };\n    return BaseManager;\n}());\nexport { BaseManager };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { isNumber } from '../../util/value';\nimport { BaseManager } from './baseManager';\nvar WINDOW_EVENT_HANDLERS = ['pagehide', 'mousemove', 'mouseup', 'wheel'];\nvar EVENT_HANDLERS = [\n    'click',\n    'dblclick',\n    'contextmenu',\n    'mousedown',\n    'mouseout',\n    'mouseenter',\n    'touchstart',\n    'touchmove',\n    'touchend',\n    'touchcancel',\n];\nvar CSS = \"\\n.ag-chart-wrapper {\\n    touch-action: none;\\n}\\n\";\n/**\n * Manages user interactions with a specific HTMLElement (or interactions that bubble from it's\n * children)\n */\nvar InteractionManager = /** @class */ (function (_super) {\n    __extends(InteractionManager, _super);\n    function InteractionManager(element, doc) {\n        var e_1, _a, e_2, _b;\n        if (doc === void 0) { doc = document; }\n        var _this = _super.call(this) || this;\n        _this.eventHandler = function (event) { return _this.processEvent(event); };\n        _this.mouseDown = false;\n        _this.touchDown = false;\n        _this.rootElement = doc.body;\n        _this.element = element;\n        try {\n            for (var EVENT_HANDLERS_1 = __values(EVENT_HANDLERS), EVENT_HANDLERS_1_1 = EVENT_HANDLERS_1.next(); !EVENT_HANDLERS_1_1.done; EVENT_HANDLERS_1_1 = EVENT_HANDLERS_1.next()) {\n                var type = EVENT_HANDLERS_1_1.value;\n                if (type.startsWith('touch')) {\n                    element.addEventListener(type, _this.eventHandler, { passive: true });\n                }\n                else {\n                    element.addEventListener(type, _this.eventHandler);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (EVENT_HANDLERS_1_1 && !EVENT_HANDLERS_1_1.done && (_a = EVENT_HANDLERS_1.return)) _a.call(EVENT_HANDLERS_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        try {\n            for (var WINDOW_EVENT_HANDLERS_1 = __values(WINDOW_EVENT_HANDLERS), WINDOW_EVENT_HANDLERS_1_1 = WINDOW_EVENT_HANDLERS_1.next(); !WINDOW_EVENT_HANDLERS_1_1.done; WINDOW_EVENT_HANDLERS_1_1 = WINDOW_EVENT_HANDLERS_1.next()) {\n                var type = WINDOW_EVENT_HANDLERS_1_1.value;\n                window.addEventListener(type, _this.eventHandler);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (WINDOW_EVENT_HANDLERS_1_1 && !WINDOW_EVENT_HANDLERS_1_1.done && (_b = WINDOW_EVENT_HANDLERS_1.return)) _b.call(WINDOW_EVENT_HANDLERS_1);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        if (InteractionManager.interactionDocuments.indexOf(doc) < 0) {\n            var styleElement = document.createElement('style');\n            styleElement.innerHTML = CSS;\n            document.head.insertBefore(styleElement, document.head.querySelector('style'));\n            InteractionManager.interactionDocuments.push(doc);\n        }\n        return _this;\n    }\n    InteractionManager.prototype.destroy = function () {\n        var e_3, _a, e_4, _b;\n        try {\n            for (var WINDOW_EVENT_HANDLERS_2 = __values(WINDOW_EVENT_HANDLERS), WINDOW_EVENT_HANDLERS_2_1 = WINDOW_EVENT_HANDLERS_2.next(); !WINDOW_EVENT_HANDLERS_2_1.done; WINDOW_EVENT_HANDLERS_2_1 = WINDOW_EVENT_HANDLERS_2.next()) {\n                var type = WINDOW_EVENT_HANDLERS_2_1.value;\n                window.removeEventListener(type, this.eventHandler);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (WINDOW_EVENT_HANDLERS_2_1 && !WINDOW_EVENT_HANDLERS_2_1.done && (_a = WINDOW_EVENT_HANDLERS_2.return)) _a.call(WINDOW_EVENT_HANDLERS_2);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        try {\n            for (var EVENT_HANDLERS_2 = __values(EVENT_HANDLERS), EVENT_HANDLERS_2_1 = EVENT_HANDLERS_2.next(); !EVENT_HANDLERS_2_1.done; EVENT_HANDLERS_2_1 = EVENT_HANDLERS_2.next()) {\n                var type = EVENT_HANDLERS_2_1.value;\n                this.element.removeEventListener(type, this.eventHandler);\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (EVENT_HANDLERS_2_1 && !EVENT_HANDLERS_2_1.done && (_b = EVENT_HANDLERS_2.return)) _b.call(EVENT_HANDLERS_2);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n    };\n    InteractionManager.prototype.processEvent = function (event) {\n        var types = this.decideInteractionEventTypes(event);\n        if (types.length > 0) {\n            // Async dispatch to avoid blocking the event-processing thread.\n            this.dispatchEvent(event, types);\n        }\n    };\n    InteractionManager.prototype.dispatchEvent = function (event, types) {\n        return __awaiter(this, void 0, void 0, function () {\n            var coords, _loop_1, this_1, types_1, types_1_1, type;\n            var e_5, _a;\n            return __generator(this, function (_b) {\n                coords = this.calculateCoordinates(event);\n                if (coords == null) {\n                    return [2 /*return*/];\n                }\n                _loop_1 = function (type) {\n                    var interactionEvent = this_1.buildEvent(__assign(__assign({ event: event }, coords), { type: type }));\n                    this_1.listeners.cancellableDispatch(type, function () { return interactionEvent.consumed; }, interactionEvent);\n                };\n                this_1 = this;\n                try {\n                    for (types_1 = __values(types), types_1_1 = types_1.next(); !types_1_1.done; types_1_1 = types_1.next()) {\n                        type = types_1_1.value;\n                        _loop_1(type);\n                    }\n                }\n                catch (e_5_1) { e_5 = { error: e_5_1 }; }\n                finally {\n                    try {\n                        if (types_1_1 && !types_1_1.done && (_a = types_1.return)) _a.call(types_1);\n                    }\n                    finally { if (e_5) throw e_5.error; }\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    InteractionManager.prototype.decideInteractionEventTypes = function (event) {\n        switch (event.type) {\n            case 'click':\n                return ['click'];\n            case 'dblclick':\n                return ['dblclick'];\n            case 'contextmenu':\n                return ['contextmenu'];\n            case 'mousedown':\n                this.mouseDown = true;\n                this.dragStartElement = event.target;\n                return ['drag-start'];\n            case 'touchstart':\n                this.touchDown = true;\n                this.dragStartElement = event.target;\n                return ['drag-start'];\n            case 'touchmove':\n            case 'mousemove':\n                if (!this.mouseDown && !this.touchDown && !this.isEventOverElement(event)) {\n                    // We only care about these events if the target is the canvas, unless\n                    // we're in the middle of a drag/slide.\n                    return [];\n                }\n                return this.mouseDown || this.touchDown ? ['drag'] : ['hover'];\n            case 'mouseup':\n                if (!this.mouseDown && !this.isEventOverElement(event)) {\n                    // We only care about these events if the target is the canvas, unless\n                    // we're in the middle of a drag.\n                    return [];\n                }\n                this.mouseDown = false;\n                this.dragStartElement = undefined;\n                return ['drag-end'];\n            case 'touchend':\n                if (!this.touchDown && !this.isEventOverElement(event)) {\n                    // We only care about these events if the target is the canvas, unless\n                    // we're in the middle of a slide.\n                    return [];\n                }\n                this.touchDown = false;\n                this.dragStartElement = undefined;\n                return ['drag-end'];\n            case 'mouseout':\n            case 'touchcancel':\n                return ['leave'];\n            case 'mouseenter':\n                var mouseButtonDown = event instanceof MouseEvent && (event.buttons & 1) === 1;\n                if (this.mouseDown !== mouseButtonDown) {\n                    this.mouseDown = mouseButtonDown;\n                    return [mouseButtonDown ? 'drag-start' : 'drag-end'];\n                }\n                return [];\n            case 'pagehide':\n                return ['page-left'];\n            case 'wheel':\n                return ['wheel'];\n        }\n        return [];\n    };\n    InteractionManager.prototype.isEventOverElement = function (event) {\n        var _a;\n        return event.target === this.element || ((_a = event.target) === null || _a === void 0 ? void 0 : _a.parentElement) === this.element;\n    };\n    InteractionManager.prototype.calculateCoordinates = function (event) {\n        var _a;\n        if (event instanceof MouseEvent) {\n            var clientX = event.clientX, clientY = event.clientY, pageX = event.pageX, pageY = event.pageY, offsetX = event.offsetX, offsetY = event.offsetY;\n            return this.fixOffsets(event, { clientX: clientX, clientY: clientY, pageX: pageX, pageY: pageY, offsetX: offsetX, offsetY: offsetY });\n        }\n        else if (typeof TouchEvent !== 'undefined' && event instanceof TouchEvent) {\n            var lastTouch = (_a = event.touches[0]) !== null && _a !== void 0 ? _a : event.changedTouches[0];\n            var clientX = lastTouch.clientX, clientY = lastTouch.clientY, pageX = lastTouch.pageX, pageY = lastTouch.pageY;\n            return __assign(__assign({}, InteractionManager.NULL_COORDS), { clientX: clientX, clientY: clientY, pageX: pageX, pageY: pageY });\n        }\n        else if (event instanceof PageTransitionEvent) {\n            if (event.persisted) {\n                // Don't fire the page-left event since the page maybe revisited.\n                return;\n            }\n            return InteractionManager.NULL_COORDS;\n        }\n        // Unsupported event - abort.\n    };\n    InteractionManager.prototype.fixOffsets = function (event, coords) {\n        var offsets = function (el) {\n            var x = 0;\n            var y = 0;\n            while (el) {\n                x += el.offsetLeft;\n                y += el.offsetTop;\n                el = el.offsetParent;\n            }\n            return { x: x, y: y };\n        };\n        if (this.dragStartElement != null && event.target !== this.dragStartElement) {\n            // Offsets need to be relative to the drag-start element to avoid jumps when\n            // the pointer moves between element boundaries.\n            var offsetDragStart = offsets(this.dragStartElement);\n            var offsetEvent = offsets(event.target);\n            coords.offsetX -= offsetDragStart.x - offsetEvent.x;\n            coords.offsetY -= offsetDragStart.y - offsetEvent.y;\n        }\n        return coords;\n    };\n    InteractionManager.prototype.buildEvent = function (opts) {\n        var type = opts.type, event = opts.event, clientX = opts.clientX, clientY = opts.clientY;\n        var offsetX = opts.offsetX, offsetY = opts.offsetY, pageX = opts.pageX, pageY = opts.pageY;\n        if (!isNumber(offsetX) || !isNumber(offsetY)) {\n            var rect = this.element.getBoundingClientRect();\n            offsetX = clientX - rect.left;\n            offsetY = clientY - rect.top;\n        }\n        if (!isNumber(pageX) || !isNumber(pageY)) {\n            var pageRect = this.rootElement.getBoundingClientRect();\n            pageX = clientX - pageRect.left;\n            pageY = clientY - pageRect.top;\n        }\n        var builtEvent = {\n            type: type,\n            offsetX: offsetX,\n            offsetY: offsetY,\n            pageX: pageX,\n            pageY: pageY,\n            sourceEvent: event,\n            consumed: false,\n            consume: function () { return (builtEvent.consumed = true); },\n        };\n        return builtEvent;\n    };\n    InteractionManager.interactionDocuments = [];\n    InteractionManager.NULL_COORDS = {\n        clientX: -Infinity,\n        clientY: -Infinity,\n        pageX: -Infinity,\n        pageY: -Infinity,\n        offsetX: -Infinity,\n        offsetY: -Infinity,\n    };\n    return InteractionManager;\n}(BaseManager));\nexport { InteractionManager };\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\n/**\n * Manages the cursor styling for an element. Tracks the requested styling from distinct\n * dependents and handles conflicting styling requests.\n */\nvar CursorManager = /** @class */ (function () {\n    function CursorManager(element) {\n        this.states = {};\n        this.element = element;\n    }\n    CursorManager.prototype.updateCursor = function (callerId, style) {\n        delete this.states[callerId];\n        if (style != null) {\n            this.states[callerId] = { style: style };\n        }\n        this.applyStates();\n    };\n    CursorManager.prototype.applyStates = function () {\n        var styleToApply = 'default';\n        // Last added entry wins.\n        Object.entries(this.states)\n            .reverse()\n            .slice(0, 1)\n            .forEach(function (_a) {\n            var _b = __read(_a, 2), _ = _b[0], style = _b[1].style;\n            return (styleToApply = style);\n        });\n        this.element.style.cursor = styleToApply;\n    };\n    return CursorManager;\n}());\nexport { CursorManager };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { BaseManager } from './baseManager';\nfunction isEqual(a, b) {\n    if (a === b)\n        return true;\n    if ((a === null || a === void 0 ? void 0 : a.series) !== (b === null || b === void 0 ? void 0 : b.series))\n        return false;\n    if ((a === null || a === void 0 ? void 0 : a.itemId) !== (b === null || b === void 0 ? void 0 : b.itemId))\n        return false;\n    if ((a === null || a === void 0 ? void 0 : a.datum) !== (b === null || b === void 0 ? void 0 : b.datum))\n        return false;\n    return true;\n}\n/**\n * Manages the actively highlighted series/datum for a chart. Tracks the requested highlights from\n * distinct dependents and handles conflicting highlight requests.\n */\nvar HighlightManager = /** @class */ (function (_super) {\n    __extends(HighlightManager, _super);\n    function HighlightManager() {\n        var _this = _super.call(this) || this;\n        _this.states = {};\n        _this.activeHighlight = undefined;\n        return _this;\n    }\n    HighlightManager.prototype.updateHighlight = function (callerId, highlightedDatum) {\n        delete this.states[callerId];\n        if (highlightedDatum != null) {\n            this.states[callerId] = { highlightedDatum: highlightedDatum };\n        }\n        this.applyStates();\n    };\n    HighlightManager.prototype.getActiveHighlight = function () {\n        return this.activeHighlight;\n    };\n    HighlightManager.prototype.applyStates = function () {\n        var previousHighlight = this.activeHighlight;\n        var highlightToApply = undefined;\n        // Last added entry wins.\n        Object.entries(this.states)\n            .reverse()\n            .slice(0, 1)\n            .forEach(function (_a) {\n            var _b = __read(_a, 2), _ = _b[0], highlightedDatum = _b[1].highlightedDatum;\n            return (highlightToApply = highlightedDatum);\n        });\n        this.activeHighlight = highlightToApply;\n        var changed = !isEqual(previousHighlight, this.activeHighlight);\n        if (changed) {\n            var event_1 = {\n                type: 'highlight-change',\n                previousHighlight: previousHighlight,\n                currentHighlight: this.activeHighlight,\n            };\n            this.listeners.dispatch('highlight-change', event_1);\n        }\n    };\n    return HighlightManager;\n}(BaseManager));\nexport { HighlightManager };\n", "var __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\n/**\n * Manages the tooltip HTML an element. Tracks the requested HTML from distinct dependents and\n * handles conflicting tooltip requests.\n */\nvar TooltipManager = /** @class */ (function () {\n    function TooltipManager(tooltip, interactionManager) {\n        var _this = this;\n        this.states = {};\n        this.exclusiveAreas = {};\n        this.destroyFns = [];\n        this.tooltip = tooltip;\n        var hoverRef = interactionManager.addListener('hover', function (e) { return _this.checkExclusiveRects(e); });\n        this.destroyFns.push(function () { return interactionManager.removeListener(hoverRef); });\n    }\n    TooltipManager.prototype.updateTooltip = function (callerId, meta, content) {\n        var _a;\n        if (content == null) {\n            content = (_a = this.states[callerId]) === null || _a === void 0 ? void 0 : _a.content;\n        }\n        this.states[callerId] = { content: content, meta: meta };\n        this.applyStates();\n    };\n    TooltipManager.prototype.updateExclusiveRect = function (callerId, area) {\n        if (area) {\n            this.exclusiveAreas[callerId] = area;\n        }\n        else {\n            delete this.exclusiveAreas[callerId];\n        }\n    };\n    TooltipManager.prototype.removeTooltip = function (callerId) {\n        delete this.states[callerId];\n        this.applyStates();\n    };\n    TooltipManager.prototype.getTooltipMeta = function (callerId) {\n        var _a;\n        return (_a = this.states[callerId]) === null || _a === void 0 ? void 0 : _a.meta;\n    };\n    TooltipManager.prototype.destroy = function () {\n        var e_1, _a;\n        try {\n            for (var _b = __values(this.destroyFns), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var destroyFn = _c.value;\n                destroyFn();\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    TooltipManager.prototype.checkExclusiveRects = function (e) {\n        var e_2, _a;\n        var newAppliedExclusiveArea;\n        try {\n            for (var _b = __values(Object.entries(this.exclusiveAreas)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), entryId = _d[0], area = _d[1];\n                if (!area.containsPoint(e.offsetX, e.offsetY)) {\n                    continue;\n                }\n                newAppliedExclusiveArea = entryId;\n                break;\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        if (newAppliedExclusiveArea === this.appliedExclusiveArea) {\n            return;\n        }\n        this.appliedExclusiveArea = newAppliedExclusiveArea;\n        this.applyStates();\n    };\n    TooltipManager.prototype.applyStates = function () {\n        var _this = this;\n        var _a;\n        var ids = this.appliedExclusiveArea ? [this.appliedExclusiveArea] : Object.keys(this.states);\n        var contentToApply = undefined;\n        var metaToApply = undefined;\n        // Last added entry wins.\n        ids.reverse()\n            .slice(0, 1)\n            .forEach(function (id) {\n            var _a;\n            var _b = (_a = _this.states[id]) !== null && _a !== void 0 ? _a : {}, content = _b.content, meta = _b.meta;\n            contentToApply = content;\n            metaToApply = meta;\n        });\n        if (metaToApply === undefined || contentToApply === undefined) {\n            this.appliedState = undefined;\n            this.tooltip.toggle(false);\n            return;\n        }\n        if (((_a = this.appliedState) === null || _a === void 0 ? void 0 : _a.content) === contentToApply) {\n            var renderInstantly = this.tooltip.isVisible();\n            this.tooltip.show(metaToApply, undefined, renderInstantly);\n        }\n        else {\n            this.tooltip.show(metaToApply, contentToApply);\n        }\n        this.appliedState = { content: contentToApply, meta: metaToApply };\n    };\n    return TooltipManager;\n}());\nexport { TooltipManager };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { BaseManager } from './baseManager';\nfunction isEqual(a, b) {\n    var _a, _b, _c, _d, _e, _f, _g, _h;\n    if (a === b)\n        return true;\n    if (((_a = a === null || a === void 0 ? void 0 : a.x) === null || _a === void 0 ? void 0 : _a.min) !== ((_b = b === null || b === void 0 ? void 0 : b.x) === null || _b === void 0 ? void 0 : _b.min))\n        return false;\n    if (((_c = a === null || a === void 0 ? void 0 : a.x) === null || _c === void 0 ? void 0 : _c.max) !== ((_d = b === null || b === void 0 ? void 0 : b.x) === null || _d === void 0 ? void 0 : _d.max))\n        return false;\n    if (((_e = a === null || a === void 0 ? void 0 : a.y) === null || _e === void 0 ? void 0 : _e.max) !== ((_f = b === null || b === void 0 ? void 0 : b.y) === null || _f === void 0 ? void 0 : _f.max))\n        return false;\n    if (((_g = a === null || a === void 0 ? void 0 : a.y) === null || _g === void 0 ? void 0 : _g.min) !== ((_h = b === null || b === void 0 ? void 0 : b.y) === null || _h === void 0 ? void 0 : _h.min))\n        return false;\n    return true;\n}\n/**\n * Manages the current zoom state for a chart. Tracks the requested zoom from distinct dependents\n * and handles conflicting zoom requests.\n */\nvar ZoomManager = /** @class */ (function (_super) {\n    __extends(ZoomManager, _super);\n    function ZoomManager() {\n        var _this = _super.call(this) || this;\n        _this.states = {};\n        _this.currentZoom = undefined;\n        return _this;\n    }\n    ZoomManager.prototype.updateZoom = function (callerId, newZoom) {\n        delete this.states[callerId];\n        if (newZoom != null) {\n            this.states[callerId] = __assign({}, newZoom);\n        }\n        this.applyStates();\n    };\n    ZoomManager.prototype.getZoom = function () {\n        return this.currentZoom;\n    };\n    ZoomManager.prototype.applyStates = function () {\n        var e_1, _a;\n        var currentZoom = this.currentZoom;\n        var zoomToApply = {};\n        try {\n            // Last added entry wins.\n            for (var _b = __values(Object.entries(this.states)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), _ = _d[0], _e = _d[1], x = _e.x, y = _e.y;\n                zoomToApply.x = x !== null && x !== void 0 ? x : zoomToApply.x;\n                zoomToApply.y = y !== null && y !== void 0 ? y : zoomToApply.y;\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        this.currentZoom = zoomToApply.x != null || zoomToApply.y != null ? zoomToApply : undefined;\n        var changed = !isEqual(currentZoom, this.currentZoom);\n        if (!changed) {\n            return;\n        }\n        var event = __assign({ type: 'zoom-change' }, (currentZoom !== null && currentZoom !== void 0 ? currentZoom : {}));\n        this.listeners.dispatch('zoom-change', event);\n    };\n    return ZoomManager;\n}(BaseManager));\nexport { ZoomManager };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Listeners } from '../../util/listeners';\nfunction isLayoutStage(t) {\n    return t !== 'layout-complete';\n}\nfunction isLayoutComplete(t) {\n    return t === 'layout-complete';\n}\nvar LayoutService = /** @class */ (function () {\n    function LayoutService() {\n        this.layoutProcessors = new Listeners();\n        this.listeners = new Listeners();\n    }\n    LayoutService.prototype.addListener = function (type, cb) {\n        if (isLayoutStage(type)) {\n            return this.layoutProcessors.addListener(type, cb);\n        }\n        else if (isLayoutComplete(type)) {\n            return this.listeners.addListener(type, cb);\n        }\n        throw new Error('AG Charts - unsupported listener type: ' + type);\n    };\n    LayoutService.prototype.removeListener = function (listenerSymbol) {\n        this.listeners.removeListener(listenerSymbol);\n        this.layoutProcessors.removeListener(listenerSymbol);\n    };\n    LayoutService.prototype.dispatchPerformLayout = function (stage, ctx) {\n        var result = this.layoutProcessors.reduceDispatch(stage, function (_a, ctx) {\n            var shrinkRect = _a.shrinkRect;\n            return [__assign(__assign({}, ctx), { shrinkRect: shrinkRect })];\n        }, ctx);\n        return result !== null && result !== void 0 ? result : ctx;\n    };\n    LayoutService.prototype.dispatchLayoutComplete = function (event) {\n        this.listeners.dispatch('layout-complete', event);\n    };\n    return LayoutService;\n}());\nexport { LayoutService };\n", "import { ChartUpdateType } from './chartUpdateType';\nvar UpdateService = /** @class */ (function () {\n    function UpdateService(updateCallback) {\n        this.updateCallback = updateCallback;\n    }\n    UpdateService.prototype.update = function (type) {\n        if (type === void 0) { type = ChartUpdateType.FULL; }\n        this.updateCallback(type);\n    };\n    return UpdateService;\n}());\nexport { UpdateService };\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { STRING_UNION, Validate } from '../util/validation';\nvar ChartHighlight = /** @class */ (function () {\n    function ChartHighlight() {\n        this.range = 'tooltip';\n    }\n    __decorate([\n        Validate(STRING_UNION('tooltip', 'node'))\n    ], ChartHighlight.prototype, \"range\", void 0);\n    return ChartHighlight;\n}());\nexport { ChartHighlight };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { Scene } from '../scene/scene';\nimport { Group } from '../scene/group';\nimport { SeriesNodePickMode } from './series/series';\nimport { Padding } from '../util/padding';\nimport { Legend } from './legend';\nimport { BBox } from '../scene/bbox';\nimport { SizeMonitor } from '../util/sizeMonitor';\nimport { Observable } from '../util/observable';\nimport { ChartAxisDirection } from './chartAxisDirection';\nimport { createId } from '../util/id';\nimport { isPointLabelDatum, placeLabels } from '../util/labelPlacement';\nimport { debouncedAnimationFrame, debouncedCallback } from '../util/render';\nimport { CartesianSeries } from './series/cartesian/cartesianSeries';\nimport { BOOLEAN, STRING_UNION, Validate } from '../util/validation';\nimport { sleep } from '../util/async';\nimport { Tooltip } from './tooltip/tooltip';\nimport { ChartOverlays } from './overlay/chartOverlays';\nimport { InteractionManager } from './interaction/interactionManager';\nimport { jsonMerge } from '../util/json';\nimport { Layers } from './layers';\nimport { CursorManager } from './interaction/cursorManager';\nimport { HighlightManager } from './interaction/highlightManager';\nimport { TooltipManager } from './interaction/tooltipManager';\nimport { ZoomManager } from './interaction/zoomManager';\nimport { LayoutService } from './layout/layoutService';\nimport { UpdateService } from './updateService';\nimport { ChartUpdateType } from './chartUpdateType';\nimport { Logger } from '../util/logger';\nimport { ActionOnSet } from '../util/proxy';\nimport { ChartHighlight } from './chartHighlight';\nvar Chart = /** @class */ (function (_super) {\n    __extends(Chart, _super);\n    function Chart(document, overrideDevicePixelRatio, resources) {\n        if (document === void 0) { document = window.document; }\n        var _a;\n        var _this = _super.call(this) || this;\n        _this.id = createId(_this);\n        _this.processedOptions = {};\n        _this.userOptions = {};\n        _this.queuedUserOptions = [];\n        _this.seriesRoot = new Group({ name: _this.id + \"-Series-root\" });\n        _this.extraDebugStats = {};\n        _this._container = undefined;\n        _this.data = [];\n        _this.padding = new Padding(20);\n        _this.seriesAreaPadding = new Padding(0);\n        _this.title = undefined;\n        _this.subtitle = undefined;\n        _this.footnote = undefined;\n        _this.mode = 'standalone';\n        _this._destroyed = false;\n        _this.modules = {};\n        _this._pendingFactoryUpdates = [];\n        _this._performUpdateNoRenderCount = 0;\n        _this._performUpdateType = ChartUpdateType.NONE;\n        _this.seriesToUpdate = new Set();\n        _this.performUpdateTrigger = debouncedCallback(function (_a) {\n            var count = _a.count;\n            return __awaiter(_this, void 0, void 0, function () {\n                var error_1;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (this._destroyed)\n                                return [2 /*return*/];\n                            _b.label = 1;\n                        case 1:\n                            _b.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, this.performUpdate(count)];\n                        case 2:\n                            _b.sent();\n                            return [3 /*break*/, 4];\n                        case 3:\n                            error_1 = _b.sent();\n                            this._lastPerformUpdateError = error_1;\n                            Logger.error('update error', error_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            });\n        });\n        _this._axes = [];\n        _this._series = [];\n        _this.lastInteractionEvent = undefined;\n        _this.pointerScheduler = debouncedAnimationFrame(function () {\n            if (_this.lastInteractionEvent) {\n                _this.handlePointer(_this.lastInteractionEvent);\n            }\n            _this.lastInteractionEvent = undefined;\n        });\n        _this.onSeriesNodeClick = function (event) {\n            var seriesNodeClickEvent = __assign(__assign({}, event), { type: 'seriesNodeClick' });\n            Object.defineProperty(seriesNodeClickEvent, 'series', {\n                enumerable: false,\n                // Should display the deprecation warning\n                get: function () { return event.series; },\n            });\n            _this.fireEvent(seriesNodeClickEvent);\n        };\n        _this.onSeriesNodeDoubleClick = function (event) {\n            var seriesNodeDoubleClick = __assign(__assign({}, event), { type: 'seriesNodeDoubleClick' });\n            _this.fireEvent(seriesNodeDoubleClick);\n        };\n        var scene = resources === null || resources === void 0 ? void 0 : resources.scene;\n        var element = (_a = resources === null || resources === void 0 ? void 0 : resources.element) !== null && _a !== void 0 ? _a : document.createElement('div');\n        var container = resources === null || resources === void 0 ? void 0 : resources.container;\n        var root = new Group({ name: 'root' });\n        // Prevent the scene from rendering chart components in an invalid state\n        // (before first layout is performed).\n        root.visible = false;\n        root.append(_this.seriesRoot);\n        _this.axisGroup = new Group({ name: 'Axes', layer: true, zIndex: Layers.AXIS_ZINDEX });\n        root.appendChild(_this.axisGroup);\n        _this.element = element;\n        element.classList.add('ag-chart-wrapper');\n        element.style.position = 'relative';\n        _this.scene = scene !== null && scene !== void 0 ? scene : new Scene({ document: document, overrideDevicePixelRatio: overrideDevicePixelRatio });\n        _this.debug = false;\n        _this.scene.debug.consoleLog = false;\n        _this.scene.root = root;\n        _this.scene.container = element;\n        _this.autoSize = true;\n        _this.interactionManager = new InteractionManager(element);\n        _this.cursorManager = new CursorManager(element);\n        _this.highlightManager = new HighlightManager();\n        _this.zoomManager = new ZoomManager();\n        _this.layoutService = new LayoutService();\n        _this.updateService = new UpdateService(function (type) {\n            if (type === void 0) { type = ChartUpdateType.FULL; }\n            return _this.update(type);\n        });\n        SizeMonitor.observe(_this.element, function (size) {\n            var width = size.width, height = size.height;\n            if (!_this.autoSize) {\n                return;\n            }\n            if (width === 0 && height === 0) {\n                return;\n            }\n            if (width === _this.width && height === _this.height) {\n                return;\n            }\n            _this._lastAutoSize = [width, height];\n            _this.resize(width, height);\n        });\n        _this.layoutService.addListener('start-layout', function (e) { return _this.positionPadding(e.shrinkRect); });\n        _this.layoutService.addListener('start-layout', function (e) { return _this.positionCaptions(e.shrinkRect); });\n        _this.tooltip = new Tooltip(_this.scene.canvas.element, document, document.body);\n        _this.tooltipManager = new TooltipManager(_this.tooltip, _this.interactionManager);\n        _this.legend = new Legend(_this, _this.interactionManager, _this.cursorManager, _this.highlightManager, _this.tooltipManager, _this.layoutService);\n        _this.overlays = new ChartOverlays(_this.element);\n        _this.highlight = new ChartHighlight();\n        _this.container = container;\n        // Add interaction listeners last so child components are registered first.\n        _this.interactionManager.addListener('click', function (event) { return _this.onClick(event); });\n        _this.interactionManager.addListener('dblclick', function (event) { return _this.onDoubleClick(event); });\n        _this.interactionManager.addListener('hover', function (event) { return _this.onMouseMove(event); });\n        _this.interactionManager.addListener('leave', function (event) { return _this.onLeave(event); });\n        _this.interactionManager.addListener('page-left', function () { return _this.destroy(); });\n        _this.interactionManager.addListener('wheel', function () { return _this.disablePointer(); });\n        _this.zoomManager.addListener('zoom-change', function (_) {\n            return _this.update(ChartUpdateType.PROCESS_DATA, { forceNodeDataRefresh: true });\n        });\n        _this.highlightManager.addListener('highlight-change', function (event) { return _this.changeHighlightDatum(event); });\n        return _this;\n    }\n    Chart.prototype.getOptions = function () {\n        var _a;\n        var queuedUserOptions = this.queuedUserOptions;\n        var lastUpdateOptions = (_a = queuedUserOptions[queuedUserOptions.length - 1]) !== null && _a !== void 0 ? _a : this.userOptions;\n        return jsonMerge([lastUpdateOptions]);\n    };\n    Object.defineProperty(Chart.prototype, \"container\", {\n        get: function () {\n            return this._container;\n        },\n        set: function (value) {\n            if (this._container !== value) {\n                var parentNode = this.element.parentNode;\n                if (parentNode != null) {\n                    parentNode.removeChild(this.element);\n                }\n                if (value && !this.destroyed) {\n                    value.appendChild(this.element);\n                }\n                this._container = value;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Chart.prototype.autoSizeChanged = function (value) {\n        var style = this.element.style;\n        if (value) {\n            style.display = 'block';\n            style.width = '100%';\n            style.height = '100%';\n            if (!this._lastAutoSize) {\n                return;\n            }\n            this.resize(this._lastAutoSize[0], this._lastAutoSize[1]);\n        }\n        else {\n            style.display = 'inline-block';\n            style.width = 'auto';\n            style.height = 'auto';\n        }\n    };\n    Chart.prototype.download = function (fileName, fileFormat) {\n        this.scene.download(fileName, fileFormat);\n    };\n    Object.defineProperty(Chart.prototype, \"destroyed\", {\n        get: function () {\n            return this._destroyed;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Chart.prototype.addModule = function (module) {\n        if (this.modules[module.optionsKey] != null) {\n            throw new Error('AG Charts - module already initialised: ' + module.optionsKey);\n        }\n        var moduleMeta = module.initialiseModule(this.getModuleContext());\n        this.modules[module.optionsKey] = moduleMeta;\n        this[module.optionsKey] = moduleMeta.instance;\n    };\n    Chart.prototype.removeModule = function (module) {\n        var _a, _b;\n        (_b = (_a = this.modules[module.optionsKey]) === null || _a === void 0 ? void 0 : _a.instance) === null || _b === void 0 ? void 0 : _b.destroy();\n        delete this.modules[module.optionsKey];\n        delete this[module.optionsKey];\n    };\n    Chart.prototype.isModuleEnabled = function (module) {\n        return this.modules[module.optionsKey] != null;\n    };\n    Chart.prototype.getModuleContext = function () {\n        var _a = this, scene = _a.scene, interactionManager = _a.interactionManager, zoomManager = _a.zoomManager, cursorManager = _a.cursorManager, highlightManager = _a.highlightManager, tooltipManager = _a.tooltipManager, layoutService = _a.layoutService, updateService = _a.updateService;\n        return {\n            scene: scene,\n            interactionManager: interactionManager,\n            zoomManager: zoomManager,\n            cursorManager: cursorManager,\n            highlightManager: highlightManager,\n            tooltipManager: tooltipManager,\n            layoutService: layoutService,\n            updateService: updateService,\n        };\n    };\n    Chart.prototype.destroy = function (opts) {\n        var e_1, _a;\n        if (this._destroyed) {\n            return;\n        }\n        var keepTransferableResources = opts === null || opts === void 0 ? void 0 : opts.keepTransferableResources;\n        var result = undefined;\n        this._performUpdateType = ChartUpdateType.NONE;\n        this._pendingFactoryUpdates.splice(0);\n        this.tooltipManager.destroy();\n        this.tooltip.destroy();\n        this.legend.destroy();\n        SizeMonitor.unobserve(this.element);\n        try {\n            for (var _b = __values(Object.entries(this.modules)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = __read(_c.value, 2), key = _d[0], module_1 = _d[1];\n                module_1.instance.destroy();\n                delete this.modules[key];\n                delete this[key];\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        this.interactionManager.destroy();\n        if (keepTransferableResources) {\n            this.scene.strip();\n            result = { container: this.container, scene: this.scene, element: this.element };\n        }\n        else {\n            this.scene.destroy();\n            this.container = undefined;\n        }\n        this.series.forEach(function (s) { return s.destroy(); });\n        this.series = [];\n        this.axes.forEach(function (a) { return a.destroy(); });\n        this.axes = [];\n        this._destroyed = true;\n        return result;\n    };\n    Chart.prototype.log = function (opts) {\n        if (this.debug) {\n            Logger.debug(opts);\n        }\n    };\n    Chart.prototype.disablePointer = function (highlightOnly) {\n        if (highlightOnly === void 0) { highlightOnly = false; }\n        if (!highlightOnly) {\n            this.tooltipManager.removeTooltip(this.id);\n        }\n        this.highlightManager.updateHighlight(this.id);\n        if (this.lastInteractionEvent) {\n            this.lastInteractionEvent = undefined;\n        }\n    };\n    Chart.prototype.requestFactoryUpdate = function (cb) {\n        var callbacks = this._pendingFactoryUpdates;\n        var count = callbacks.length;\n        if (count === 0) {\n            callbacks.push(cb);\n            this._processCallbacks();\n        }\n        else {\n            // Factory callback process already running, the callback will be invoked asynchronously.\n            // Clear the queue after the first callback to prevent unnecessary re-renderings.\n            callbacks.splice(1, count - 1, cb);\n        }\n    };\n    Chart.prototype._processCallbacks = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var callbacks, e_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        callbacks = this._pendingFactoryUpdates;\n                        _a.label = 1;\n                    case 1:\n                        if (!(callbacks.length > 0)) return [3 /*break*/, 7];\n                        if (!this.updatePending) return [3 /*break*/, 3];\n                        return [4 /*yield*/, sleep(1)];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 1]; // Make sure to check queue has an item before continuing.\n                    case 3:\n                        _a.trys.push([3, 5, , 6]);\n                        return [4 /*yield*/, callbacks[0]()];\n                    case 4:\n                        _a.sent();\n                        return [3 /*break*/, 6];\n                    case 5:\n                        e_2 = _a.sent();\n                        Logger.error('update error', e_2);\n                        return [3 /*break*/, 6];\n                    case 6:\n                        callbacks.shift();\n                        return [3 /*break*/, 1];\n                    case 7: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Object.defineProperty(Chart.prototype, \"performUpdateType\", {\n        get: function () {\n            return this._performUpdateType;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"updatePending\", {\n        get: function () {\n            return this._performUpdateType !== ChartUpdateType.NONE || this.lastInteractionEvent != null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"lastPerformUpdateError\", {\n        get: function () {\n            return this._lastPerformUpdateError;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Chart.prototype.awaitUpdateCompletion = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.performUpdateTrigger.await()];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Chart.prototype.update = function (type, opts) {\n        var e_3, _a;\n        if (type === void 0) { type = ChartUpdateType.FULL; }\n        var _b = opts || {}, _c = _b.forceNodeDataRefresh, forceNodeDataRefresh = _c === void 0 ? false : _c, _d = _b.seriesToUpdate, seriesToUpdate = _d === void 0 ? this.series : _d;\n        if (forceNodeDataRefresh) {\n            this.series.forEach(function (series) { return series.markNodeDataDirty(); });\n        }\n        try {\n            for (var seriesToUpdate_1 = __values(seriesToUpdate), seriesToUpdate_1_1 = seriesToUpdate_1.next(); !seriesToUpdate_1_1.done; seriesToUpdate_1_1 = seriesToUpdate_1.next()) {\n                var series = seriesToUpdate_1_1.value;\n                this.seriesToUpdate.add(series);\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (seriesToUpdate_1_1 && !seriesToUpdate_1_1.done && (_a = seriesToUpdate_1.return)) _a.call(seriesToUpdate_1);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        if (type < this._performUpdateType) {\n            this._performUpdateType = type;\n            this.performUpdateTrigger.schedule();\n        }\n    };\n    Chart.prototype.performUpdate = function (count) {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var _b, performUpdateType, extraDebugStats, splits, _c, count_1, seriesRect_1, seriesUpdates, tooltipMeta, end;\n            return __generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        _b = this, performUpdateType = _b._performUpdateType, extraDebugStats = _b.extraDebugStats;\n                        splits = [performance.now()];\n                        _c = performUpdateType;\n                        switch (_c) {\n                            case ChartUpdateType.FULL: return [3 /*break*/, 1];\n                            case ChartUpdateType.PROCESS_DATA: return [3 /*break*/, 1];\n                            case ChartUpdateType.PERFORM_LAYOUT: return [3 /*break*/, 3];\n                            case ChartUpdateType.SERIES_UPDATE: return [3 /*break*/, 5];\n                            case ChartUpdateType.TOOLTIP_RECALCULATION: return [3 /*break*/, 7];\n                            case ChartUpdateType.SCENE_RENDER: return [3 /*break*/, 8];\n                            case ChartUpdateType.NONE: return [3 /*break*/, 10];\n                        }\n                        return [3 /*break*/, 11];\n                    case 1: return [4 /*yield*/, this.processData()];\n                    case 2:\n                        _d.sent();\n                        this.disablePointer(true);\n                        splits.push(performance.now());\n                        _d.label = 3;\n                    case 3:\n                        if (this.autoSize && !this._lastAutoSize) {\n                            count_1 = this._performUpdateNoRenderCount++;\n                            if (count_1 < 5) {\n                                // Reschedule if canvas size hasn't been set yet to avoid a race.\n                                this._performUpdateType = ChartUpdateType.PERFORM_LAYOUT;\n                                this.performUpdateTrigger.schedule();\n                                return [3 /*break*/, 11];\n                            }\n                            // After several failed passes, continue and accept there maybe a redundant\n                            // render. Sometimes this case happens when we already have the correct\n                            // width/height, and we end up never rendering the chart in that scenario.\n                        }\n                        this._performUpdateNoRenderCount = 0;\n                        return [4 /*yield*/, this.performLayout()];\n                    case 4:\n                        _d.sent();\n                        this.handleOverlays();\n                        splits.push(performance.now());\n                        _d.label = 5;\n                    case 5:\n                        seriesRect_1 = this.seriesRect;\n                        seriesUpdates = __spread(this.seriesToUpdate).map(function (series) { return series.update({ seriesRect: seriesRect_1 }); });\n                        this.seriesToUpdate.clear();\n                        return [4 /*yield*/, Promise.all(seriesUpdates)];\n                    case 6:\n                        _d.sent();\n                        splits.push(performance.now());\n                        _d.label = 7;\n                    case 7:\n                        tooltipMeta = this.tooltipManager.getTooltipMeta(this.id);\n                        if (performUpdateType < ChartUpdateType.SERIES_UPDATE && ((_a = tooltipMeta === null || tooltipMeta === void 0 ? void 0 : tooltipMeta.event) === null || _a === void 0 ? void 0 : _a.type) === 'hover') {\n                            this.handlePointer(tooltipMeta.event);\n                        }\n                        _d.label = 8;\n                    case 8: return [4 /*yield*/, this.scene.render({ debugSplitTimes: splits, extraDebugStats: extraDebugStats })];\n                    case 9:\n                        _d.sent();\n                        this.extraDebugStats = {};\n                        _d.label = 10;\n                    case 10:\n                        // Do nothing.\n                        this._performUpdateType = ChartUpdateType.NONE;\n                        _d.label = 11;\n                    case 11:\n                        end = performance.now();\n                        this.log({\n                            chart: this,\n                            durationMs: Math.round((end - splits[0]) * 100) / 100,\n                            count: count,\n                            performUpdateType: ChartUpdateType[performUpdateType],\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Object.defineProperty(Chart.prototype, \"axes\", {\n        get: function () {\n            return this._axes;\n        },\n        set: function (values) {\n            var _this = this;\n            var removedAxes = new Set();\n            this._axes.forEach(function (axis) {\n                axis.detachAxis(_this.axisGroup);\n                removedAxes.add(axis);\n            });\n            // make linked axes go after the regular ones (simulates stable sort by `linkedTo` property)\n            this._axes = values.filter(function (a) { return !a.linkedTo; }).concat(values.filter(function (a) { return a.linkedTo; }));\n            this._axes.forEach(function (axis) {\n                axis.attachAxis(_this.axisGroup);\n                removedAxes.delete(axis);\n            });\n            removedAxes.forEach(function (axis) { return axis.destroy(); });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Chart.prototype, \"series\", {\n        get: function () {\n            return this._series;\n        },\n        set: function (values) {\n            var _this = this;\n            this.removeAllSeries();\n            values.forEach(function (series) { return _this.addSeries(series); });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Chart.prototype.addSeries = function (series, before) {\n        var _a = this, allSeries = _a.series, seriesRoot = _a.seriesRoot;\n        var canAdd = allSeries.indexOf(series) < 0;\n        if (canAdd) {\n            var beforeIndex = before ? allSeries.indexOf(before) : -1;\n            if (beforeIndex >= 0) {\n                allSeries.splice(beforeIndex, 0, series);\n                seriesRoot.insertBefore(series.rootGroup, before.rootGroup);\n            }\n            else {\n                allSeries.push(series);\n                seriesRoot.append(series.rootGroup);\n            }\n            this.initSeries(series);\n            return true;\n        }\n        return false;\n    };\n    Chart.prototype.initSeries = function (series) {\n        series.chart = this;\n        series.highlightManager = this.highlightManager;\n        if (!series.data) {\n            series.data = this.data;\n        }\n        this.addSeriesListeners(series);\n    };\n    Chart.prototype.freeSeries = function (series) {\n        series.chart = undefined;\n        series.removeEventListener('nodeClick', this.onSeriesNodeClick);\n        series.removeEventListener('nodeDoubleClick', this.onSeriesNodeDoubleClick);\n    };\n    Chart.prototype.removeAllSeries = function () {\n        var _this = this;\n        this.series.forEach(function (series) {\n            _this.freeSeries(series);\n            _this.seriesRoot.removeChild(series.rootGroup);\n        });\n        this._series = []; // using `_series` instead of `series` to prevent infinite recursion\n    };\n    Chart.prototype.addSeriesListeners = function (series) {\n        if (this.hasEventListener('seriesNodeClick')) {\n            series.addEventListener('nodeClick', this.onSeriesNodeClick);\n        }\n        if (this.hasEventListener('seriesNodeDoubleClick')) {\n            series.addEventListener('nodeDoubleClick', this.onSeriesNodeDoubleClick);\n        }\n    };\n    Chart.prototype.updateAllSeriesListeners = function () {\n        var _this = this;\n        this.series.forEach(function (series) {\n            series.removeEventListener('nodeClick', _this.onSeriesNodeClick);\n            series.removeEventListener('nodeDoubleClick', _this.onSeriesNodeDoubleClick);\n            _this.addSeriesListeners(series);\n        });\n    };\n    Chart.prototype.assignSeriesToAxes = function () {\n        var _this = this;\n        this.axes.forEach(function (axis) {\n            axis.boundSeries = _this.series.filter(function (s) {\n                var seriesAxis = axis.direction === ChartAxisDirection.X ? s.xAxis : s.yAxis;\n                return seriesAxis === axis;\n            });\n        });\n    };\n    Chart.prototype.assignAxesToSeries = function (force) {\n        var _this = this;\n        if (force === void 0) { force = false; }\n        // This method has to run before `assignSeriesToAxes`.\n        var directionToAxesMap = {};\n        this.axes.forEach(function (axis) {\n            var direction = axis.direction;\n            var directionAxes = directionToAxesMap[direction] || (directionToAxesMap[direction] = []);\n            directionAxes.push(axis);\n        });\n        this.series.forEach(function (series) {\n            series.directions.forEach(function (direction) {\n                var currentAxis = direction === ChartAxisDirection.X ? series.xAxis : series.yAxis;\n                if (currentAxis && !force) {\n                    return;\n                }\n                var directionAxes = directionToAxesMap[direction];\n                if (!directionAxes) {\n                    Logger.warn(\"no available axis for direction [\" + direction + \"]; check series and axes configuration.\");\n                    return;\n                }\n                var seriesKeys = series.getKeys(direction);\n                var newAxis = _this.findMatchingAxis(directionAxes, series.getKeys(direction));\n                if (!newAxis) {\n                    Logger.warn(\"no matching axis for direction [\" + direction + \"] and keys [\" + seriesKeys + \"]; check series and axes configuration.\");\n                    return;\n                }\n                if (direction === ChartAxisDirection.X) {\n                    series.xAxis = newAxis;\n                }\n                else {\n                    series.yAxis = newAxis;\n                }\n            });\n        });\n    };\n    Chart.prototype.findMatchingAxis = function (directionAxes, directionKeys) {\n        var e_4, _a, e_5, _b;\n        try {\n            for (var directionAxes_1 = __values(directionAxes), directionAxes_1_1 = directionAxes_1.next(); !directionAxes_1_1.done; directionAxes_1_1 = directionAxes_1.next()) {\n                var axis = directionAxes_1_1.value;\n                var axisKeys = axis.keys;\n                if (!axisKeys.length) {\n                    return axis;\n                }\n                if (!directionKeys) {\n                    continue;\n                }\n                try {\n                    for (var directionKeys_1 = (e_5 = void 0, __values(directionKeys)), directionKeys_1_1 = directionKeys_1.next(); !directionKeys_1_1.done; directionKeys_1_1 = directionKeys_1.next()) {\n                        var directionKey = directionKeys_1_1.value;\n                        if (axisKeys.indexOf(directionKey) >= 0) {\n                            return axis;\n                        }\n                    }\n                }\n                catch (e_5_1) { e_5 = { error: e_5_1 }; }\n                finally {\n                    try {\n                        if (directionKeys_1_1 && !directionKeys_1_1.done && (_b = directionKeys_1.return)) _b.call(directionKeys_1);\n                    }\n                    finally { if (e_5) throw e_5.error; }\n                }\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (directionAxes_1_1 && !directionAxes_1_1.done && (_a = directionAxes_1.return)) _a.call(directionAxes_1);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n    };\n    Chart.prototype.resize = function (width, height) {\n        if (!width || !height || !Number.isFinite(width) || !Number.isFinite(height))\n            return;\n        if (this.scene.resize(width, height)) {\n            this.disablePointer();\n            this.update(ChartUpdateType.PERFORM_LAYOUT, { forceNodeDataRefresh: true });\n        }\n    };\n    Chart.prototype.processData = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.axes.length > 0 || this.series.some(function (s) { return s instanceof CartesianSeries; })) {\n                            this.assignAxesToSeries(true);\n                            this.assignSeriesToAxes();\n                        }\n                        return [4 /*yield*/, Promise.all(this.series.map(function (s) { return s.processData(); }))];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.updateLegend()];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Chart.prototype.placeLabels = function () {\n        var e_6, _a;\n        var visibleSeries = [];\n        var data = [];\n        try {\n            for (var _b = __values(this.series), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var series = _c.value;\n                if (!series.visible) {\n                    continue;\n                }\n                var labelData = series.getLabelData();\n                if (!(labelData && isPointLabelDatum(labelData[0]))) {\n                    continue;\n                }\n                data.push(labelData);\n                visibleSeries.push(series);\n            }\n        }\n        catch (e_6_1) { e_6 = { error: e_6_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_6) throw e_6.error; }\n        }\n        var seriesRect = this.seriesRect;\n        var labels = seriesRect && data.length > 0\n            ? placeLabels(data, { x: 0, y: 0, width: seriesRect.width, height: seriesRect.height })\n            : [];\n        return new Map(labels.map(function (l, i) { return [visibleSeries[i], l]; }));\n    };\n    Chart.prototype.updateLegend = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var legendData, formatter;\n            return __generator(this, function (_a) {\n                legendData = [];\n                this.series\n                    .filter(function (s) { return s.showInLegend; })\n                    .forEach(function (series) {\n                    legendData.push.apply(legendData, __spread(series.getLegendData()));\n                });\n                formatter = this.legend.item.label.formatter;\n                if (formatter) {\n                    legendData.forEach(function (datum) {\n                        return (datum.label.text = formatter({\n                            get id() {\n                                Logger.warnOnce(\"LegendLabelFormatterParams.id is deprecated, use seriesId instead\");\n                                return datum.seriesId;\n                            },\n                            itemId: datum.itemId,\n                            value: datum.label.text,\n                            seriesId: datum.seriesId,\n                        }));\n                    });\n                }\n                this.legend.data = legendData;\n                return [2 /*return*/];\n            });\n        });\n    };\n    Chart.prototype.performLayout = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, width, height, shrinkRect;\n            return __generator(this, function (_b) {\n                this.scene.root.visible = true;\n                _a = this.scene, width = _a.width, height = _a.height;\n                shrinkRect = new BBox(0, 0, width, height);\n                (shrinkRect = this.layoutService.dispatchPerformLayout('start-layout', { shrinkRect: shrinkRect }).shrinkRect);\n                (shrinkRect = this.layoutService.dispatchPerformLayout('before-series', { shrinkRect: shrinkRect }).shrinkRect);\n                return [2 /*return*/, shrinkRect];\n            });\n        });\n    };\n    Chart.prototype.positionPadding = function (shrinkRect) {\n        var padding = this.padding;\n        shrinkRect.shrink(padding.left, 'left');\n        shrinkRect.shrink(padding.top, 'top');\n        shrinkRect.shrink(padding.right, 'right');\n        shrinkRect.shrink(padding.bottom, 'bottom');\n        return { shrinkRect: shrinkRect };\n    };\n    Chart.prototype.positionCaptions = function (shrinkRect) {\n        var _a = this, title = _a.title, subtitle = _a.subtitle, footnote = _a.footnote;\n        var newShrinkRect = shrinkRect.clone();\n        var positionTopAndShrinkBBox = function (caption) {\n            var _a;\n            var baseY = newShrinkRect.y;\n            caption.node.x = newShrinkRect.x + newShrinkRect.width / 2;\n            caption.node.y = baseY;\n            caption.node.textBaseline = 'top';\n            var bbox = caption.node.computeBBox();\n            // As the bbox (x,y) ends up at a different location than specified above, we need to\n            // take it into consideration when calculating how much space needs to be reserved to\n            // accommodate the caption.\n            var bboxHeight = Math.ceil(bbox.y - baseY + bbox.height + ((_a = caption.spacing) !== null && _a !== void 0 ? _a : 0));\n            newShrinkRect.shrink(bboxHeight, 'top');\n        };\n        var positionBottomAndShrinkBBox = function (caption) {\n            var _a;\n            var baseY = newShrinkRect.y + newShrinkRect.height;\n            caption.node.x = newShrinkRect.x + newShrinkRect.width / 2;\n            caption.node.y = baseY;\n            caption.node.textBaseline = 'bottom';\n            var bbox = caption.node.computeBBox();\n            var bboxHeight = Math.ceil(baseY - bbox.y + ((_a = caption.spacing) !== null && _a !== void 0 ? _a : 0));\n            newShrinkRect.shrink(bboxHeight, 'bottom');\n        };\n        if (title) {\n            title.node.visible = title.enabled;\n            if (title.node.visible) {\n                positionTopAndShrinkBBox(title);\n            }\n        }\n        if (subtitle) {\n            subtitle.node.visible = title !== undefined && title.enabled && subtitle.enabled;\n            if (subtitle.node.visible) {\n                positionTopAndShrinkBBox(subtitle);\n            }\n        }\n        if (footnote) {\n            footnote.node.visible = footnote.enabled;\n            if (footnote.node.visible) {\n                positionBottomAndShrinkBBox(footnote);\n            }\n        }\n        return { shrinkRect: newShrinkRect };\n    };\n    Chart.prototype.getSeriesRect = function () {\n        return this.seriesRect;\n    };\n    // x/y are local canvas coordinates in CSS pixels, not actual pixels\n    Chart.prototype.pickSeriesNode = function (point, exactMatchOnly, maxDistance) {\n        var e_7, _a;\n        var _b, _c;\n        var start = performance.now();\n        // Disable 'nearest match' options if looking for exact matches only\n        var pickModes = exactMatchOnly ? [SeriesNodePickMode.EXACT_SHAPE_MATCH] : undefined;\n        // Iterate through series in reverse, as later declared series appears on top of earlier\n        // declared series.\n        var reverseSeries = __spread(this.series).reverse();\n        var result = undefined;\n        try {\n            for (var reverseSeries_1 = __values(reverseSeries), reverseSeries_1_1 = reverseSeries_1.next(); !reverseSeries_1_1.done; reverseSeries_1_1 = reverseSeries_1.next()) {\n                var series = reverseSeries_1_1.value;\n                if (!series.visible || !series.rootGroup.visible) {\n                    continue;\n                }\n                var _d = (_b = series.pickNode(point, pickModes)) !== null && _b !== void 0 ? _b : {}, match = _d.match, distance = _d.distance;\n                if (!match || distance == null) {\n                    continue;\n                }\n                if ((!result || result.distance > distance) && distance <= (maxDistance !== null && maxDistance !== void 0 ? maxDistance : Infinity)) {\n                    result = { series: series, distance: distance, datum: match };\n                }\n                if (distance === 0) {\n                    break;\n                }\n            }\n        }\n        catch (e_7_1) { e_7 = { error: e_7_1 }; }\n        finally {\n            try {\n                if (reverseSeries_1_1 && !reverseSeries_1_1.done && (_a = reverseSeries_1.return)) _a.call(reverseSeries_1);\n            }\n            finally { if (e_7) throw e_7.error; }\n        }\n        this.extraDebugStats['pickSeriesNode'] = Math.round(((_c = this.extraDebugStats['pickSeriesNode']) !== null && _c !== void 0 ? _c : 0) + (performance.now() - start));\n        return result;\n    };\n    Chart.prototype.onMouseMove = function (event) {\n        this.lastInteractionEvent = event;\n        this.pointerScheduler.schedule();\n        this.extraDebugStats['mouseX'] = event.offsetX;\n        this.extraDebugStats['mouseY'] = event.offsetY;\n        this.update(ChartUpdateType.SCENE_RENDER);\n    };\n    Chart.prototype.onLeave = function (event) {\n        if (this.tooltip.pointerLeftOntoTooltip(event)) {\n            return;\n        }\n        this.disablePointer();\n    };\n    Chart.prototype.handlePointer = function (event) {\n        var _this = this;\n        var _a = this, lastPick = _a.lastPick, hoverRect = _a.hoverRect;\n        var offsetX = event.offsetX, offsetY = event.offsetY;\n        var disablePointer = function (highlightOnly) {\n            if (highlightOnly === void 0) { highlightOnly = false; }\n            if (lastPick) {\n                // Cursor moved from a non-marker node to empty space.\n                _this.disablePointer(highlightOnly);\n            }\n        };\n        if (!(hoverRect === null || hoverRect === void 0 ? void 0 : hoverRect.containsPoint(offsetX, offsetY))) {\n            disablePointer();\n            return;\n        }\n        // Handle node highlighting and tooltip toggling when pointer within `tooltip.range`\n        this.handlePointerTooltip(event, disablePointer);\n        // Handle node highlighting and mouse cursor when pointer withing `series[].nodeClickRange`\n        this.handlePointerNode(event);\n    };\n    Chart.prototype.handlePointerTooltip = function (event, disablePointer) {\n        var _a, _b;\n        var _c = this, lastPick = _c.lastPick, tooltip = _c.tooltip;\n        var range = tooltip.range;\n        var pageX = event.pageX, pageY = event.pageY, offsetX = event.offsetX, offsetY = event.offsetY;\n        var pixelRange;\n        if (typeof range === 'number' && Number.isFinite(range)) {\n            pixelRange = range;\n        }\n        var pick = this.pickSeriesNode({ x: offsetX, y: offsetY }, range === 'exact', pixelRange);\n        if (!pick) {\n            this.tooltipManager.updateTooltip(this.id);\n            if (this.highlight.range === 'tooltip')\n                disablePointer(true);\n            return;\n        }\n        var isNewDatum = this.highlight.range === 'node' || !lastPick || lastPick.datum !== pick.datum;\n        var html;\n        if (isNewDatum) {\n            html = pick.series.getTooltipHtml(pick.datum);\n            if (this.highlight.range === 'tooltip') {\n                this.highlightManager.updateHighlight(this.id, pick.datum);\n            }\n        }\n        else if (lastPick) {\n            lastPick.event = event.sourceEvent;\n        }\n        var isPixelRange = pixelRange != null;\n        var tooltipEnabled = this.tooltip.enabled && pick.series.tooltip.enabled;\n        var exactlyMatched = range === 'exact' && pick.distance === 0;\n        var rangeMatched = range === 'nearest' || isPixelRange || exactlyMatched;\n        var shouldUpdateTooltip = tooltipEnabled && rangeMatched && (!isNewDatum || html !== undefined);\n        var position = {\n            xOffset: pick.datum.series.tooltip.position.xOffset,\n            yOffset: pick.datum.series.tooltip.position.yOffset,\n        };\n        var meta = this.mergePointerDatum({ pageX: pageX, pageY: pageY, offsetX: offsetX, offsetY: offsetY, event: event, position: position }, pick.datum);\n        meta.enableInteraction = (_b = (_a = pick.series.tooltip.interaction) === null || _a === void 0 ? void 0 : _a.enabled) !== null && _b !== void 0 ? _b : false;\n        if (shouldUpdateTooltip) {\n            this.tooltipManager.updateTooltip(this.id, meta, html);\n        }\n    };\n    Chart.prototype.handlePointerNode = function (event) {\n        var _this = this;\n        var found = this.checkSeriesNodeRange(event, function (series, datum) {\n            if (series.hasEventListener('nodeClick') || series.hasEventListener('nodeDoubleClick')) {\n                _this.cursorManager.updateCursor('chart', 'pointer');\n            }\n            if (_this.highlight.range === 'node') {\n                _this.highlightManager.updateHighlight(_this.id, datum);\n            }\n        });\n        if (!found) {\n            this.cursorManager.updateCursor('chart');\n            if (this.highlight.range === 'node') {\n                this.highlightManager.updateHighlight(this.id);\n            }\n        }\n    };\n    Chart.prototype.onClick = function (event) {\n        if (this.checkSeriesNodeClick(event)) {\n            this.update(ChartUpdateType.SERIES_UPDATE);\n            return;\n        }\n        this.fireEvent({\n            type: 'click',\n            event: event.sourceEvent,\n        });\n    };\n    Chart.prototype.onDoubleClick = function (event) {\n        if (this.checkSeriesNodeDoubleClick(event)) {\n            this.update(ChartUpdateType.SERIES_UPDATE);\n            return;\n        }\n        this.fireEvent({\n            type: 'doubleClick',\n            event: event.sourceEvent,\n        });\n    };\n    Chart.prototype.checkSeriesNodeClick = function (event) {\n        return this.checkSeriesNodeRange(event, function (series, datum) {\n            return series.fireNodeClickEvent(event.sourceEvent, datum);\n        });\n    };\n    Chart.prototype.checkSeriesNodeDoubleClick = function (event) {\n        return this.checkSeriesNodeRange(event, function (series, datum) {\n            return series.fireNodeDoubleClickEvent(event.sourceEvent, datum);\n        });\n    };\n    Chart.prototype.checkSeriesNodeRange = function (event, callback) {\n        var nearestNode = this.pickSeriesNode({ x: event.offsetX, y: event.offsetY }, false);\n        var datum = nearestNode === null || nearestNode === void 0 ? void 0 : nearestNode.datum;\n        var nodeClickRange = datum === null || datum === void 0 ? void 0 : datum.series.nodeClickRange;\n        // First check if we should trigger the callback based on nearest node\n        if (datum && nodeClickRange === 'nearest') {\n            callback(datum.series, datum);\n            return true;\n        }\n        // Then check for an exact match or within the given range\n        var pixelRange;\n        if (typeof nodeClickRange === 'number' && Number.isFinite(nodeClickRange)) {\n            pixelRange = nodeClickRange;\n        }\n        var pick = this.pickSeriesNode({ x: event.offsetX, y: event.offsetY }, nodeClickRange === 'exact', pixelRange);\n        if (!pick)\n            return false;\n        // Then if we've picked a node within the pixel range, or exactly, trigger the callback\n        var isPixelRange = pixelRange != null;\n        var exactlyMatched = nodeClickRange === 'exact' && pick.distance === 0;\n        if (isPixelRange || exactlyMatched) {\n            callback(pick.series, pick.datum);\n            return true;\n        }\n        return false;\n    };\n    Chart.prototype.mergePointerDatum = function (meta, datum) {\n        var type = datum.series.tooltip.position.type;\n        if (type === 'node' && datum.nodeMidPoint) {\n            var _a = datum.nodeMidPoint, x = _a.x, y = _a.y;\n            var canvas = this.scene.canvas;\n            var point = datum.series.rootGroup.inverseTransformPoint(x, y);\n            var canvasRect = canvas.element.getBoundingClientRect();\n            return __assign(__assign({}, meta), { pageX: Math.round(canvasRect.left + window.scrollX + point.x), pageY: Math.round(canvasRect.top + window.scrollY + point.y), offsetX: Math.round(point.x), offsetY: Math.round(point.y) });\n        }\n        return meta;\n    };\n    Chart.prototype.changeHighlightDatum = function (event) {\n        var seriesToUpdate = new Set();\n        var _a = event.currentHighlight || {}, _b = _a.series, newSeries = _b === void 0 ? undefined : _b, newDatum = _a.datum;\n        var _c = event.previousHighlight || {}, _d = _c.series, lastSeries = _d === void 0 ? undefined : _d, lastDatum = _c.datum;\n        if (lastSeries) {\n            seriesToUpdate.add(lastSeries);\n        }\n        if (newSeries) {\n            seriesToUpdate.add(newSeries);\n        }\n        // Adjust cursor if a specific datum is highlighted, rather than just a series.\n        if ((lastSeries === null || lastSeries === void 0 ? void 0 : lastSeries.cursor) && lastDatum) {\n            this.cursorManager.updateCursor(lastSeries.id);\n        }\n        if ((newSeries === null || newSeries === void 0 ? void 0 : newSeries.cursor) && newDatum) {\n            this.cursorManager.updateCursor(newSeries.id, newSeries.cursor);\n        }\n        this.lastPick = event.currentHighlight ? { datum: event.currentHighlight } : undefined;\n        var updateAll = newSeries == null || lastSeries == null;\n        if (updateAll) {\n            this.update(ChartUpdateType.SERIES_UPDATE);\n        }\n        else {\n            this.update(ChartUpdateType.SERIES_UPDATE, { seriesToUpdate: seriesToUpdate });\n        }\n    };\n    Chart.prototype.waitForUpdate = function (timeoutMs) {\n        if (timeoutMs === void 0) { timeoutMs = 5000; }\n        return __awaiter(this, void 0, void 0, function () {\n            var start;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        start = performance.now();\n                        _a.label = 1;\n                    case 1:\n                        if (!(this._pendingFactoryUpdates.length > 0 || this.updatePending)) return [3 /*break*/, 3];\n                        if (performance.now() - start > timeoutMs) {\n                            throw new Error('waitForUpdate() timeout reached.');\n                        }\n                        return [4 /*yield*/, sleep(5)];\n                    case 2:\n                        _a.sent();\n                        return [3 /*break*/, 1];\n                    case 3: return [4 /*yield*/, this.awaitUpdateCompletion()];\n                    case 4:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Chart.prototype.handleOverlays = function () {\n        this.handleNoDataOverlay();\n    };\n    Chart.prototype.handleNoDataOverlay = function () {\n        var shouldDisplayNoDataOverlay = !this.series.some(function (s) { return s.hasData(); });\n        var rect = this.getSeriesRect();\n        if (shouldDisplayNoDataOverlay && rect) {\n            this.overlays.noData.show(rect);\n        }\n        else {\n            this.overlays.noData.hide();\n        }\n    };\n    __decorate([\n        ActionOnSet({\n            newValue: function (value) {\n                this.scene.debug.consoleLog = value;\n            },\n        })\n    ], Chart.prototype, \"debug\", void 0);\n    __decorate([\n        ActionOnSet({\n            newValue: function (value) {\n                var _a;\n                (_a = this.series) === null || _a === void 0 ? void 0 : _a.forEach(function (series) { return (series.data = value); });\n            },\n        })\n    ], Chart.prototype, \"data\", void 0);\n    __decorate([\n        ActionOnSet({\n            newValue: function (value) {\n                this.autoSize = false;\n                this.resize(value, this.height);\n            },\n        })\n    ], Chart.prototype, \"width\", void 0);\n    __decorate([\n        ActionOnSet({\n            newValue: function (value) {\n                this.autoSize = false;\n                this.resize(this.width, value);\n            },\n        })\n    ], Chart.prototype, \"height\", void 0);\n    __decorate([\n        ActionOnSet({\n            changeValue: function (value) {\n                this.autoSizeChanged(value);\n            },\n        }),\n        Validate(BOOLEAN)\n    ], Chart.prototype, \"autoSize\", void 0);\n    __decorate([\n        ActionOnSet({\n            newValue: function (value) {\n                var _a;\n                (_a = this.scene.root) === null || _a === void 0 ? void 0 : _a.appendChild(value.node);\n            },\n            oldValue: function (oldValue) {\n                var _a;\n                (_a = this.scene.root) === null || _a === void 0 ? void 0 : _a.removeChild(oldValue.node);\n            },\n        })\n    ], Chart.prototype, \"title\", void 0);\n    __decorate([\n        ActionOnSet({\n            newValue: function (value) {\n                var _a;\n                (_a = this.scene.root) === null || _a === void 0 ? void 0 : _a.appendChild(value.node);\n            },\n            oldValue: function (oldValue) {\n                var _a;\n                (_a = this.scene.root) === null || _a === void 0 ? void 0 : _a.removeChild(oldValue.node);\n            },\n        })\n    ], Chart.prototype, \"subtitle\", void 0);\n    __decorate([\n        ActionOnSet({\n            newValue: function (value) {\n                var _a;\n                (_a = this.scene.root) === null || _a === void 0 ? void 0 : _a.appendChild(value.node);\n            },\n            oldValue: function (oldValue) {\n                var _a;\n                (_a = this.scene.root) === null || _a === void 0 ? void 0 : _a.removeChild(oldValue.node);\n            },\n        })\n    ], Chart.prototype, \"footnote\", void 0);\n    __decorate([\n        Validate(STRING_UNION('standalone', 'integrated'))\n    ], Chart.prototype, \"mode\", void 0);\n    return Chart;\n}(Observable));\nexport { Chart };\n", "/**\n * The tree layout is calculated in abstract x/y coordinates, where the root is at (0, 0)\n * and the tree grows downward from the root.\n */\nvar TreeNode = /** @class */ (function () {\n    function TreeNode(label, parent, number) {\n        if (label === void 0) { label = ''; }\n        if (number === void 0) { number = 0; }\n        this.x = 0;\n        this.y = 0;\n        this.subtreeLeft = NaN;\n        this.subtreeRight = NaN;\n        this.screenX = 0;\n        this.screenY = 0;\n        this.children = [];\n        this.leafCount = 0;\n        this.prelim = 0;\n        this.mod = 0;\n        this.ancestor = this;\n        this.change = 0;\n        this.shift = 0;\n        this.label = label;\n        // screenX and screenY are meant to be recomputed from (layout) x and y\n        // when the tree is resized (without performing another layout)\n        this.parent = parent;\n        this.depth = parent ? parent.depth + 1 : 0;\n        this.number = number;\n    }\n    TreeNode.prototype.getLeftSibling = function () {\n        return this.number > 0 && this.parent ? this.parent.children[this.number - 1] : undefined;\n    };\n    TreeNode.prototype.getLeftmostSibling = function () {\n        return this.number > 0 && this.parent ? this.parent.children[0] : undefined;\n    };\n    // traverse the left contour of a subtree, return the successor of v on this contour\n    TreeNode.prototype.nextLeft = function () {\n        return this.children ? this.children[0] : this.thread;\n    };\n    // traverse the right contour of a subtree, return the successor of v on this contour\n    TreeNode.prototype.nextRight = function () {\n        return this.children ? this.children[this.children.length - 1] : this.thread;\n    };\n    TreeNode.prototype.getSiblings = function () {\n        var _this = this;\n        return this.parent ? this.parent.children.filter(function (_, i) { return i !== _this.number; }) : [];\n    };\n    return TreeNode;\n}());\n/**\n * Converts an array of ticks, where each tick has an array of labels, to a label tree.\n * If `pad` is `true`, will ensure that every branch matches the depth of the tree by\n * creating empty labels.\n */\nexport function ticksToTree(ticks, pad) {\n    if (pad === void 0) { pad = true; }\n    var root = new TreeNode();\n    var depth = 0;\n    if (pad) {\n        ticks.forEach(function (tick) { return (depth = Math.max(depth, tick.labels.length)); });\n    }\n    ticks.forEach(function (tick) {\n        if (pad) {\n            while (tick.labels.length < depth) {\n                tick.labels.unshift('');\n            }\n        }\n        insertTick(root, tick);\n    });\n    return root;\n}\nfunction insertTick(root, tick) {\n    var pathParts = tick.labels.slice().reverse(); // path elements from root to leaf label\n    var lastPartIndex = pathParts.length - 1;\n    pathParts.forEach(function (pathPart, partIndex) {\n        var children = root.children;\n        var existingNode = children.find(function (child) { return child.label === pathPart; });\n        var isNotLeaf = partIndex !== lastPartIndex;\n        if (existingNode && isNotLeaf) {\n            // the isNotLeaf check is to allow duplicate leafs\n            root = existingNode;\n        }\n        else {\n            var node = new TreeNode(pathPart, root);\n            node.number = children.length;\n            children.push(node);\n            if (isNotLeaf) {\n                root = node;\n            }\n        }\n    });\n}\n// Shift the subtree.\nfunction moveSubtree(wm, wp, shift) {\n    var subtrees = wp.number - wm.number;\n    var ratio = shift / subtrees;\n    wp.change -= ratio;\n    wp.shift += shift;\n    wm.change += ratio;\n    wp.prelim += shift;\n    wp.mod += shift;\n}\nfunction ancestor(vim, v, defaultAncestor) {\n    return v.getSiblings().indexOf(vim.ancestor) >= 0 ? vim.ancestor : defaultAncestor;\n}\n// Spaces out the children.\nfunction executeShifts(v) {\n    var children = v.children;\n    if (children) {\n        var shift = 0;\n        var change = 0;\n        for (var i = children.length - 1; i >= 0; i--) {\n            var w = children[i];\n            w.prelim += shift;\n            w.mod += shift;\n            change += w.change;\n            shift += w.shift + change;\n        }\n    }\n}\n// Moves current subtree with v as the root if some nodes are conflicting in space.\nfunction apportion(v, defaultAncestor, distance) {\n    var w = v.getLeftSibling();\n    if (w) {\n        var vop = v;\n        var vip = v;\n        var vim = w;\n        var vom = vip.getLeftmostSibling();\n        var sip = vip.mod;\n        var sop = vop.mod;\n        var sim = vim.mod;\n        var som = vom.mod;\n        while (vim.nextRight() && vip.nextLeft()) {\n            vim = vim.nextRight();\n            vip = vip.nextLeft();\n            vom = vom.nextLeft();\n            vop = vop.nextRight();\n            vop.ancestor = v;\n            var shift = vim.prelim + sim - (vip.prelim + sip) + distance;\n            if (shift > 0) {\n                moveSubtree(ancestor(vim, v, defaultAncestor), v, shift);\n                sip += shift;\n                sop += shift;\n            }\n            sim += vim.mod;\n            sip += vip.mod;\n            som += vom.mod;\n            sop += vop.mod;\n        }\n        if (vim.nextRight() && !vop.nextRight()) {\n            vop.thread = vim.nextRight();\n            vop.mod += sim - sop;\n        }\n        else {\n            if (vip.nextLeft() && !vom.nextLeft()) {\n                vom.thread = vip.nextLeft();\n                vom.mod += sip - som;\n            }\n            defaultAncestor = v;\n        }\n    }\n    return defaultAncestor;\n}\n// Compute the preliminary x-coordinate of node and its children (recursively).\nfunction firstWalk(node, distance) {\n    var children = node.children;\n    if (children.length) {\n        var defaultAncestor_1 = children[0];\n        children.forEach(function (child) {\n            firstWalk(child, distance);\n            defaultAncestor_1 = apportion(child, defaultAncestor_1, distance);\n        });\n        executeShifts(node);\n        var midpoint = (children[0].prelim + children[children.length - 1].prelim) / 2;\n        var leftSibling = node.getLeftSibling();\n        if (leftSibling) {\n            node.prelim = leftSibling.prelim + distance;\n            node.mod = node.prelim - midpoint;\n        }\n        else {\n            node.prelim = midpoint;\n        }\n    }\n    else {\n        var leftSibling = node.getLeftSibling();\n        node.prelim = leftSibling ? leftSibling.prelim + distance : 0;\n    }\n}\nvar Dimensions = /** @class */ (function () {\n    function Dimensions() {\n        this.top = Infinity;\n        this.right = -Infinity;\n        this.bottom = -Infinity;\n        this.left = Infinity;\n    }\n    Dimensions.prototype.update = function (node, xy) {\n        var _a = xy(node), x = _a.x, y = _a.y;\n        if (x > this.right) {\n            this.right = x;\n        }\n        if (x < this.left) {\n            this.left = x;\n        }\n        if (y > this.bottom) {\n            this.bottom = y;\n        }\n        if (y < this.top) {\n            this.top = y;\n        }\n    };\n    return Dimensions;\n}());\nfunction secondWalk(v, m, layout) {\n    v.x = v.prelim + m;\n    v.y = v.depth;\n    layout.update(v);\n    v.children.forEach(function (w) { return secondWalk(w, m + v.mod, layout); });\n}\n// After the second walk the parent nodes are positioned at the center of their immediate children.\n// If we want the parent nodes to be positioned at the center of the subtree for which they are roots,\n// we need a third walk to adjust the positions.\nfunction thirdWalk(v) {\n    var children = v.children;\n    var leafCount = 0;\n    children.forEach(function (w) {\n        thirdWalk(w);\n        if (w.children.length) {\n            leafCount += w.leafCount;\n        }\n        else {\n            leafCount++;\n        }\n    });\n    v.leafCount = leafCount;\n    if (children.length) {\n        v.subtreeLeft = children[0].subtreeLeft;\n        v.subtreeRight = children[v.children.length - 1].subtreeRight;\n        v.x = (v.subtreeLeft + v.subtreeRight) / 2;\n    }\n    else {\n        v.subtreeLeft = v.x;\n        v.subtreeRight = v.x;\n    }\n}\nexport function treeLayout(root) {\n    var layout = new TreeLayout();\n    firstWalk(root, 1);\n    secondWalk(root, -root.prelim, layout);\n    thirdWalk(root);\n    return layout;\n}\nvar TreeLayout = /** @class */ (function () {\n    function TreeLayout() {\n        this.dimensions = new Dimensions();\n        this.leafCount = 0;\n        this.nodes = [];\n        // One might want to process leaf nodes separately from the rest of the tree.\n        // For example, position labels corresponding to leafs vertically, rather than horizontally.\n        this.leafNodes = [];\n        this.nonLeafNodes = [];\n        this.depth = 0;\n    }\n    TreeLayout.prototype.update = function (node) {\n        this.dimensions.update(node, function (node) { return ({ x: node.x, y: node.y }); });\n        if (!node.children.length) {\n            this.leafCount++;\n            this.leafNodes.push(node);\n        }\n        else {\n            this.nonLeafNodes.push(node);\n        }\n        if (node.depth > this.depth) {\n            this.depth = node.depth;\n        }\n        this.nodes.push(node);\n    };\n    TreeLayout.prototype.resize = function (width, height, shiftX, shiftY, flipX) {\n        if (shiftX === void 0) { shiftX = 0; }\n        if (shiftY === void 0) { shiftY = 0; }\n        if (flipX === void 0) { flipX = false; }\n        var xSteps = this.leafCount - 1;\n        var ySteps = this.depth;\n        var dimensions = this.dimensions;\n        var scalingX = 1;\n        var scalingY = 1;\n        if (width > 0 && xSteps) {\n            var existingSpacingX = (dimensions.right - dimensions.left) / xSteps;\n            var desiredSpacingX = width / xSteps;\n            scalingX = desiredSpacingX / existingSpacingX;\n            if (flipX) {\n                scalingX = -scalingX;\n            }\n        }\n        if (height > 0 && ySteps) {\n            var existingSpacingY = (dimensions.bottom - dimensions.top) / ySteps;\n            var desiredSpacingY = height / ySteps;\n            scalingY = desiredSpacingY / existingSpacingY;\n        }\n        var screenDimensions = new Dimensions();\n        this.nodes.forEach(function (node) {\n            node.screenX = node.x * scalingX;\n            node.screenY = node.y * scalingY;\n            screenDimensions.update(node, function (node) { return ({ x: node.screenX, y: node.screenY }); });\n        });\n        // Normalize so that root top and leftmost leaf left start at zero.\n        var offsetX = -screenDimensions.left;\n        var offsetY = -screenDimensions.top;\n        this.nodes.forEach(function (node) {\n            node.screenX += offsetX + shiftX;\n            node.screenY += offsetY + shiftY;\n        });\n    };\n    return TreeLayout;\n}());\nexport { TreeLayout };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { Selection } from '../../scene/selection';\nimport { Line } from '../../scene/shape/line';\nimport { normalizeAngle360, toRadians } from '../../util/angle';\nimport { Text } from '../../scene/shape/text';\nimport { BandScale } from '../../scale/bandScale';\nimport { ticksToTree, treeLayout } from '../../layout/tree';\nimport { AxisLabel, AxisLine } from '../../axis';\nimport { ChartAxis } from '../chartAxis';\nimport { ChartAxisDirection } from '../chartAxisDirection';\nimport { extent } from '../../util/array';\nimport { BOOLEAN, OPT_COLOR_STRING, Validate } from '../../util/validation';\nimport { calculateLabelRotation } from '../label';\nvar GroupedCategoryAxisLabel = /** @class */ (function (_super) {\n    __extends(GroupedCategoryAxisLabel, _super);\n    function GroupedCategoryAxisLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.grid = false;\n        return _this;\n    }\n    __decorate([\n        Validate(BOOLEAN)\n    ], GroupedCategoryAxisLabel.prototype, \"grid\", void 0);\n    return GroupedCategoryAxisLabel;\n}(AxisLabel));\nvar GroupedCategoryAxis = /** @class */ (function (_super) {\n    __extends(GroupedCategoryAxis, _super);\n    function GroupedCategoryAxis(moduleCtx) {\n        var _this = _super.call(this, moduleCtx, new BandScale()) || this;\n        // Label scale (labels are positioned between ticks, tick count = label count + 1).\n        // We don't call is `labelScale` for consistency with other axes.\n        _this.tickScale = new BandScale();\n        _this.translation = {\n            x: 0,\n            y: 0,\n        };\n        _this.line = new AxisLine();\n        _this.label = new GroupedCategoryAxisLabel();\n        /**\n         * The color of the labels.\n         * Use `undefined` rather than `rgba(0, 0, 0, 0)` to make labels invisible.\n         */\n        _this.labelColor = 'rgba(87, 87, 87, 1)';\n        _this.includeInvisibleDomains = true;\n        var _a = _this, tickLineGroup = _a.tickLineGroup, tickLabelGroup = _a.tickLabelGroup, gridLineGroup = _a.gridLineGroup, tickScale = _a.tickScale, scale = _a.scale;\n        scale.paddingOuter = 0.1;\n        scale.paddingInner = scale.paddingOuter * 2;\n        _this.requestedRange = scale.range.slice();\n        _this.refreshScale();\n        tickScale.paddingInner = 1;\n        tickScale.paddingOuter = 0;\n        _this.gridLineSelection = Selection.select(gridLineGroup, Line);\n        _this.axisLineSelection = Selection.select(tickLineGroup, Line);\n        _this.separatorSelection = Selection.select(tickLineGroup, Line);\n        _this.labelSelection = Selection.select(tickLabelGroup, Text);\n        return _this;\n    }\n    Object.defineProperty(GroupedCategoryAxis.prototype, \"range\", {\n        get: function () {\n            return this.requestedRange.slice();\n        },\n        set: function (value) {\n            this.requestedRange = value.slice();\n            this.updateRange();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GroupedCategoryAxis.prototype.updateRange = function () {\n        var _a = this, rr = _a.requestedRange, vr = _a.visibleRange, scale = _a.scale;\n        var span = (rr[1] - rr[0]) / (vr[1] - vr[0]);\n        var shift = span * vr[0];\n        var start = rr[0] - shift;\n        this.tickScale.range = scale.range = [start, start + span];\n        this.resizeTickTree();\n    };\n    GroupedCategoryAxis.prototype.resizeTickTree = function () {\n        var s = this.scale;\n        var range = s.domain.length ? [s.convert(s.domain[0]), s.convert(s.domain[s.domain.length - 1])] : s.range;\n        var layout = this.tickTreeLayout;\n        var lineHeight = this.lineHeight;\n        if (layout) {\n            layout.resize(Math.abs(range[1] - range[0]), layout.depth * lineHeight, (Math.min(range[0], range[1]) || 0) + (s.bandwidth || 0) / 2, -layout.depth * lineHeight, range[1] - range[0] < 0);\n        }\n    };\n    Object.defineProperty(GroupedCategoryAxis.prototype, \"lineHeight\", {\n        get: function () {\n            return this.label.fontSize * 1.5;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GroupedCategoryAxis.prototype, \"gridLength\", {\n        get: function () {\n            return this._gridLength;\n        },\n        /**\n         * The length of the grid. The grid is only visible in case of a non-zero value.\n         */\n        set: function (value) {\n            // Was visible and now invisible, or was invisible and now visible.\n            if ((this._gridLength && !value) || (!this._gridLength && value)) {\n                this.gridLineSelection.clear();\n                this.labelSelection.clear();\n            }\n            this._gridLength = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GroupedCategoryAxis.prototype.calculateDomain = function () {\n        var _a;\n        var _b = this, direction = _b.direction, boundSeries = _b.boundSeries;\n        var domains = [];\n        var isNumericX = undefined;\n        boundSeries\n            .filter(function (s) { return s.visible; })\n            .forEach(function (series) {\n            if (direction === ChartAxisDirection.X) {\n                if (isNumericX === undefined) {\n                    // always add first X domain\n                    var domain_1 = series.getDomain(direction);\n                    domains.push(domain_1);\n                    isNumericX = typeof domain_1[0] === 'number';\n                }\n                else if (isNumericX) {\n                    // only add further X domains if the axis is numeric\n                    domains.push(series.getDomain(direction));\n                }\n            }\n            else {\n                domains.push(series.getDomain(direction));\n            }\n        });\n        var domain = (_a = new Array()).concat.apply(_a, __spread(domains));\n        var values = extent(domain) || domain;\n        this.dataDomain = this.normaliseDataDomain(values);\n    };\n    GroupedCategoryAxis.prototype.normaliseDataDomain = function (d) {\n        // Prevent duplicate categories.\n        var values = d.filter(function (s, i, arr) { return arr.indexOf(s) === i; });\n        var tickTree = ticksToTree(values);\n        this.tickTreeLayout = treeLayout(tickTree);\n        var tickScaleDomain = values.slice();\n        tickScaleDomain.push('');\n        this.tickScale.domain = tickScaleDomain;\n        this.resizeTickTree();\n        return values;\n    };\n    /**\n     * Creates/removes/updates the scene graph nodes that constitute the axis.\n     * Supposed to be called _manually_ after changing _any_ of the axis properties.\n     * This allows to bulk set axis properties before updating the nodes.\n     * The node changes made by this method are rendered on the next animation frame.\n     * We could schedule this method call automatically on the next animation frame\n     * when any of the axis properties change (the way we do when properties of scene graph's\n     * nodes change), but this will mean that we first wait for the next animation\n     * frame to make changes to the nodes of the axis, then wait for another animation\n     * frame to render those changes. It's nice to have everything update automatically,\n     * but this extra level of async indirection will not just introduce an unwanted delay,\n     * it will also make it harder to reason about the program.\n     */\n    GroupedCategoryAxis.prototype.update = function (primaryTickCount) {\n        var _this = this;\n        this.calculateDomain();\n        var _a = this, scale = _a.scale, label = _a.label, parallel = _a.label.parallel, tickScale = _a.tickScale, requestedRange = _a.requestedRange;\n        scale.domain = this.dataDomain;\n        var rangeStart = scale.range[0];\n        var rangeEnd = scale.range[1];\n        var rangeLength = Math.abs(rangeEnd - rangeStart);\n        var bandwidth = rangeLength / scale.domain.length || 0;\n        var rotation = toRadians(this.rotation);\n        var isHorizontal = Math.abs(Math.cos(rotation)) < 1e-8;\n        this.updatePosition();\n        var title = this.title;\n        // The Text `node` of the Caption is not used to render the title of the grouped category axis.\n        // The phantom root of the tree layout is used instead.\n        if (title) {\n            title.node.visible = false;\n        }\n        var lineHeight = this.lineHeight;\n        // Render ticks and labels.\n        var tickTreeLayout = this.tickTreeLayout;\n        var labels = scale.ticks();\n        var treeLabels = tickTreeLayout ? tickTreeLayout.nodes : [];\n        var isLabelTree = tickTreeLayout ? tickTreeLayout.depth > 1 : false;\n        var ticks = tickScale.ticks();\n        // The side of the axis line to position the labels on.\n        // -1 = left (default)\n        //  1 = right\n        var sideFlag = label.mirrored ? 1 : -1;\n        // When labels are parallel to the axis line, the `parallelFlipFlag` is used to\n        // flip the labels to avoid upside-down text, when the axis is rotated\n        // such that it is in the right hemisphere, i.e. the angle of rotation\n        // is in the [0, π] interval.\n        // The rotation angle is normalized, so that we have an easier time checking\n        // if it's in the said interval. Since the axis is always rendered vertically\n        // and then rotated, zero rotation means 12 (not 3) o-clock.\n        // -1 = flip\n        //  1 = don't flip (default)\n        var _b = calculateLabelRotation({\n            rotation: label.rotation,\n            parallel: parallel,\n            regularFlipRotation: normalizeAngle360(rotation - Math.PI / 2),\n            parallelFlipRotation: normalizeAngle360(rotation),\n        }), autoRotation = _b.autoRotation, labelRotation = _b.labelRotation, parallelFlipFlag = _b.parallelFlipFlag;\n        var gridLineSelection = this.gridLineSelection.update(this.gridLength ? ticks : []);\n        var labelSelection = this.labelSelection.update(treeLabels);\n        var labelFormatter = label.formatter;\n        var labelBBoxes = new Map();\n        var maxLeafLabelWidth = 0;\n        labelSelection.each(function (node, datum, index) {\n            node.fontStyle = label.fontStyle;\n            node.fontWeight = label.fontWeight;\n            node.fontSize = label.fontSize;\n            node.fontFamily = label.fontFamily;\n            node.fill = label.color;\n            node.textBaseline = parallelFlipFlag === -1 ? 'bottom' : 'hanging';\n            node.textAlign = 'center';\n            node.translationX = datum.screenY - label.fontSize * 0.25;\n            node.translationY = datum.screenX;\n            if (index === 0) {\n                // use the phantom root as the axis title\n                if (title && title.enabled && labels.length > 0) {\n                    node.visible = true;\n                    node.text = title.text;\n                    node.fontSize = title.fontSize;\n                    node.fontStyle = title.fontStyle;\n                    node.fontWeight = title.fontWeight;\n                    node.fontFamily = title.fontFamily;\n                    node.textBaseline = 'hanging';\n                }\n                else {\n                    node.visible = false;\n                }\n            }\n            else {\n                node.text = labelFormatter\n                    ? labelFormatter({\n                        value: String(datum.label),\n                        index: index,\n                    })\n                    : String(datum.label);\n                node.visible = datum.screenX >= requestedRange[0] && datum.screenX <= requestedRange[1];\n            }\n            var bbox = node.computeBBox();\n            labelBBoxes.set(node.id, bbox);\n            if (bbox.width > maxLeafLabelWidth) {\n                maxLeafLabelWidth = bbox.width;\n            }\n        });\n        var labelX = sideFlag * label.padding;\n        var labelGrid = this.label.grid;\n        var separatorData = [];\n        labelSelection.each(function (label, datum, index) {\n            label.x = labelX;\n            label.rotationCenterX = labelX;\n            if (!datum.children.length) {\n                label.rotation = labelRotation;\n                label.textAlign = 'end';\n                label.textBaseline = 'middle';\n                var bbox = labelBBoxes.get(label.id);\n                if (bbox && bbox.height > bandwidth) {\n                    label.visible = false;\n                }\n            }\n            else {\n                label.translationX -= maxLeafLabelWidth - lineHeight + _this.label.padding;\n                var availableRange = datum.leafCount * bandwidth;\n                var bbox = labelBBoxes.get(label.id);\n                if (bbox && bbox.width > availableRange) {\n                    label.visible = false;\n                }\n                else if (isHorizontal) {\n                    label.rotation = autoRotation;\n                }\n                else {\n                    label.rotation = -Math.PI / 2;\n                }\n            }\n            // Calculate positions of label separators for all nodes except the root.\n            // Each separator is placed to the top of the current label.\n            if (datum.parent && isLabelTree) {\n                var y = !datum.children.length\n                    ? datum.screenX - bandwidth / 2\n                    : datum.screenX - (datum.leafCount * bandwidth) / 2;\n                if (!datum.children.length) {\n                    if (datum.number !== datum.children.length - 1 || labelGrid) {\n                        separatorData.push({\n                            y: y,\n                            x1: 0,\n                            x2: -maxLeafLabelWidth - _this.label.padding * 2,\n                            toString: function () { return String(index); },\n                        });\n                    }\n                }\n                else {\n                    var x = -maxLeafLabelWidth - _this.label.padding * 2 + datum.screenY;\n                    separatorData.push({\n                        y: y,\n                        x1: x + lineHeight,\n                        x2: x,\n                        toString: function () { return String(index); },\n                    });\n                }\n            }\n        });\n        // Calculate the position of the long separator on the far bottom of the axis.\n        var minX = 0;\n        separatorData.forEach(function (d) { return (minX = Math.min(minX, d.x2)); });\n        separatorData.push({\n            y: Math.max(rangeStart, rangeEnd),\n            x1: 0,\n            x2: minX,\n            toString: function () { return String(separatorData.length); },\n        });\n        var separatorSelection = this.separatorSelection.update(separatorData);\n        var epsilon = 0.0000001;\n        separatorSelection.each(function (line, datum) {\n            line.x1 = datum.x1;\n            line.x2 = datum.x2;\n            line.y1 = datum.y;\n            line.y2 = datum.y;\n            line.visible = datum.y >= requestedRange[0] - epsilon && datum.y <= requestedRange[1] + epsilon;\n            line.stroke = _this.tick.color;\n            line.fill = undefined;\n            line.strokeWidth = 1;\n        });\n        this.gridLineSelection = gridLineSelection;\n        this.labelSelection = labelSelection;\n        // Render axis lines.\n        var lineCount = tickTreeLayout ? tickTreeLayout.depth + 1 : 1;\n        var lines = [];\n        for (var i = 0; i < lineCount; i++) {\n            lines.push(i);\n        }\n        var axisLineSelection = this.axisLineSelection.update(lines);\n        axisLineSelection.each(function (line, _, index) {\n            var x = index > 0 ? -maxLeafLabelWidth - _this.label.padding * 2 - (index - 1) * lineHeight : 0;\n            line.x1 = x;\n            line.x2 = x;\n            line.y1 = requestedRange[0];\n            line.y2 = requestedRange[1];\n            line.strokeWidth = _this.line.width;\n            line.stroke = _this.line.color;\n            line.visible = labels.length > 0 && (index === 0 || (labelGrid && isLabelTree));\n        });\n        if (this.gridLength) {\n            var styles_1 = this.gridStyle;\n            var styleCount_1 = styles_1.length;\n            gridLineSelection.each(function (line, datum, index) {\n                var y = Math.round(tickScale.convert(datum));\n                line.x1 = 0;\n                line.x2 = -sideFlag * _this.gridLength;\n                line.y1 = y;\n                line.y2 = y;\n                line.visible = y >= requestedRange[0] && y <= requestedRange[1];\n                var style = styles_1[index % styleCount_1];\n                line.stroke = style.stroke;\n                line.strokeWidth = _this.tick.width;\n                line.lineDash = style.lineDash;\n                line.fill = undefined;\n            });\n        }\n        return primaryTickCount;\n    };\n    GroupedCategoryAxis.className = 'GroupedCategoryAxis';\n    GroupedCategoryAxis.type = 'groupedCategory';\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], GroupedCategoryAxis.prototype, \"labelColor\", void 0);\n    return GroupedCategoryAxis;\n}(ChartAxis));\nexport { GroupedCategoryAxis };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { Chart } from './chart';\nimport { CategoryAxis } from './axis/categoryAxis';\nimport { GroupedCategoryAxis } from './axis/groupedCategoryAxis';\nimport { ChartAxisDirection } from './chartAxisDirection';\nimport { Logger } from '../util/logger';\nvar directions = ['top', 'right', 'bottom', 'left'];\nvar CartesianChart = /** @class */ (function (_super) {\n    __extends(CartesianChart, _super);\n    function CartesianChart(document, overrideDevicePixelRatio, resources) {\n        if (document === void 0) { document = window.document; }\n        var _this = _super.call(this, document, overrideDevicePixelRatio, resources) || this;\n        /** Integrated Charts feature state - not used in Standalone Charts. */\n        _this.paired = true;\n        _this._lastAxisWidths = {\n            top: 0,\n            bottom: 0,\n            left: 0,\n            right: 0,\n        };\n        _this._lastVisibility = {\n            crossLines: true,\n            series: true,\n        };\n        var root = _this.scene.root;\n        _this.legend.attachLegend(root);\n        return _this;\n    }\n    CartesianChart.prototype.performLayout = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var shrinkRect, _a, seriesRect, visibility, clipSeries, _b, seriesRoot, seriesAreaPadding, seriesPaddedRect, hoverRectPadding, hoverRect;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0: return [4 /*yield*/, _super.prototype.performLayout.call(this)];\n                    case 1:\n                        shrinkRect = _c.sent();\n                        _a = this.updateAxes(shrinkRect), seriesRect = _a.seriesRect, visibility = _a.visibility, clipSeries = _a.clipSeries;\n                        this.seriesRoot.visible = visibility.series;\n                        this.seriesRect = seriesRect;\n                        this.series.forEach(function (series) {\n                            series.rootGroup.translationX = Math.floor(seriesRect.x);\n                            series.rootGroup.translationY = Math.floor(seriesRect.y);\n                        });\n                        _b = this, seriesRoot = _b.seriesRoot, seriesAreaPadding = _b.seriesAreaPadding;\n                        seriesPaddedRect = seriesRect.clone().grow(seriesAreaPadding);\n                        hoverRectPadding = 20;\n                        hoverRect = seriesPaddedRect.clone().grow(hoverRectPadding);\n                        this.hoverRect = hoverRect;\n                        this.layoutService.dispatchLayoutComplete({\n                            type: 'layout-complete',\n                            chart: { width: this.scene.width, height: this.scene.height },\n                            series: { rect: seriesRect, paddedRect: seriesPaddedRect, hoverRect: hoverRect, visible: visibility.series },\n                            axes: this.axes.map(function (axis) { return (__assign({ id: axis.id }, axis.getLayoutState())); }),\n                        });\n                        if (clipSeries) {\n                            seriesRoot.setClipRectInGroupCoordinateSpace(seriesPaddedRect);\n                        }\n                        else {\n                            seriesRoot.setClipRectInGroupCoordinateSpace();\n                        }\n                        return [2 /*return*/, shrinkRect];\n                }\n            });\n        });\n    };\n    CartesianChart.prototype.updateAxes = function (inputShrinkRect) {\n        var e_1, _a;\n        var _b;\n        // Start with a good approximation from the last update - this should mean that in many resize\n        // cases that only a single pass is needed \\o/.\n        var axisWidths = __assign({}, this._lastAxisWidths);\n        var visibility = __assign({}, this._lastVisibility);\n        // Clean any positions which aren't valid with the current axis status (otherwise we end up\n        // never being able to find a stable result).\n        var liveAxisWidths = new Set(this._axes.map(function (a) { return a.position; }));\n        try {\n            for (var _c = __values(Object.keys(axisWidths)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var position = _d.value;\n                if (!liveAxisWidths.has(position)) {\n                    delete axisWidths[position];\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        var stableOutputs = function (otherAxisWidths, otherVisibility) {\n            // Check for new axis positions.\n            if (Object.keys(otherAxisWidths).some(function (k) { return axisWidths[k] == null; })) {\n                return false;\n            }\n            return (visibility.crossLines === otherVisibility.crossLines &&\n                visibility.series === otherVisibility.series &&\n                // Check for existing axis positions and equality.\n                Object.entries(axisWidths).every(function (_a) {\n                    var _b = __read(_a, 2), p = _b[0], w = _b[1];\n                    var otherW = otherAxisWidths[p];\n                    if (w != null || otherW != null) {\n                        return w === otherW;\n                    }\n                    return true;\n                }));\n        };\n        var ceilValues = function (records) {\n            return Object.entries(records).reduce(function (out, _a) {\n                var _b = __read(_a, 2), key = _b[0], value = _b[1];\n                if (value && Math.abs(value) === Infinity) {\n                    value = 0;\n                }\n                out[key] = value != null ? Math.ceil(value) : value;\n                return out;\n            }, {});\n        };\n        // Iteratively try to resolve axis widths - since X axis width affects Y axis range,\n        // and vice-versa, we need to iteratively try and find a fit for the axes and their\n        // ticks/labels.\n        var lastPassAxisWidths = {};\n        var lastPassVisibility = {};\n        var clipSeries = false;\n        var seriesRect = (_b = this.seriesRect) === null || _b === void 0 ? void 0 : _b.clone();\n        var count = 0;\n        do {\n            Object.assign(axisWidths, lastPassAxisWidths);\n            Object.assign(visibility, lastPassVisibility);\n            var result = this.updateAxesPass(axisWidths, inputShrinkRect.clone(), seriesRect);\n            lastPassAxisWidths = ceilValues(result.axisWidths);\n            lastPassVisibility = result.visibility;\n            clipSeries = result.clipSeries;\n            seriesRect = result.seriesRect;\n            if (count++ > 10) {\n                Logger.warn('unable to find stable axis layout.');\n                break;\n            }\n        } while (!stableOutputs(lastPassAxisWidths, lastPassVisibility));\n        var clipRectPadding = 5;\n        this.axes.forEach(function (axis) {\n            // update visibility of crosslines\n            axis.setCrossLinesVisible(visibility.crossLines);\n            if (!seriesRect) {\n                return;\n            }\n            axis.clipGrid(seriesRect.x, seriesRect.y, seriesRect.width + clipRectPadding, seriesRect.height + clipRectPadding);\n            switch (axis.position) {\n                case 'left':\n                case 'right':\n                    axis.clipTickLines(inputShrinkRect.x, seriesRect.y, inputShrinkRect.width + clipRectPadding, seriesRect.height + clipRectPadding);\n                    break;\n                case 'top':\n                case 'bottom':\n                    axis.clipTickLines(seriesRect.x, inputShrinkRect.y, seriesRect.width + clipRectPadding, inputShrinkRect.height + clipRectPadding);\n                    break;\n            }\n        });\n        this._lastAxisWidths = axisWidths;\n        this._lastVisibility = visibility;\n        return { seriesRect: seriesRect, visibility: visibility, clipSeries: clipSeries };\n    };\n    CartesianChart.prototype.updateAxesPass = function (axisWidths, bounds, lastPassSeriesRect) {\n        var _this = this;\n        var axes = this.axes;\n        var visited = {};\n        var newAxisWidths = {};\n        var visibility = {\n            series: true,\n            crossLines: true,\n        };\n        var clipSeries = false;\n        var primaryTickCounts = {};\n        var paddedBounds = this.applySeriesPadding(bounds);\n        var crossLinePadding = lastPassSeriesRect ? this.buildCrossLinePadding(lastPassSeriesRect, axisWidths) : {};\n        var axisBound = this.buildAxisBound(paddedBounds, axisWidths, crossLinePadding, visibility);\n        var seriesRect = this.buildSeriesRect(axisBound, axisWidths);\n        // Set the number of ticks for continuous axes based on the available range\n        // before updating the axis domain via `this.updateAxes()` as the tick count has an effect on the calculated `nice` domain extent\n        axes.forEach(function (axis) {\n            var _a, _b;\n            var position = axis.position;\n            var _c = _this.calculateAxisDimensions({\n                axis: axis,\n                seriesRect: seriesRect,\n                axisWidths: axisWidths,\n                newAxisWidths: newAxisWidths,\n                primaryTickCounts: primaryTickCounts,\n                clipSeries: clipSeries,\n                addInterAxisPadding: ((_a = visited[position]) !== null && _a !== void 0 ? _a : 0) > 0,\n            }), newClipSeries = _c.clipSeries, axisThickness = _c.axisThickness, axisOffset = _c.axisOffset;\n            visited[position] = ((_b = visited[position]) !== null && _b !== void 0 ? _b : 0) + 1;\n            clipSeries = clipSeries || newClipSeries;\n            _this.positionAxis({\n                axis: axis,\n                axisBound: axisBound,\n                axisOffset: axisOffset,\n                axisThickness: axisThickness,\n                axisWidths: axisWidths,\n                primaryTickCounts: primaryTickCounts,\n                seriesRect: seriesRect,\n            });\n        });\n        return { clipSeries: clipSeries, seriesRect: seriesRect, axisWidths: newAxisWidths, visibility: visibility };\n    };\n    CartesianChart.prototype.buildCrossLinePadding = function (lastPassSeriesRect, axisWidths) {\n        var e_2, _a;\n        var _b;\n        var crossLinePadding = {};\n        this.axes.forEach(function (axis) {\n            if (axis.crossLines) {\n                axis.crossLines.forEach(function (crossLine) {\n                    crossLine.calculatePadding(crossLinePadding, lastPassSeriesRect);\n                });\n            }\n        });\n        try {\n            // Reduce cross-line padding to account for overlap with axes.\n            for (var _c = __values(Object.entries(crossLinePadding)), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var _e = __read(_d.value, 2), side = _e[0], _f = _e[1], padding = _f === void 0 ? 0 : _f;\n                crossLinePadding[side] = Math.max(padding - ((_b = axisWidths[side]) !== null && _b !== void 0 ? _b : 0), 0);\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        return crossLinePadding;\n    };\n    CartesianChart.prototype.applySeriesPadding = function (bounds) {\n        var _this = this;\n        var paddedRect = bounds.clone();\n        var reversedAxes = this.axes.slice().reverse();\n        directions.forEach(function (dir) {\n            var padding = _this.seriesAreaPadding[dir];\n            var axis = reversedAxes.find(function (axis) { return axis.position === dir; });\n            if (axis) {\n                axis.seriesAreaPadding = padding;\n            }\n            else {\n                paddedRect.shrink(padding, dir);\n            }\n        });\n        return paddedRect;\n    };\n    CartesianChart.prototype.buildAxisBound = function (bounds, axisWidths, crossLinePadding, visibility) {\n        var _a, _b, _c, _d;\n        var result = bounds.clone();\n        var _e = crossLinePadding.top, top = _e === void 0 ? 0 : _e, _f = crossLinePadding.right, right = _f === void 0 ? 0 : _f, _g = crossLinePadding.bottom, bottom = _g === void 0 ? 0 : _g, _h = crossLinePadding.left, left = _h === void 0 ? 0 : _h;\n        var horizontalPadding = left + right;\n        var verticalPadding = top + bottom;\n        var totalWidth = ((_a = axisWidths.left) !== null && _a !== void 0 ? _a : 0) + ((_b = axisWidths.right) !== null && _b !== void 0 ? _b : 0) + horizontalPadding;\n        var totalHeight = ((_c = axisWidths.top) !== null && _c !== void 0 ? _c : 0) + ((_d = axisWidths.bottom) !== null && _d !== void 0 ? _d : 0) + verticalPadding;\n        if (result.width <= totalWidth || result.height <= totalHeight) {\n            // Not enough space for crossLines and series\n            visibility.crossLines = false;\n            visibility.series = false;\n            return result;\n        }\n        result.x += left;\n        result.y += top;\n        result.width -= horizontalPadding;\n        result.height -= verticalPadding;\n        return result;\n    };\n    CartesianChart.prototype.buildSeriesRect = function (axisBound, axisWidths) {\n        var result = axisBound.clone();\n        var top = axisWidths.top, bottom = axisWidths.bottom, left = axisWidths.left, right = axisWidths.right;\n        result.x += left !== null && left !== void 0 ? left : 0;\n        result.y += top !== null && top !== void 0 ? top : 0;\n        result.width -= (left !== null && left !== void 0 ? left : 0) + (right !== null && right !== void 0 ? right : 0);\n        result.height -= (top !== null && top !== void 0 ? top : 0) + (bottom !== null && bottom !== void 0 ? bottom : 0);\n        // Width and height should not be negative.\n        result.width = Math.max(0, result.width);\n        result.height = Math.max(0, result.height);\n        return result;\n    };\n    CartesianChart.prototype.clampToOutsideSeriesRect = function (seriesRect, value, dimension, direction) {\n        var x = seriesRect.x, y = seriesRect.y, width = seriesRect.width, height = seriesRect.height;\n        var clampBounds = [x, y, x + width, y + height];\n        var fn = direction === 1 ? Math.min : Math.max;\n        var compareTo = clampBounds[(dimension === 'x' ? 0 : 1) + (direction === 1 ? 0 : 2)];\n        return fn(value, compareTo);\n    };\n    CartesianChart.prototype.calculateAxisDimensions = function (opts) {\n        var _a, _b, _c, _d, _e, _f;\n        var axis = opts.axis, seriesRect = opts.seriesRect, axisWidths = opts.axisWidths, newAxisWidths = opts.newAxisWidths, primaryTickCounts = opts.primaryTickCounts, addInterAxisPadding = opts.addInterAxisPadding;\n        var clipSeries = opts.clipSeries;\n        var position = axis.position, direction = axis.direction;\n        var axisLeftRightRange = function (axis) {\n            if (axis instanceof CategoryAxis || axis instanceof GroupedCategoryAxis) {\n                return [0, seriesRect.height];\n            }\n            return [seriesRect.height, 0];\n        };\n        axis.label.mirrored = ['top', 'right'].includes(position);\n        var axisOffset = (_a = newAxisWidths[position]) !== null && _a !== void 0 ? _a : 0;\n        switch (position) {\n            case 'top':\n            case 'bottom':\n                axis.range = [0, seriesRect.width];\n                axis.gridLength = seriesRect.height;\n                break;\n            case 'right':\n            case 'left':\n                axis.range = axisLeftRightRange(axis);\n                axis.gridLength = seriesRect.width;\n                break;\n        }\n        var zoom = (_b = this.zoomManager.getZoom()) === null || _b === void 0 ? void 0 : _b[axis.direction];\n        var _g = zoom !== null && zoom !== void 0 ? zoom : {}, _h = _g.min, min = _h === void 0 ? 0 : _h, _j = _g.max, max = _j === void 0 ? 1 : _j;\n        axis.visibleRange = [min, max];\n        if (!clipSeries && (axis.visibleRange[0] > 0 || axis.visibleRange[1] < 1)) {\n            clipSeries = true;\n        }\n        var primaryTickCount = axis.nice ? primaryTickCounts[direction] : undefined;\n        primaryTickCount = axis.update(primaryTickCount);\n        primaryTickCounts[direction] = (_c = primaryTickCounts[direction]) !== null && _c !== void 0 ? _c : primaryTickCount;\n        var axisThickness = 0;\n        if (axis.thickness) {\n            axisThickness = axis.thickness;\n        }\n        else {\n            var bbox = axis.computeBBox();\n            axisThickness = direction === ChartAxisDirection.X ? bbox.height : bbox.width;\n        }\n        // for multiple axes in the same direction and position, apply padding at the top of each inner axis (i.e. between axes).\n        var axisPadding = 15;\n        if (addInterAxisPadding) {\n            axisThickness += axisPadding;\n        }\n        axisThickness = Math.ceil(axisThickness);\n        newAxisWidths[position] = ((_d = newAxisWidths[position]) !== null && _d !== void 0 ? _d : 0) + axisThickness;\n        axis.gridPadding = ((_e = axisWidths[position]) !== null && _e !== void 0 ? _e : 0) - ((_f = newAxisWidths[position]) !== null && _f !== void 0 ? _f : 0);\n        return { clipSeries: clipSeries, axisThickness: axisThickness, axisOffset: axisOffset };\n    };\n    CartesianChart.prototype.positionAxis = function (opts) {\n        var _a, _b, _c, _d;\n        var axis = opts.axis, axisBound = opts.axisBound, axisWidths = opts.axisWidths, seriesRect = opts.seriesRect, axisOffset = opts.axisOffset, axisThickness = opts.axisThickness;\n        var position = axis.position;\n        switch (position) {\n            case 'top':\n                axis.translation.x = axisBound.x + ((_a = axisWidths.left) !== null && _a !== void 0 ? _a : 0);\n                axis.translation.y = this.clampToOutsideSeriesRect(seriesRect, axisBound.y + 1 + axisOffset + axisThickness, 'y', 1);\n                break;\n            case 'bottom':\n                axis.translation.x = axisBound.x + ((_b = axisWidths.left) !== null && _b !== void 0 ? _b : 0);\n                axis.translation.y = this.clampToOutsideSeriesRect(seriesRect, axisBound.y + axisBound.height + 1 - axisThickness - axisOffset, 'y', -1);\n                break;\n            case 'left':\n                axis.translation.y = axisBound.y + ((_c = axisWidths.top) !== null && _c !== void 0 ? _c : 0);\n                axis.translation.x = this.clampToOutsideSeriesRect(seriesRect, axisBound.x + axisOffset + axisThickness, 'x', 1);\n                break;\n            case 'right':\n                axis.translation.y = axisBound.y + ((_d = axisWidths.top) !== null && _d !== void 0 ? _d : 0);\n                axis.translation.x = this.clampToOutsideSeriesRect(seriesRect, axisBound.x + axisBound.width - axisThickness - axisOffset, 'x', -1);\n                break;\n        }\n        axis.updatePosition();\n    };\n    CartesianChart.className = 'CartesianChart';\n    CartesianChart.type = 'cartesian';\n    return CartesianChart;\n}(Chart));\nexport { CartesianChart };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series, SeriesNodePickMode } from '../series';\nimport { ChartAxisDirection } from '../../chartAxisDirection';\nvar PolarSeries = /** @class */ (function (_super) {\n    __extends(PolarSeries, _super);\n    function PolarSeries(_a) {\n        var _b;\n        var _c = _a.useLabelLayer, useLabelLayer = _c === void 0 ? false : _c;\n        var _this = _super.call(this, {\n            useLabelLayer: useLabelLayer,\n            pickModes: [SeriesNodePickMode.EXACT_SHAPE_MATCH],\n            directionKeys: (_b = {},\n                _b[ChartAxisDirection.X] = ['angleKey'],\n                _b[ChartAxisDirection.Y] = ['radiusKey'],\n                _b),\n        }) || this;\n        /**\n         * The center of the polar series (for example, the center of a pie).\n         * If the polar chart has multiple series, all of them will have their\n         * center set to the same value as a result of the polar chart layout.\n         * The center coordinates are not supposed to be set by the user.\n         */\n        _this.centerX = 0;\n        _this.centerY = 0;\n        /**\n         * The maximum radius the series can use.\n         * This value is set automatically as a result of the polar chart layout\n         * and is not supposed to be set by the user.\n         */\n        _this.radius = 0;\n        return _this;\n    }\n    PolarSeries.prototype.getLabelData = function () {\n        return [];\n    };\n    PolarSeries.prototype.computeLabelsBBox = function (_options) {\n        return null;\n    };\n    return PolarSeries;\n}(Series));\nexport { PolarSeries };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { Chart } from './chart';\nimport { PolarSeries } from './series/polar/polarSeries';\nimport { Padding } from '../util/padding';\nimport { BBox } from '../scene/bbox';\nvar PolarChart = /** @class */ (function (_super) {\n    __extends(PolarChart, _super);\n    function PolarChart(document, overrideDevicePixelRatio, resources) {\n        if (document === void 0) { document = window.document; }\n        var _this = _super.call(this, document, overrideDevicePixelRatio, resources) || this;\n        _this.padding = new Padding(40);\n        var root = _this.scene.root;\n        _this.legend.attachLegend(root);\n        return _this;\n    }\n    PolarChart.prototype.performLayout = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var shrinkRect, fullSeriesRect, hoverRectPadding, hoverRect;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, _super.prototype.performLayout.call(this)];\n                    case 1:\n                        shrinkRect = _a.sent();\n                        fullSeriesRect = shrinkRect.clone();\n                        this.computeSeriesRect(shrinkRect);\n                        this.computeCircle();\n                        hoverRectPadding = 20;\n                        hoverRect = shrinkRect.clone().grow(hoverRectPadding);\n                        this.hoverRect = hoverRect;\n                        this.layoutService.dispatchLayoutComplete({\n                            type: 'layout-complete',\n                            chart: { width: this.scene.width, height: this.scene.height },\n                            series: { rect: fullSeriesRect, paddedRect: shrinkRect, hoverRect: hoverRect, visible: true },\n                            axes: [],\n                        });\n                        return [2 /*return*/, shrinkRect];\n                }\n            });\n        });\n    };\n    PolarChart.prototype.computeSeriesRect = function (shrinkRect) {\n        var seriesAreaPadding = this.seriesAreaPadding;\n        shrinkRect.shrink(seriesAreaPadding.left, 'left');\n        shrinkRect.shrink(seriesAreaPadding.top, 'top');\n        shrinkRect.shrink(seriesAreaPadding.right, 'right');\n        shrinkRect.shrink(seriesAreaPadding.bottom, 'bottom');\n        this.seriesRect = shrinkRect;\n    };\n    PolarChart.prototype.computeCircle = function () {\n        var _this = this;\n        var seriesBox = this.seriesRect;\n        var polarSeries = this.series.filter(function (series) {\n            return series instanceof PolarSeries;\n        });\n        var setSeriesCircle = function (cx, cy, r) {\n            polarSeries.forEach(function (series) {\n                series.centerX = cx;\n                series.centerY = cy;\n                series.radius = r;\n            });\n        };\n        var centerX = seriesBox.x + seriesBox.width / 2;\n        var centerY = seriesBox.y + seriesBox.height / 2;\n        var initialRadius = Math.max(0, Math.min(seriesBox.width, seriesBox.height) / 2);\n        var radius = initialRadius;\n        setSeriesCircle(centerX, centerY, radius);\n        var shake = function (_a) {\n            var _b = (_a === void 0 ? {} : _a).hideWhenNecessary, hideWhenNecessary = _b === void 0 ? false : _b;\n            var labelBoxes = polarSeries\n                .map(function (series) { return series.computeLabelsBBox({ hideWhenNecessary: hideWhenNecessary }); })\n                .filter(function (box) { return box != null; });\n            if (labelBoxes.length === 0) {\n                setSeriesCircle(centerX, centerY, initialRadius);\n                return;\n            }\n            var labelBox = BBox.merge(labelBoxes);\n            var refined = _this.refineCircle(labelBox, radius);\n            setSeriesCircle(refined.centerX, refined.centerY, refined.radius);\n            if (refined.radius === radius) {\n                return;\n            }\n            radius = refined.radius;\n        };\n        shake(); // Initial attempt\n        shake(); // Precise attempt\n        shake(); // Just in case\n        shake({ hideWhenNecessary: true }); // Hide unnecessary labels\n        shake({ hideWhenNecessary: true }); // Final result\n    };\n    PolarChart.prototype.refineCircle = function (labelsBox, radius) {\n        var minCircleRatio = 0.5; // Prevents reduced circle to be too small\n        var seriesBox = this.seriesRect;\n        var circleLeft = -radius;\n        var circleTop = -radius;\n        var circleRight = radius;\n        var circleBottom = radius;\n        // Label padding around the circle\n        var padLeft = Math.max(0, circleLeft - labelsBox.x);\n        var padTop = Math.max(0, circleTop - labelsBox.y);\n        var padRight = Math.max(0, labelsBox.x + labelsBox.width - circleRight);\n        var padBottom = Math.max(0, labelsBox.y + labelsBox.height - circleBottom);\n        // Available area for the circle (after the padding will be applied)\n        var availCircleWidth = seriesBox.width - padLeft - padRight;\n        var availCircleHeight = seriesBox.height - padTop - padBottom;\n        var newRadius = Math.min(availCircleWidth, availCircleHeight) / 2;\n        var minHorizontalRadius = (minCircleRatio * seriesBox.width) / 2;\n        var minVerticalRadius = (minCircleRatio * seriesBox.height) / 2;\n        var minRadius = Math.min(minHorizontalRadius, minVerticalRadius);\n        if (newRadius < minRadius) {\n            // If the radius is too small, reduce the label padding\n            newRadius = minRadius;\n            var horizontalPadding = padLeft + padRight;\n            var verticalPadding = padTop + padBottom;\n            if (2 * newRadius + verticalPadding > seriesBox.height) {\n                var padHeight = seriesBox.height - 2 * newRadius;\n                if (Math.min(padTop, padBottom) * 2 > padHeight) {\n                    padTop = padHeight / 2;\n                    padBottom = padHeight / 2;\n                }\n                else if (padTop > padBottom) {\n                    padTop = padHeight - padBottom;\n                }\n                else {\n                    padBottom = padHeight - padTop;\n                }\n            }\n            if (2 * newRadius + horizontalPadding > seriesBox.width) {\n                var padWidth = seriesBox.width - 2 * newRadius;\n                if (Math.min(padLeft, padRight) * 2 > padWidth) {\n                    padLeft = padWidth / 2;\n                    padRight = padWidth / 2;\n                }\n                else if (padLeft > padRight) {\n                    padLeft = padWidth - padRight;\n                }\n                else {\n                    padRight = padWidth - padLeft;\n                }\n            }\n        }\n        var newWidth = padLeft + 2 * newRadius + padRight;\n        var newHeight = padTop + 2 * newRadius + padBottom;\n        return {\n            centerX: seriesBox.x + (seriesBox.width - newWidth) / 2 + padLeft + newRadius,\n            centerY: seriesBox.y + (seriesBox.height - newHeight) / 2 + padTop + newRadius,\n            radius: newRadius,\n        };\n    };\n    PolarChart.className = 'PolarChart';\n    PolarChart.type = 'polar';\n    return PolarChart;\n}(Chart));\nexport { PolarChart };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { BBox } from '../scene/bbox';\nimport { Chart } from './chart';\nvar HierarchyChart = /** @class */ (function (_super) {\n    __extends(HierarchyChart, _super);\n    function HierarchyChart(document, overrideDevicePixelRatio, resources) {\n        if (document === void 0) { document = window.document; }\n        var _this = _super.call(this, document, overrideDevicePixelRatio, resources) || this;\n        _this._data = {};\n        var root = _this.scene.root;\n        _this.legend.attachLegend(root);\n        return _this;\n    }\n    HierarchyChart.prototype.performLayout = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var shrinkRect, seriesAreaPadding, fullSeriesRect, hoverRectPadding, hoverRect, seriesRoot;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, _super.prototype.performLayout.call(this)];\n                    case 1:\n                        shrinkRect = _a.sent();\n                        seriesAreaPadding = this.seriesAreaPadding;\n                        fullSeriesRect = shrinkRect.clone();\n                        shrinkRect.shrink(seriesAreaPadding.left, 'left');\n                        shrinkRect.shrink(seriesAreaPadding.top, 'top');\n                        shrinkRect.shrink(seriesAreaPadding.right, 'right');\n                        shrinkRect.shrink(seriesAreaPadding.bottom, 'bottom');\n                        this.seriesRect = shrinkRect;\n                        hoverRectPadding = 20;\n                        hoverRect = shrinkRect.clone().grow(hoverRectPadding);\n                        this.hoverRect = hoverRect;\n                        this.series.forEach(function (series) {\n                            series.rootGroup.translationX = Math.floor(shrinkRect.x);\n                            series.rootGroup.translationY = Math.floor(shrinkRect.y);\n                            series.update({ seriesRect: shrinkRect }); // this has to happen after the `updateAxes` call\n                        });\n                        seriesRoot = this.seriesRoot;\n                        seriesRoot.setClipRectInGroupCoordinateSpace(new BBox(shrinkRect.x, shrinkRect.y, shrinkRect.width, shrinkRect.height));\n                        this.layoutService.dispatchLayoutComplete({\n                            type: 'layout-complete',\n                            chart: { width: this.scene.width, height: this.scene.height },\n                            series: { rect: fullSeriesRect, paddedRect: shrinkRect, hoverRect: hoverRect, visible: true },\n                            axes: [],\n                        });\n                        return [2 /*return*/, shrinkRect];\n                }\n            });\n        });\n    };\n    HierarchyChart.className = 'HierarchyChart';\n    HierarchyChart.type = 'hierarchy';\n    return HierarchyChart;\n}(Chart));\nexport { HierarchyChart };\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { buildFormatter } from './timeFormat';\nvar interpolatePattern = /(#\\{(.*?)\\})/g;\nexport function interpolate(input, values, formats) {\n    return input.replace(interpolatePattern, function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var name = args[2];\n        var _a = __read(name.split(':'), 2), valueName = _a[0], formatName = _a[1];\n        var value = values[valueName];\n        if (typeof value === 'number') {\n            var format = formatName && formats && formats[formatName];\n            if (format) {\n                var _b = format, locales = _b.locales, options = _b.options;\n                return value.toLocaleString(locales, options);\n            }\n            return String(value);\n        }\n        if (value instanceof Date) {\n            var format = formatName && formats && formats[formatName];\n            if (typeof format === 'string') {\n                var formatter = buildFormatter(format);\n                return formatter(value);\n            }\n            return value.toDateString();\n        }\n        if (typeof value === 'string' || (value && value.toString)) {\n            return String(value);\n        }\n        return '';\n    });\n}\n", "var element = null;\nexport function sanitizeHtml(text) {\n    element = element || document.createElement('div');\n    if (!text) {\n        return '';\n    }\n    element.textContent = text;\n    return element.innerHTML;\n}\n", "import { NumericTicks } from './ticks';\nexport function calculateNiceSecondaryAxis(domain, primaryTickCount) {\n    // Make secondary axis domain nice using strict tick count, matching the tick count from the primary axis.\n    // This is to make the secondary axis grid lines/ tick positions align with the ones from the primary axis.\n    var start = Math.floor(domain[0]);\n    var stop = domain[1];\n    start = calculateNiceStart(start, stop, primaryTickCount);\n    var step = getTickStep(start, stop, primaryTickCount);\n    var segments = primaryTickCount - 1;\n    stop = start + segments * step;\n    var d = [start, stop];\n    var ticks = getTicks(start, step, primaryTickCount);\n    return [d, ticks];\n}\nfunction calculateNiceStart(a, b, count) {\n    var rawStep = Math.abs(b - a) / (count - 1);\n    var order = Math.floor(Math.log10(rawStep));\n    var magnitude = Math.pow(10, order);\n    return Math.floor(a / magnitude) * magnitude;\n}\nfunction getTicks(start, step, count) {\n    // power of the step will be negative if the step is a fraction (between 0 and 1)\n    var stepPower = Math.floor(Math.log10(step));\n    var fractionDigits = step > 0 && step < 1 ? Math.abs(stepPower) : 0;\n    var f = Math.pow(10, fractionDigits);\n    var ticks = new NumericTicks(fractionDigits);\n    for (var i = 0; i < count; i++) {\n        var tick = start + step * i;\n        ticks[i] = Math.round(tick * f) / f;\n    }\n    return ticks;\n}\nfunction getTickStep(start, stop, count) {\n    var segments = count - 1;\n    var rawStep = (stop - start) / segments;\n    return calculateNextNiceStep(rawStep);\n}\nfunction calculateNextNiceStep(rawStep) {\n    var order = Math.floor(Math.log10(rawStep));\n    var magnitude = Math.pow(10, order);\n    // Make order 1\n    var step = (rawStep / magnitude) * 10;\n    if (step > 0 && step <= 1) {\n        return magnitude / 10;\n    }\n    if (step > 1 && step <= 2) {\n        return (2 * magnitude) / 10;\n    }\n    if (step > 1 && step <= 5) {\n        return (5 * magnitude) / 10;\n    }\n    if (step > 5 && step <= 10) {\n        return (10 * magnitude) / 10;\n    }\n    if (step > 10 && step <= 20) {\n        return (20 * magnitude) / 10;\n    }\n    if (step > 20 && step <= 40) {\n        return (40 * magnitude) / 10;\n    }\n    if (step > 40 && step <= 50) {\n        return (50 * magnitude) / 10;\n    }\n    if (step > 50 && step <= 100) {\n        return (100 * magnitude) / 10;\n    }\n    return step;\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { LinearScale } from '../../scale/linearScale';\nimport { extent } from '../../util/array';\nimport { ChartAxis } from '../chartAxis';\nimport { Validate, GREATER_THAN, AND, LESS_THAN, NUMBER_OR_NAN } from '../../util/validation';\nimport { Default } from '../../util/default';\nimport { calculateNiceSecondaryAxis } from '../../util/secondaryAxisTicks';\nimport { Logger } from '../../util/logger';\nvar NumberAxis = /** @class */ (function (_super) {\n    __extends(NumberAxis, _super);\n    function NumberAxis(moduleCtx, scale) {\n        if (scale === void 0) { scale = new LinearScale(); }\n        var _this = _super.call(this, moduleCtx, scale) || this;\n        _this.min = NaN;\n        _this.max = NaN;\n        scale.strictClampByDefault = true;\n        return _this;\n    }\n    NumberAxis.prototype.normaliseDataDomain = function (d) {\n        var _a = this, min = _a.min, max = _a.max;\n        if (d.length > 2) {\n            d = extent(d) || [NaN, NaN];\n        }\n        if (!isNaN(min)) {\n            d = [min, d[1]];\n        }\n        if (!isNaN(max)) {\n            d = [d[0], max];\n        }\n        if (d[0] > d[1]) {\n            d = [];\n        }\n        return d;\n    };\n    NumberAxis.prototype.formatDatum = function (datum) {\n        if (typeof datum === 'number') {\n            return datum.toFixed(2);\n        }\n        else {\n            Logger.warnOnce('data contains Date objects which are being plotted against a number axis, please only use a number axis for numbers.');\n            return String(datum);\n        }\n    };\n    NumberAxis.prototype.updateSecondaryAxisTicks = function (primaryTickCount) {\n        if (this.dataDomain == null) {\n            throw new Error('AG Charts - dataDomain not calculated, cannot perform tick calculation.');\n        }\n        var _a = __read(calculateNiceSecondaryAxis(this.dataDomain, primaryTickCount !== null && primaryTickCount !== void 0 ? primaryTickCount : 0), 2), d = _a[0], ticks = _a[1];\n        this.scale.nice = false;\n        this.scale.domain = d;\n        this.scale.update();\n        return ticks;\n    };\n    NumberAxis.className = 'NumberAxis';\n    NumberAxis.type = 'number';\n    __decorate([\n        Validate(AND(NUMBER_OR_NAN(), LESS_THAN('max'))),\n        Default(NaN)\n    ], NumberAxis.prototype, \"min\", void 0);\n    __decorate([\n        Validate(AND(NUMBER_OR_NAN(), GREATER_THAN('min'))),\n        Default(NaN)\n    ], NumberAxis.prototype, \"max\", void 0);\n    return NumberAxis;\n}(ChartAxis));\nexport { NumberAxis };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { AND, GREATER_THAN, LESS_THAN, NUMBER_OR_NAN, predicateWithMessage, Validate } from '../../util/validation';\nimport { Default } from '../../util/default';\nimport { LogScale } from '../../scale/logScale';\nimport { NumberAxis } from './numberAxis';\nimport { extent } from '../../util/array';\nimport { Logger } from '../../util/logger';\nfunction NON_ZERO_NUMBER() {\n    // Cannot be 0\n    var message = \"expecting a non-zero Number\";\n    return predicateWithMessage(function (v) { return typeof v === 'number' && v !== 0; }, message);\n}\nvar LogAxis = /** @class */ (function (_super) {\n    __extends(LogAxis, _super);\n    function LogAxis(moduleCtx) {\n        var _this = _super.call(this, moduleCtx, new LogScale()) || this;\n        _this.min = NaN;\n        _this.max = NaN;\n        _this.scale.strictClampByDefault = true;\n        return _this;\n    }\n    LogAxis.prototype.normaliseDataDomain = function (d) {\n        var _a = this, min = _a.min, max = _a.max;\n        if (d.length > 2) {\n            d = extent(d) || [NaN, NaN];\n        }\n        if (!isNaN(min)) {\n            d = [min, d[1]];\n        }\n        if (!isNaN(max)) {\n            d = [d[0], max];\n        }\n        var isInverted = d[0] > d[1];\n        var crossesZero = d[0] < 0 && d[1] > 0;\n        var hasZeroExtent = d[0] === 0 && d[1] === 0;\n        var invalidDomain = isInverted || crossesZero || hasZeroExtent;\n        if (invalidDomain) {\n            d = [];\n            if (crossesZero) {\n                Logger.warn(\"the data domain crosses zero, the chart data cannot be rendered. See log axis documentation for more information.\");\n            }\n            else if (hasZeroExtent) {\n                Logger.warn(\"the data domain has 0 extent, no data is rendered.\");\n            }\n        }\n        if (d[0] === 0) {\n            d[0] = 1;\n        }\n        if (d[1] === 0) {\n            d[1] = -1;\n        }\n        return d;\n    };\n    Object.defineProperty(LogAxis.prototype, \"base\", {\n        get: function () {\n            return this.scale.base;\n        },\n        set: function (value) {\n            this.scale.base = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    LogAxis.className = 'LogAxis';\n    LogAxis.type = 'log';\n    __decorate([\n        Validate(AND(NUMBER_OR_NAN(), LESS_THAN('max'), NON_ZERO_NUMBER())),\n        Default(NaN)\n    ], LogAxis.prototype, \"min\", void 0);\n    __decorate([\n        Validate(AND(NUMBER_OR_NAN(), GREATER_THAN('min'), NON_ZERO_NUMBER())),\n        Default(NaN)\n    ], LogAxis.prototype, \"max\", void 0);\n    return LogAxis;\n}(NumberAxis));\nexport { LogAxis };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { Logger } from '../../util/logger';\nfunction extendDomain(values, domain) {\n    var e_1, _a;\n    if (domain === void 0) { domain = [Infinity, -Infinity]; }\n    try {\n        for (var values_1 = __values(values), values_1_1 = values_1.next(); !values_1_1.done; values_1_1 = values_1.next()) {\n            var value = values_1_1.value;\n            if (typeof value !== 'number') {\n                continue;\n            }\n            if (value < domain[0]) {\n                domain[0] = value;\n            }\n            if (value > domain[1]) {\n                domain[1] = value;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (values_1_1 && !values_1_1.done && (_a = values_1.return)) _a.call(values_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return domain;\n}\nfunction sumValues(values, accumulator) {\n    var e_2, _a;\n    if (accumulator === void 0) { accumulator = [0, 0]; }\n    try {\n        for (var values_2 = __values(values), values_2_1 = values_2.next(); !values_2_1.done; values_2_1 = values_2.next()) {\n            var value = values_2_1.value;\n            if (typeof value !== 'number') {\n                continue;\n            }\n            if (value < 0) {\n                accumulator[0] += value;\n            }\n            if (value > 0) {\n                accumulator[1] += value;\n            }\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (values_2_1 && !values_2_1.done && (_a = values_2.return)) _a.call(values_2);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return accumulator;\n}\nfunction toKeyString(keys) {\n    return keys\n        .map(function (v) {\n        if (v == null) {\n            return v;\n        }\n        else if (typeof v === 'number' || typeof v === 'string' || typeof v === 'boolean') {\n            return v;\n        }\n        else if (typeof v === 'object') {\n            return JSON.stringify(v);\n        }\n        return v;\n    })\n        .join('-');\n}\nexport var SMALLEST_KEY_INTERVAL = {\n    type: 'reducer',\n    property: 'smallestKeyInterval',\n    initialValue: Infinity,\n    reducer: function () {\n        var prevX = NaN;\n        return function (smallestSoFar, next) {\n            var nextX = next.keys[0];\n            var interval = Math.abs(nextX - prevX);\n            prevX = nextX;\n            if (!isNaN(interval) && interval > 0 && interval < smallestSoFar) {\n                return interval;\n            }\n            return smallestSoFar;\n        };\n    },\n};\nexport var SUM_VALUE_EXTENT = {\n    type: 'processor',\n    property: 'sumValueExtent',\n    calculate: function (processedData) {\n        var e_3, _a;\n        var _b, _c, _d, _e;\n        var result = __spread(((_c = (_b = processedData.domain.sumValues) === null || _b === void 0 ? void 0 : _b[0]) !== null && _c !== void 0 ? _c : [0, 0]));\n        try {\n            for (var _f = __values((_e = (_d = processedData.domain.sumValues) === null || _d === void 0 ? void 0 : _d.slice(1)) !== null && _e !== void 0 ? _e : []), _g = _f.next(); !_g.done; _g = _f.next()) {\n                var _h = __read(_g.value, 2), min = _h[0], max = _h[1];\n                if (min < result[0]) {\n                    result[0] = min;\n                }\n                if (max > result[1]) {\n                    result[1] = max;\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_g && !_g.done && (_a = _f.return)) _a.call(_f);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return result;\n    },\n};\nvar INVALID_VALUE = Symbol('invalid');\nvar DataModel = /** @class */ (function () {\n    function DataModel(opts) {\n        var e_4, _a, e_5, _b;\n        var _this = this;\n        var _c;\n        var props = opts.props;\n        // Validate that keys appear before values in the definitions, as output ordering depends\n        // on configuration ordering, but we process keys before values.\n        var keys = true;\n        try {\n            for (var props_1 = __values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n                var next = props_1_1.value;\n                if (next.type === 'key' && !keys) {\n                    throw new Error('AG Charts - internal config error: keys must come before values.');\n                }\n                if (next.type === 'value' && keys) {\n                    keys = false;\n                }\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        this.opts = __assign({ dataVisible: true }, opts);\n        this.keys = props\n            .filter(function (def) { return def.type === 'key'; })\n            .map(function (def, index) { return (__assign(__assign({}, def), { index: index, missing: false })); });\n        this.values = props\n            .filter(function (def) { return def.type === 'value'; })\n            .map(function (def, index) { return (__assign(__assign({}, def), { index: index, missing: false })); });\n        this.sums = props.filter(function (def) { return def.type === 'sum'; });\n        this.reducers = props.filter(function (def) { return def.type === 'reducer'; });\n        this.processors = props.filter(function (def) { return def.type === 'processor'; });\n        try {\n            for (var _d = __values((_c = this.sums) !== null && _c !== void 0 ? _c : []), _e = _d.next(); !_e.done; _e = _d.next()) {\n                var properties = _e.value.properties;\n                if (properties.length === 0)\n                    continue;\n                if (!properties.some(function (prop) { return _this.values.some(function (def) { return def.property === prop; }); })) {\n                    throw new Error(\"AG Charts - internal config error: sum properties must match defined properties (\" + properties + \").\");\n                }\n            }\n        }\n        catch (e_5_1) { e_5 = { error: e_5_1 }; }\n        finally {\n            try {\n                if (_e && !_e.done && (_b = _d.return)) _b.call(_d);\n            }\n            finally { if (e_5) throw e_5.error; }\n        }\n    }\n    DataModel.prototype.resolveProcessedDataIndex = function (propName) {\n        var def = this.resolveProcessedDataDef(propName);\n        if ((def === null || def === void 0 ? void 0 : def.type) === 'key' || (def === null || def === void 0 ? void 0 : def.type) === 'value') {\n            return { type: def.type, index: def.index };\n        }\n    };\n    DataModel.prototype.resolveProcessedDataDef = function (propName) {\n        var _a = this, keys = _a.keys, values = _a.values;\n        var def = __spread(keys, values).find(function (_a) {\n            var property = _a.property;\n            return property === propName;\n        });\n        if (!def)\n            return undefined;\n        return def;\n    };\n    DataModel.prototype.getDomain = function (propName, processedData) {\n        var idx = this.resolveProcessedDataIndex(propName);\n        if (!idx) {\n            return [];\n        }\n        return processedData.domain[idx.type === 'key' ? 'keys' : 'values'][idx.index];\n    };\n    DataModel.prototype.processData = function (data) {\n        var e_6, _a, e_7, _b;\n        var _c = this, _d = _c.opts, groupByKeys = _d.groupByKeys, normaliseTo = _d.normaliseTo, sums = _c.sums, reducers = _c.reducers, processors = _c.processors;\n        var start = performance.now();\n        try {\n            for (var _e = __values(__spread(this.keys, this.values)), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var def = _f.value;\n                def.missing = false;\n            }\n        }\n        catch (e_6_1) { e_6 = { error: e_6_1 }; }\n        finally {\n            try {\n                if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n            }\n            finally { if (e_6) throw e_6.error; }\n        }\n        if (groupByKeys && this.keys.length === 0) {\n            return undefined;\n        }\n        var processedData = this.extractData(data);\n        if (groupByKeys) {\n            processedData = this.groupData(processedData);\n        }\n        if (sums.length > 0) {\n            this.sumData(processedData);\n        }\n        if (typeof normaliseTo === 'number') {\n            this.normaliseData(processedData);\n        }\n        if (reducers.length > 0) {\n            this.reduceData(processedData);\n        }\n        if (processors.length > 0) {\n            this.postProcessData(processedData);\n        }\n        try {\n            for (var _g = __values(__spread(this.keys, this.values)), _h = _g.next(); !_h.done; _h = _g.next()) {\n                var def = _h.value;\n                if (def.missing) {\n                    Logger.warnOnce(\"the key '\" + def.property + \"' was not found in at least one data element.\");\n                }\n            }\n        }\n        catch (e_7_1) { e_7 = { error: e_7_1 }; }\n        finally {\n            try {\n                if (_h && !_h.done && (_b = _g.return)) _b.call(_g);\n            }\n            finally { if (e_7) throw e_7.error; }\n        }\n        var end = performance.now();\n        processedData.time = end - start;\n        return processedData;\n    };\n    DataModel.prototype.extractData = function (data) {\n        var e_8, _a, e_9, _b, e_10, _c;\n        var _d = this, keyDefs = _d.keys, valueDefs = _d.values, dataVisible = _d.opts.dataVisible;\n        var _e = this.initDataDomainProcessor(), dataDomain = _e.dataDomain, processValue = _e.processValue;\n        var resultData = new Array(dataVisible ? data.length : 0);\n        var resultDataIdx = 0;\n        try {\n            dataLoop: for (var data_1 = __values(data), data_1_1 = data_1.next(); !data_1_1.done; data_1_1 = data_1.next()) {\n                var datum = data_1_1.value;\n                var keys = dataVisible ? new Array(keyDefs.length) : undefined;\n                var keyIdx = 0;\n                try {\n                    for (var keyDefs_1 = (e_9 = void 0, __values(keyDefs)), keyDefs_1_1 = keyDefs_1.next(); !keyDefs_1_1.done; keyDefs_1_1 = keyDefs_1.next()) {\n                        var def = keyDefs_1_1.value;\n                        var key = processValue(def, datum);\n                        if (key === INVALID_VALUE) {\n                            continue dataLoop;\n                        }\n                        if (keys) {\n                            keys[keyIdx++] = key;\n                        }\n                    }\n                }\n                catch (e_9_1) { e_9 = { error: e_9_1 }; }\n                finally {\n                    try {\n                        if (keyDefs_1_1 && !keyDefs_1_1.done && (_b = keyDefs_1.return)) _b.call(keyDefs_1);\n                    }\n                    finally { if (e_9) throw e_9.error; }\n                }\n                var values = dataVisible ? new Array(valueDefs.length) : undefined;\n                var valueIdx = 0;\n                try {\n                    for (var valueDefs_1 = (e_10 = void 0, __values(valueDefs)), valueDefs_1_1 = valueDefs_1.next(); !valueDefs_1_1.done; valueDefs_1_1 = valueDefs_1.next()) {\n                        var def = valueDefs_1_1.value;\n                        var value = processValue(def, datum);\n                        if (value === INVALID_VALUE) {\n                            continue dataLoop;\n                        }\n                        if (values) {\n                            values[valueIdx++] = value;\n                        }\n                    }\n                }\n                catch (e_10_1) { e_10 = { error: e_10_1 }; }\n                finally {\n                    try {\n                        if (valueDefs_1_1 && !valueDefs_1_1.done && (_c = valueDefs_1.return)) _c.call(valueDefs_1);\n                    }\n                    finally { if (e_10) throw e_10.error; }\n                }\n                if (dataVisible) {\n                    resultData[resultDataIdx++] = {\n                        datum: datum,\n                        keys: keys,\n                        values: values,\n                    };\n                }\n            }\n        }\n        catch (e_8_1) { e_8 = { error: e_8_1 }; }\n        finally {\n            try {\n                if (data_1_1 && !data_1_1.done && (_a = data_1.return)) _a.call(data_1);\n            }\n            finally { if (e_8) throw e_8.error; }\n        }\n        resultData.length = resultDataIdx;\n        var propertyDomain = function (def) {\n            var result = dataDomain.get(def.property).domain;\n            if (Array.isArray(result) && result[0] > result[1]) {\n                // Ignore starting values.\n                return [];\n            }\n            return __spread(result);\n        };\n        return {\n            type: 'ungrouped',\n            data: resultData,\n            domain: {\n                keys: keyDefs.map(function (def) { return propertyDomain(def); }),\n                values: valueDefs.map(function (def) { return propertyDomain(def); }),\n            },\n            indices: {\n                keys: keyDefs.reduce(function (r, _a) {\n                    var property = _a.property, index = _a.index;\n                    r[property] = index;\n                    return r;\n                }, {}),\n                values: valueDefs.reduce(function (r, _a) {\n                    var property = _a.property, index = _a.index;\n                    r[property] = index;\n                    return r;\n                }, {}),\n            },\n            defs: {\n                keys: keyDefs,\n                values: valueDefs,\n            },\n            time: 0,\n        };\n    };\n    DataModel.prototype.groupData = function (data) {\n        var e_11, _a, e_12, _b;\n        var processedData = new Map();\n        try {\n            for (var _c = __values(data.data), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var _e = _d.value, keys = _e.keys, values = _e.values, datum = _e.datum;\n                var keyStr = toKeyString(keys);\n                if (processedData.has(keyStr)) {\n                    var existingData = processedData.get(keyStr);\n                    existingData.values.push(values);\n                    existingData.datum.push(datum);\n                }\n                else {\n                    processedData.set(keyStr, { keys: keys, values: [values], datum: [datum] });\n                }\n            }\n        }\n        catch (e_11_1) { e_11 = { error: e_11_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_11) throw e_11.error; }\n        }\n        var resultData = new Array(processedData.size);\n        var dataIndex = 0;\n        try {\n            for (var _f = __values(processedData.entries()), _g = _f.next(); !_g.done; _g = _f.next()) {\n                var _h = __read(_g.value, 2), _j = _h[1], keys = _j.keys, values = _j.values, datum = _j.datum;\n                resultData[dataIndex++] = {\n                    keys: keys,\n                    values: values,\n                    datum: datum,\n                };\n            }\n        }\n        catch (e_12_1) { e_12 = { error: e_12_1 }; }\n        finally {\n            try {\n                if (_g && !_g.done && (_b = _f.return)) _b.call(_f);\n            }\n            finally { if (e_12) throw e_12.error; }\n        }\n        return __assign(__assign({}, data), { type: 'grouped', data: resultData });\n    };\n    DataModel.prototype.sumData = function (processedData) {\n        var e_13, _a, e_14, _b, e_15, _c;\n        var _d;\n        var _e = this, valueDefs = _e.values, sumDefs = _e.sums;\n        if (!sumDefs)\n            return;\n        var resultSumValues = sumDefs.map(function () { return [Infinity, -Infinity]; });\n        var resultSumValueIndices = sumDefs.map(function (defs) {\n            return defs.properties.map(function (prop) { return valueDefs.findIndex(function (def) { return def.property === prop; }); });\n        });\n        try {\n            for (var _f = __values(processedData.data), _g = _f.next(); !_g.done; _g = _f.next()) {\n                var group = _g.value;\n                var values = group.values;\n                (_d = group.sumValues) !== null && _d !== void 0 ? _d : (group.sumValues = new Array(resultSumValueIndices.length));\n                if (processedData.type === 'ungrouped') {\n                    values = [values];\n                }\n                var resultIdx = 0;\n                try {\n                    for (var resultSumValueIndices_1 = (e_14 = void 0, __values(resultSumValueIndices)), resultSumValueIndices_1_1 = resultSumValueIndices_1.next(); !resultSumValueIndices_1_1.done; resultSumValueIndices_1_1 = resultSumValueIndices_1.next()) {\n                        var indices = resultSumValueIndices_1_1.value;\n                        var groupDomain = extendDomain([]);\n                        var _loop_1 = function (distinctValues) {\n                            var valuesToSum = indices.map(function (valueIdx) { return distinctValues[valueIdx]; });\n                            var range = sumValues(valuesToSum);\n                            if (range) {\n                                extendDomain(range, groupDomain);\n                            }\n                        };\n                        try {\n                            for (var values_3 = (e_15 = void 0, __values(values)), values_3_1 = values_3.next(); !values_3_1.done; values_3_1 = values_3.next()) {\n                                var distinctValues = values_3_1.value;\n                                _loop_1(distinctValues);\n                            }\n                        }\n                        catch (e_15_1) { e_15 = { error: e_15_1 }; }\n                        finally {\n                            try {\n                                if (values_3_1 && !values_3_1.done && (_c = values_3.return)) _c.call(values_3);\n                            }\n                            finally { if (e_15) throw e_15.error; }\n                        }\n                        extendDomain(groupDomain, resultSumValues[resultIdx]);\n                        group.sumValues[resultIdx++] = groupDomain;\n                    }\n                }\n                catch (e_14_1) { e_14 = { error: e_14_1 }; }\n                finally {\n                    try {\n                        if (resultSumValueIndices_1_1 && !resultSumValueIndices_1_1.done && (_b = resultSumValueIndices_1.return)) _b.call(resultSumValueIndices_1);\n                    }\n                    finally { if (e_14) throw e_14.error; }\n                }\n            }\n        }\n        catch (e_13_1) { e_13 = { error: e_13_1 }; }\n        finally {\n            try {\n                if (_g && !_g.done && (_a = _f.return)) _a.call(_f);\n            }\n            finally { if (e_13) throw e_13.error; }\n        }\n        processedData.domain.sumValues = resultSumValues;\n    };\n    DataModel.prototype.normaliseData = function (processedData) {\n        var e_16, _a, e_17, _b, e_18, _c, e_19, _d, e_20, _e, e_21, _f, e_22, _g;\n        var _h;\n        var _j = this, sumDefs = _j.sums, valueDefs = _j.values, normaliseTo = _j.opts.normaliseTo;\n        if (normaliseTo == null)\n            return;\n        var sumValues = processedData.domain.sumValues;\n        var resultSumValueIndices = sumDefs.map(function (defs) {\n            return defs.properties.map(function (prop) { return valueDefs.findIndex(function (def) { return def.property === prop; }); });\n        });\n        // const normalisedRange = [-normaliseTo, normaliseTo];\n        var normalise = function (val, extent) {\n            var result = (val * normaliseTo) / extent;\n            if (result >= 0) {\n                return Math.min(normaliseTo, result);\n            }\n            return Math.max(-normaliseTo, result);\n        };\n        for (var sumIdx = 0; sumIdx < sumDefs.length; sumIdx++) {\n            var sums = sumValues === null || sumValues === void 0 ? void 0 : sumValues[sumIdx];\n            if (sums == null)\n                continue;\n            var sumAbsExtent = -Infinity;\n            try {\n                for (var sums_1 = (e_16 = void 0, __values(sums)), sums_1_1 = sums_1.next(); !sums_1_1.done; sums_1_1 = sums_1.next()) {\n                    var sum = sums_1_1.value;\n                    var sumAbs = Math.abs(sum);\n                    if (sumAbsExtent < sumAbs) {\n                        sumAbsExtent = sumAbs;\n                    }\n                }\n            }\n            catch (e_16_1) { e_16 = { error: e_16_1 }; }\n            finally {\n                try {\n                    if (sums_1_1 && !sums_1_1.done && (_a = sums_1.return)) _a.call(sums_1);\n                }\n                finally { if (e_16) throw e_16.error; }\n            }\n            var sumRangeIdx = 0;\n            try {\n                for (var sums_2 = (e_17 = void 0, __values(sums)), sums_2_1 = sums_2.next(); !sums_2_1.done; sums_2_1 = sums_2.next()) {\n                    var _ = sums_2_1.value;\n                    sums[sumRangeIdx] = normalise(sums[sumRangeIdx], sumAbsExtent);\n                    sumRangeIdx++;\n                }\n            }\n            catch (e_17_1) { e_17 = { error: e_17_1 }; }\n            finally {\n                try {\n                    if (sums_2_1 && !sums_2_1.done && (_b = sums_2.return)) _b.call(sums_2);\n                }\n                finally { if (e_17) throw e_17.error; }\n            }\n            try {\n                for (var _k = (e_18 = void 0, __values(processedData.data)), _l = _k.next(); !_l.done; _l = _k.next()) {\n                    var next = _l.value;\n                    var sumValues_1 = next.sumValues;\n                    var values = next.values;\n                    if (processedData.type === 'ungrouped') {\n                        values = [values];\n                    }\n                    var valuesSumExtent = 0;\n                    try {\n                        for (var _m = (e_19 = void 0, __values((_h = sumValues_1 === null || sumValues_1 === void 0 ? void 0 : sumValues_1[sumIdx]) !== null && _h !== void 0 ? _h : [])), _o = _m.next(); !_o.done; _o = _m.next()) {\n                            var sum = _o.value;\n                            var sumAbs = Math.abs(sum);\n                            if (valuesSumExtent < sumAbs) {\n                                valuesSumExtent = sumAbs;\n                            }\n                        }\n                    }\n                    catch (e_19_1) { e_19 = { error: e_19_1 }; }\n                    finally {\n                        try {\n                            if (_o && !_o.done && (_d = _m.return)) _d.call(_m);\n                        }\n                        finally { if (e_19) throw e_19.error; }\n                    }\n                    try {\n                        for (var values_4 = (e_20 = void 0, __values(values)), values_4_1 = values_4.next(); !values_4_1.done; values_4_1 = values_4.next()) {\n                            var row = values_4_1.value;\n                            try {\n                                for (var _p = (e_21 = void 0, __values(resultSumValueIndices[sumIdx])), _q = _p.next(); !_q.done; _q = _p.next()) {\n                                    var indices = _q.value;\n                                    row[indices] = normalise(row[indices], valuesSumExtent);\n                                }\n                            }\n                            catch (e_21_1) { e_21 = { error: e_21_1 }; }\n                            finally {\n                                try {\n                                    if (_q && !_q.done && (_f = _p.return)) _f.call(_p);\n                                }\n                                finally { if (e_21) throw e_21.error; }\n                            }\n                        }\n                    }\n                    catch (e_20_1) { e_20 = { error: e_20_1 }; }\n                    finally {\n                        try {\n                            if (values_4_1 && !values_4_1.done && (_e = values_4.return)) _e.call(values_4);\n                        }\n                        finally { if (e_20) throw e_20.error; }\n                    }\n                    if (sumValues_1 == null)\n                        continue;\n                    sumRangeIdx = 0;\n                    try {\n                        for (var _r = (e_22 = void 0, __values(sumValues_1[sumIdx])), _s = _r.next(); !_s.done; _s = _r.next()) {\n                            var _ = _s.value;\n                            sumValues_1[sumIdx][sumRangeIdx] = normalise(sumValues_1[sumIdx][sumRangeIdx], valuesSumExtent);\n                            sumRangeIdx++;\n                        }\n                    }\n                    catch (e_22_1) { e_22 = { error: e_22_1 }; }\n                    finally {\n                        try {\n                            if (_s && !_s.done && (_g = _r.return)) _g.call(_r);\n                        }\n                        finally { if (e_22) throw e_22.error; }\n                    }\n                }\n            }\n            catch (e_18_1) { e_18 = { error: e_18_1 }; }\n            finally {\n                try {\n                    if (_l && !_l.done && (_c = _k.return)) _c.call(_k);\n                }\n                finally { if (e_18) throw e_18.error; }\n            }\n        }\n    };\n    DataModel.prototype.reduceData = function (processedData) {\n        var e_23, _a, e_24, _b;\n        var _c;\n        var reducerDefs = this.reducers;\n        var reducers = reducerDefs.map(function (def) { return def.reducer(); });\n        var accValues = reducerDefs.map(function (def) { return def.initialValue; });\n        try {\n            for (var _d = __values(processedData.data), _e = _d.next(); !_e.done; _e = _d.next()) {\n                var group = _e.value;\n                var reducerIndex = 0;\n                try {\n                    for (var reducers_1 = (e_24 = void 0, __values(reducers)), reducers_1_1 = reducers_1.next(); !reducers_1_1.done; reducers_1_1 = reducers_1.next()) {\n                        var reducer = reducers_1_1.value;\n                        accValues[reducerIndex] = reducer(accValues[reducerIndex], group);\n                        reducerIndex++;\n                    }\n                }\n                catch (e_24_1) { e_24 = { error: e_24_1 }; }\n                finally {\n                    try {\n                        if (reducers_1_1 && !reducers_1_1.done && (_b = reducers_1.return)) _b.call(reducers_1);\n                    }\n                    finally { if (e_24) throw e_24.error; }\n                }\n            }\n        }\n        catch (e_23_1) { e_23 = { error: e_23_1 }; }\n        finally {\n            try {\n                if (_e && !_e.done && (_a = _d.return)) _a.call(_d);\n            }\n            finally { if (e_23) throw e_23.error; }\n        }\n        for (var accIdx = 0; accIdx < accValues.length; accIdx++) {\n            (_c = processedData.reduced) !== null && _c !== void 0 ? _c : (processedData.reduced = {});\n            processedData.reduced[reducerDefs[accIdx].property] = accValues[accIdx];\n        }\n    };\n    DataModel.prototype.postProcessData = function (processedData) {\n        var e_25, _a;\n        var _b;\n        var processorDefs = this.processors;\n        try {\n            for (var processorDefs_1 = __values(processorDefs), processorDefs_1_1 = processorDefs_1.next(); !processorDefs_1_1.done; processorDefs_1_1 = processorDefs_1.next()) {\n                var def = processorDefs_1_1.value;\n                (_b = processedData.reduced) !== null && _b !== void 0 ? _b : (processedData.reduced = {});\n                processedData.reduced[def.property] = def.calculate(processedData);\n            }\n        }\n        catch (e_25_1) { e_25 = { error: e_25_1 }; }\n        finally {\n            try {\n                if (processorDefs_1_1 && !processorDefs_1_1.done && (_a = processorDefs_1.return)) _a.call(processorDefs_1);\n            }\n            finally { if (e_25) throw e_25.error; }\n        }\n    };\n    DataModel.prototype.initDataDomainProcessor = function () {\n        var _a = this, keyDefs = _a.keys, valueDefs = _a.values;\n        var dataDomain = new Map();\n        var initDataDomainKey = function (key, type, updateDataDomain) {\n            if (type === 'category') {\n                updateDataDomain.set(key, { type: type, domain: new Set() });\n            }\n            else {\n                updateDataDomain.set(key, { type: type, domain: [Infinity, -Infinity] });\n            }\n        };\n        var initDataDomain = function (updateDataDomain) {\n            if (updateDataDomain === void 0) { updateDataDomain = dataDomain; }\n            keyDefs.forEach(function (def) { return initDataDomainKey(def.property, def.valueType, updateDataDomain); });\n            valueDefs.forEach(function (def) { return initDataDomainKey(def.property, def.valueType, updateDataDomain); });\n            return updateDataDomain;\n        };\n        initDataDomain();\n        var processValue = function (def, datum, updateDataDomain) {\n            var _a, _b;\n            if (updateDataDomain === void 0) { updateDataDomain = dataDomain; }\n            var valueInDatum = def.property in datum;\n            var missingValueDef = 'missingValue' in def;\n            if (!def.missing && !valueInDatum && !missingValueDef) {\n                def.missing = true;\n            }\n            if (!updateDataDomain.has(def.property)) {\n                initDataDomain(updateDataDomain);\n            }\n            var value = valueInDatum ? datum[def.property] : def.missingValue;\n            if (valueInDatum) {\n                var valid = (_b = (_a = def.validation) === null || _a === void 0 ? void 0 : _a.call(def, value)) !== null && _b !== void 0 ? _b : true;\n                if (!valid) {\n                    if ('invalidValue' in def) {\n                        value = def.invalidValue;\n                    }\n                    else {\n                        return INVALID_VALUE;\n                    }\n                }\n            }\n            var meta = updateDataDomain.get(def.property);\n            if ((meta === null || meta === void 0 ? void 0 : meta.type) === 'category') {\n                meta.domain.add(value);\n            }\n            else if ((meta === null || meta === void 0 ? void 0 : meta.type) === 'range') {\n                if (meta.domain[0] > value) {\n                    meta.domain[0] = value;\n                }\n                if (meta.domain[1] < value) {\n                    meta.domain[1] = value;\n                }\n            }\n            return value;\n        };\n        return { dataDomain: dataDomain, processValue: processValue, initDataDomain: initDataDomain };\n    };\n    return DataModel;\n}());\nexport { DataModel };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Validate, AND, LESS_THAN, GREATER_THAN, OPT_DATE_OR_DATETIME_MS } from '../../util/validation';\nimport { TimeScale } from '../../scale/timeScale';\nimport { extent } from '../../util/array';\nimport { ChartAxis } from '../chartAxis';\nvar TimeAxis = /** @class */ (function (_super) {\n    __extends(TimeAxis, _super);\n    function TimeAxis(moduleCtx) {\n        var _this = _super.call(this, moduleCtx, new TimeScale()) || this;\n        _this.datumFormat = '%m/%d/%y, %H:%M:%S';\n        _this.min = undefined;\n        _this.max = undefined;\n        var scale = _this.scale;\n        scale.strictClampByDefault = true;\n        _this.refreshScale();\n        _this.datumFormatter = scale.tickFormat({\n            specifier: _this.datumFormat,\n        });\n        return _this;\n    }\n    TimeAxis.prototype.normaliseDataDomain = function (d) {\n        var _a = this, min = _a.min, max = _a.max;\n        if (typeof min === 'number') {\n            min = new Date(min);\n        }\n        if (typeof max === 'number') {\n            max = new Date(max);\n        }\n        if (d.length > 2) {\n            d = (extent(d) || [0, 1000]).map(function (x) { return new Date(x); });\n        }\n        if (min instanceof Date) {\n            d = [min, d[1]];\n        }\n        if (max instanceof Date) {\n            d = [d[0], max];\n        }\n        if (d[0] > d[1]) {\n            d = [];\n        }\n        return d;\n    };\n    TimeAxis.prototype.onLabelFormatChange = function (ticks, format) {\n        if (format) {\n            _super.prototype.onLabelFormatChange.call(this, ticks, format);\n        }\n        else {\n            // For time axis labels to look nice, even if date format wasn't set.\n            this.labelFormatter = this.scale.tickFormat({ ticks: ticks });\n        }\n    };\n    TimeAxis.prototype.formatDatum = function (datum) {\n        return this.datumFormatter(datum);\n    };\n    TimeAxis.prototype.calculatePadding = function (_min, _max) {\n        // numbers in domain correspond to Unix timestamps\n        // automatically expand domain by 1 in each direction\n        return 1;\n    };\n    TimeAxis.className = 'TimeAxis';\n    TimeAxis.type = 'time';\n    __decorate([\n        Validate(AND(OPT_DATE_OR_DATETIME_MS, LESS_THAN('max')))\n    ], TimeAxis.prototype, \"min\", void 0);\n    __decorate([\n        Validate(AND(OPT_DATE_OR_DATETIME_MS, GREATER_THAN('min')))\n    ], TimeAxis.prototype, \"max\", void 0);\n    return TimeAxis;\n}(ChartAxis));\nexport { TimeAxis };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { SeriesTooltip, keyProperty, valueProperty, sumProperties } from '../series';\nimport { PointerEvents } from '../../../scene/node';\nimport { CartesianSeries, CartesianSeriesMarker, CartesianSeriesNodeClickEvent, CartesianSeriesNodeDoubleClickEvent, } from './cartesianSeries';\nimport { ChartAxisDirection } from '../../chartAxisDirection';\nimport { getMarker } from '../../marker/util';\nimport { toTooltipHtml } from '../../tooltip/tooltip';\nimport { extent } from '../../../util/array';\nimport { areArrayItemsStrictlyEqual } from '../../../util/equal';\nimport { interpolate } from '../../../util/string';\nimport { Label } from '../../label';\nimport { sanitizeHtml } from '../../../util/sanitize';\nimport { isContinuous, isNumber } from '../../../util/value';\nimport { ContinuousScale } from '../../../scale/continuousScale';\nimport { BOOLEAN_ARRAY, NUMBER, OPT_FUNCTION, OPT_LINE_DASH, OPT_STRING, STRING, STRING_ARRAY, COLOR_STRING_ARRAY, Validate, OPT_NUMBER, } from '../../../util/validation';\nimport { LogAxis } from '../../axis/logAxis';\nimport { DataModel, SUM_VALUE_EXTENT } from '../../data/dataModel';\nimport { TimeAxis } from '../../axis/timeAxis';\nvar AreaSeriesLabel = /** @class */ (function (_super) {\n    __extends(AreaSeriesLabel, _super);\n    function AreaSeriesLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.formatter = undefined;\n        return _this;\n    }\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], AreaSeriesLabel.prototype, \"formatter\", void 0);\n    return AreaSeriesLabel;\n}(Label));\nvar AreaSeriesTooltip = /** @class */ (function (_super) {\n    __extends(AreaSeriesTooltip, _super);\n    function AreaSeriesTooltip() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderer = undefined;\n        _this.format = undefined;\n        return _this;\n    }\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], AreaSeriesTooltip.prototype, \"renderer\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], AreaSeriesTooltip.prototype, \"format\", void 0);\n    return AreaSeriesTooltip;\n}(SeriesTooltip));\nvar AreaSeriesTag;\n(function (AreaSeriesTag) {\n    AreaSeriesTag[AreaSeriesTag[\"Fill\"] = 0] = \"Fill\";\n    AreaSeriesTag[AreaSeriesTag[\"Stroke\"] = 1] = \"Stroke\";\n    AreaSeriesTag[AreaSeriesTag[\"Marker\"] = 2] = \"Marker\";\n    AreaSeriesTag[AreaSeriesTag[\"Label\"] = 3] = \"Label\";\n})(AreaSeriesTag || (AreaSeriesTag = {}));\nvar AreaSeries = /** @class */ (function (_super) {\n    __extends(AreaSeries, _super);\n    function AreaSeries() {\n        var _this = _super.call(this, {\n            pathsPerSeries: 2,\n            pathsZIndexSubOrderOffset: [0, 1000],\n            hasMarkers: true,\n            renderLayerPerSubSeries: false,\n            directionKeys: {\n                x: ['xKey'],\n                y: ['yKeys'],\n            },\n        }) || this;\n        _this.tooltip = new AreaSeriesTooltip();\n        _this.marker = new CartesianSeriesMarker();\n        _this.label = new AreaSeriesLabel();\n        _this.fills = ['#c16068', '#a2bf8a', '#ebcc87', '#80a0c3', '#b58dae', '#85c0d1'];\n        _this.strokes = ['#874349', '#718661', '#a48f5f', '#5a7088', '#7f637a', '#5d8692'];\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        _this.lineDash = [0];\n        _this.lineDashOffset = 0;\n        _this._xKey = '';\n        _this.xName = '';\n        _this._yKeys = [];\n        _this._visibles = [];\n        _this.yNames = [];\n        _this.strokeWidth = 2;\n        _this.shadow = undefined;\n        var _a = _this, marker = _a.marker, label = _a.label;\n        marker.enabled = false;\n        label.enabled = false;\n        return _this;\n    }\n    Object.defineProperty(AreaSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            this._xKey = value;\n            this.processedData = undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AreaSeries.prototype, \"yKeys\", {\n        get: function () {\n            return this._yKeys;\n        },\n        set: function (values) {\n            if (!areArrayItemsStrictlyEqual(this._yKeys, values)) {\n                this._yKeys = values;\n                this.processedData = undefined;\n                this.processSeriesItemEnabled();\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AreaSeries.prototype, \"visibles\", {\n        get: function () {\n            return this._visibles;\n        },\n        set: function (visibles) {\n            this._visibles = visibles;\n            this.processSeriesItemEnabled();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AreaSeries.prototype.processSeriesItemEnabled = function () {\n        var _a = this, seriesItemEnabled = _a.seriesItemEnabled, _b = _a._visibles, visibles = _b === void 0 ? [] : _b;\n        seriesItemEnabled.clear();\n        this._yKeys.forEach(function (key, idx) { var _a; return seriesItemEnabled.set(key, (_a = visibles[idx]) !== null && _a !== void 0 ? _a : true); });\n    };\n    Object.defineProperty(AreaSeries.prototype, \"normalizedTo\", {\n        get: function () {\n            return this._normalizedTo;\n        },\n        set: function (value) {\n            var absValue = value ? Math.abs(value) : undefined;\n            if (this._normalizedTo !== absValue) {\n                this._normalizedTo = absValue;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AreaSeries.prototype.processData = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, xKey, yKeys, seriesItemEnabled, xAxis, yAxis, normalizedTo, data, isContinuousX, isContinuousY, enabledYKeys, normaliseTo;\n            return __generator(this, function (_b) {\n                _a = this, xKey = _a.xKey, yKeys = _a.yKeys, seriesItemEnabled = _a.seriesItemEnabled, xAxis = _a.xAxis, yAxis = _a.yAxis, normalizedTo = _a.normalizedTo;\n                data = xKey && yKeys.length && this.data ? this.data : [];\n                isContinuousX = (xAxis === null || xAxis === void 0 ? void 0 : xAxis.scale) instanceof ContinuousScale;\n                isContinuousY = (yAxis === null || yAxis === void 0 ? void 0 : yAxis.scale) instanceof ContinuousScale;\n                enabledYKeys = __spread(seriesItemEnabled.entries()).filter(function (_a) {\n                    var _b = __read(_a, 2), enabled = _b[1];\n                    return enabled;\n                }).map(function (_a) {\n                    var _b = __read(_a, 1), yKey = _b[0];\n                    return yKey;\n                });\n                normaliseTo = normalizedTo && isFinite(normalizedTo) ? normalizedTo : undefined;\n                this.dataModel = new DataModel({\n                    props: __spread([\n                        keyProperty(xKey, isContinuousX)\n                    ], enabledYKeys.map(function (yKey) {\n                        return valueProperty(yKey, isContinuousY, {\n                            missingValue: NaN,\n                            invalidValue: undefined,\n                        });\n                    }), [\n                        sumProperties(enabledYKeys),\n                        SUM_VALUE_EXTENT,\n                    ]),\n                    groupByKeys: true,\n                    dataVisible: this.visible && enabledYKeys.length > 0,\n                    normaliseTo: normaliseTo,\n                });\n                this.processedData = this.dataModel.processData(data);\n                return [2 /*return*/];\n            });\n        });\n    };\n    AreaSeries.prototype.getDomain = function (direction) {\n        var _a = this, processedData = _a.processedData, xAxis = _a.xAxis, yAxis = _a.yAxis;\n        if (!processedData)\n            return [];\n        var _b = processedData, _c = __read(_b.defs.keys, 1), keyDef = _c[0], _d = _b.domain, _e = __read(_d.keys, 1), keys = _e[0], _f = __read(_d.values, 1), yExtent = _f[0], _g = _b.reduced, _h = SUM_VALUE_EXTENT.property, ySumExtent = (_g === void 0 ? {} : _g)[_h];\n        if (direction === ChartAxisDirection.X) {\n            if (keyDef.valueType === 'category') {\n                return keys;\n            }\n            return this.fixNumericExtent(extent(keys), xAxis);\n        }\n        else if (yAxis instanceof LogAxis || yAxis instanceof TimeAxis) {\n            return this.fixNumericExtent(yExtent, yAxis);\n        }\n        else {\n            return this.fixNumericExtent(ySumExtent, yAxis);\n        }\n    };\n    AreaSeries.prototype.createNodeData = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, xAxis, yAxis, data, _b, groupedData, contexts, _c, yKeys, xKey, marker, label, fills, strokes, seriesId, xScale, yScale, continuousY, xOffset, xDataCount, cumulativePathValues, cumulativeMarkerValues, createPathCoordinates, createMarkerCoordinate;\n            var _this = this;\n            return __generator(this, function (_d) {\n                _a = this, xAxis = _a.xAxis, yAxis = _a.yAxis, data = _a.data, _b = _a.processedData, groupedData = (_b === void 0 ? {} : _b).data;\n                if (!xAxis || !yAxis || !data) {\n                    return [2 /*return*/, []];\n                }\n                contexts = [];\n                _c = this, yKeys = _c.yKeys, xKey = _c.xKey, marker = _c.marker, label = _c.label, fills = _c.fills, strokes = _c.strokes, seriesId = _c.id;\n                xScale = xAxis.scale;\n                yScale = yAxis.scale;\n                continuousY = yScale instanceof ContinuousScale;\n                xOffset = (xScale.bandwidth || 0) / 2;\n                xDataCount = data.length;\n                cumulativePathValues = new Array(xDataCount)\n                    .fill(null)\n                    .map(function () { return ({ left: 0, right: 0 }); });\n                cumulativeMarkerValues = new Array(xDataCount).fill(0);\n                createPathCoordinates = function (xDatum, yDatum, idx, side) {\n                    var x = xScale.convert(xDatum) + xOffset;\n                    var prevY = cumulativePathValues[idx][side];\n                    var currY = cumulativePathValues[idx][side] + yDatum;\n                    var prevYCoordinate = yScale.convert(prevY, { strict: false });\n                    var currYCoordinate = yScale.convert(currY, { strict: false });\n                    cumulativePathValues[idx][side] = currY;\n                    return [\n                        { x: x, y: currYCoordinate, size: marker.size },\n                        { x: x, y: prevYCoordinate, size: marker.size },\n                    ];\n                };\n                createMarkerCoordinate = function (xDatum, yDatum, idx, rawYDatum) {\n                    var currY;\n                    // if not normalized, the invalid data points will be processed as `undefined` in processData()\n                    // if normalized, the invalid data points will be processed as 0 rather than `undefined`\n                    // check if unprocessed datum is valid as we only want to show markers for valid points\n                    var normalized = _this.normalizedTo && isFinite(_this.normalizedTo);\n                    var normalizedAndValid = normalized && continuousY && isContinuous(rawYDatum);\n                    var valid = (!normalized && !isNaN(rawYDatum)) || normalizedAndValid;\n                    if (valid) {\n                        currY = cumulativeMarkerValues[idx] += yDatum;\n                    }\n                    var x = xScale.convert(xDatum) + xOffset;\n                    var y = yScale.convert(currY, { strict: false });\n                    return { x: x, y: y, size: marker.size };\n                };\n                yKeys.forEach(function (yKey, seriesIdx) {\n                    var _a;\n                    var yKeyDataIndex = (_a = _this.dataModel) === null || _a === void 0 ? void 0 : _a.resolveProcessedDataIndex(yKey);\n                    var labelSelectionData = [];\n                    var markerSelectionData = [];\n                    var strokeSelectionData = { itemId: yKey, points: [], yValues: [] };\n                    var fillSelectionData = { itemId: yKey, points: [] };\n                    contexts[seriesIdx] = {\n                        itemId: yKey,\n                        fillSelectionData: fillSelectionData,\n                        labelData: labelSelectionData,\n                        nodeData: markerSelectionData,\n                        strokeSelectionData: strokeSelectionData,\n                    };\n                    if (!yKeyDataIndex) {\n                        return;\n                    }\n                    var fillPoints = fillSelectionData.points;\n                    var fillPhantomPoints = [];\n                    var strokePoints = strokeSelectionData.points;\n                    var yValues = strokeSelectionData.yValues;\n                    var datumIdx = -1;\n                    groupedData === null || groupedData === void 0 ? void 0 : groupedData.forEach(function (datumGroup, dataIdx) {\n                        var _a = __read(datumGroup.keys, 1), xDatum = _a[0], datumArray = datumGroup.datum, valuesArray = datumGroup.values;\n                        valuesArray.forEach(function (values, valueIdx) {\n                            datumIdx++;\n                            var seriesDatum = datumArray[valueIdx];\n                            var rawYDatum = values[yKeyDataIndex.index];\n                            var yDatum = isNaN(rawYDatum) ? undefined : rawYDatum;\n                            var nextValuesSameGroup = valueIdx < valuesArray.length - 1;\n                            var nextDatumGroup = nextValuesSameGroup ? datumGroup : groupedData[dataIdx + 1];\n                            var nextXDatum = nextDatumGroup === null || nextDatumGroup === void 0 ? void 0 : nextDatumGroup.keys[0];\n                            var rawNextYIdx = nextValuesSameGroup ? valueIdx + 1 : 0;\n                            var rawNextYDatum = nextDatumGroup === null || nextDatumGroup === void 0 ? void 0 : nextDatumGroup.values[rawNextYIdx][yKeyDataIndex.index];\n                            var nextYDatum = isNaN(rawNextYDatum) ? undefined : rawNextYDatum;\n                            // marker data\n                            var point = createMarkerCoordinate(xDatum, +yDatum, datumIdx, seriesDatum[yKey]);\n                            if (marker) {\n                                markerSelectionData.push({\n                                    index: datumIdx,\n                                    series: _this,\n                                    itemId: yKey,\n                                    datum: seriesDatum,\n                                    nodeMidPoint: { x: point.x, y: point.y },\n                                    cumulativeValue: cumulativeMarkerValues[datumIdx],\n                                    yValue: yDatum,\n                                    yKey: yKey,\n                                    xKey: xKey,\n                                    point: point,\n                                    fill: fills[seriesIdx % fills.length],\n                                    stroke: strokes[seriesIdx % strokes.length],\n                                });\n                            }\n                            // label data\n                            var labelText;\n                            if (label.formatter) {\n                                labelText = label.formatter({ value: yDatum, seriesId: seriesId });\n                            }\n                            else {\n                                labelText = isNumber(yDatum) ? Number(yDatum).toFixed(2) : String(yDatum);\n                            }\n                            if (label) {\n                                labelSelectionData.push({\n                                    index: datumIdx,\n                                    itemId: yKey,\n                                    point: point,\n                                    label: labelText\n                                        ? {\n                                            text: labelText,\n                                            fontStyle: label.fontStyle,\n                                            fontWeight: label.fontWeight,\n                                            fontSize: label.fontSize,\n                                            fontFamily: label.fontFamily,\n                                            textAlign: 'center',\n                                            textBaseline: 'bottom',\n                                            fill: label.color,\n                                        }\n                                        : undefined,\n                                });\n                            }\n                            // fill data\n                            // Handle data in pairs of current and next x and y values\n                            var windowX = [xDatum, nextXDatum];\n                            var windowY = [yDatum, nextYDatum];\n                            if (windowX.some(function (v) { return v == undefined; })) {\n                                return;\n                            }\n                            if (windowY.some(function (v) { return v == undefined; })) {\n                                windowY[0] = 0;\n                                windowY[1] = 0;\n                            }\n                            var currCoordinates = createPathCoordinates(windowX[0], +windowY[0], datumIdx, 'right');\n                            fillPoints.push(currCoordinates[0]);\n                            fillPhantomPoints.push(currCoordinates[1]);\n                            var nextCoordinates = createPathCoordinates(windowX[1], +windowY[1], datumIdx, 'left');\n                            fillPoints.push(nextCoordinates[0]);\n                            fillPhantomPoints.push(nextCoordinates[1]);\n                            // stroke data\n                            strokePoints.push({ x: NaN, y: NaN }); // moveTo\n                            yValues.push(undefined);\n                            strokePoints.push(currCoordinates[0]);\n                            yValues.push(yDatum);\n                            if (nextYDatum !== undefined) {\n                                strokePoints.push(nextCoordinates[0]);\n                                yValues.push(yDatum);\n                            }\n                        });\n                    });\n                    for (var i = fillPhantomPoints.length - 1; i >= 0; i--) {\n                        fillPoints.push(fillPhantomPoints[i]);\n                    }\n                });\n                return [2 /*return*/, contexts];\n            });\n        });\n    };\n    AreaSeries.prototype.isPathOrSelectionDirty = function () {\n        return this.marker.isDirty();\n    };\n    AreaSeries.prototype.updatePaths = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, fillSelectionData, strokeSelectionData, _b, fill, stroke;\n            return __generator(this, function (_c) {\n                _a = opts.contextData, fillSelectionData = _a.fillSelectionData, strokeSelectionData = _a.strokeSelectionData, _b = __read(opts.paths, 2), fill = _b[0], stroke = _b[1];\n                fill.datum = fillSelectionData;\n                fill.tag = AreaSeriesTag.Fill;\n                fill.lineJoin = 'round';\n                fill.stroke = undefined;\n                fill.pointerEvents = PointerEvents.None;\n                stroke.datum = strokeSelectionData;\n                stroke.tag = AreaSeriesTag.Stroke;\n                stroke.fill = undefined;\n                stroke.lineJoin = stroke.lineCap = 'round';\n                stroke.pointerEvents = PointerEvents.None;\n                return [2 /*return*/];\n            });\n        });\n    };\n    AreaSeries.prototype.updatePathNodes = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, fill, stroke, seriesIdx, itemId, _b, strokes, fills, fillOpacity, strokeOpacity, strokeWidth, shadow, points, path, i, points_1, points_1_1, p, _c, points, yValues, moveTo_1, path, i, points_2, points_2_1, p;\n            var e_1, _d, e_2, _e;\n            return __generator(this, function (_f) {\n                _a = __read(opts.paths, 2), fill = _a[0], stroke = _a[1], seriesIdx = opts.seriesIdx, itemId = opts.itemId;\n                _b = this, strokes = _b.strokes, fills = _b.fills, fillOpacity = _b.fillOpacity, strokeOpacity = _b.strokeOpacity, strokeWidth = _b.strokeWidth, shadow = _b.shadow;\n                {\n                    points = fill.datum.points;\n                    fill.fill = fills[seriesIdx % fills.length];\n                    fill.fillOpacity = fillOpacity;\n                    fill.strokeOpacity = strokeOpacity;\n                    fill.strokeWidth = strokeWidth;\n                    fill.lineDash = this.lineDash;\n                    fill.lineDashOffset = this.lineDashOffset;\n                    fill.fillShadow = shadow;\n                    path = fill.path;\n                    path.clear({ trackChanges: true });\n                    i = 0;\n                    try {\n                        for (points_1 = __values(points), points_1_1 = points_1.next(); !points_1_1.done; points_1_1 = points_1.next()) {\n                            p = points_1_1.value;\n                            if (i++ > 0) {\n                                path.lineTo(p.x, p.y);\n                            }\n                            else {\n                                path.moveTo(p.x, p.y);\n                            }\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (points_1_1 && !points_1_1.done && (_d = points_1.return)) _d.call(points_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                    path.closePath();\n                    fill.checkPathDirty();\n                }\n                {\n                    _c = stroke.datum, points = _c.points, yValues = _c.yValues;\n                    moveTo_1 = true;\n                    stroke.stroke = strokes[seriesIdx % strokes.length];\n                    stroke.strokeWidth = this.getStrokeWidth(this.strokeWidth, { itemId: itemId });\n                    stroke.strokeOpacity = strokeOpacity;\n                    stroke.lineDash = this.lineDash;\n                    stroke.lineDashOffset = this.lineDashOffset;\n                    path = stroke.path;\n                    path.clear({ trackChanges: true });\n                    i = 0;\n                    try {\n                        for (points_2 = __values(points), points_2_1 = points_2.next(); !points_2_1.done; points_2_1 = points_2.next()) {\n                            p = points_2_1.value;\n                            if (yValues[i++] === undefined) {\n                                moveTo_1 = true;\n                            }\n                            else if (moveTo_1) {\n                                path.moveTo(p.x, p.y);\n                                moveTo_1 = false;\n                            }\n                            else {\n                                path.lineTo(p.x, p.y);\n                            }\n                        }\n                    }\n                    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                    finally {\n                        try {\n                            if (points_2_1 && !points_2_1.done && (_e = points_2.return)) _e.call(points_2);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                    }\n                    stroke.checkPathDirty();\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    AreaSeries.prototype.markerFactory = function () {\n        var shape = this.marker.shape;\n        var MarkerShape = getMarker(shape);\n        return new MarkerShape();\n    };\n    AreaSeries.prototype.updateMarkerSelection = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var nodeData, markerSelection, enabled, data;\n            return __generator(this, function (_a) {\n                nodeData = opts.nodeData, markerSelection = opts.markerSelection;\n                enabled = this.marker.enabled;\n                data = enabled && nodeData ? nodeData : [];\n                if (this.marker.isDirty()) {\n                    markerSelection.clear();\n                }\n                return [2 /*return*/, markerSelection.update(data, function (marker) {\n                        marker.tag = AreaSeriesTag.Marker;\n                    })];\n            });\n        });\n    };\n    AreaSeries.prototype.updateMarkerNodes = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var markerSelection, isDatumHighlighted, _a, seriesId, xKey, marker, seriesItemEnabled, yKeys, fills, strokes, seriesFillOpacity, _b, markerFillOpacity, strokeOpacity, _c, highlightedFill, _d, highlightFillOpacity, highlightedStroke, highlightedDatumStrokeWidth, size, formatter, markerStrokeWidth, customMarker;\n            return __generator(this, function (_e) {\n                markerSelection = opts.markerSelection, isDatumHighlighted = opts.isHighlight;\n                _a = this, seriesId = _a.id, xKey = _a.xKey, marker = _a.marker, seriesItemEnabled = _a.seriesItemEnabled, yKeys = _a.yKeys, fills = _a.fills, strokes = _a.strokes, seriesFillOpacity = _a.fillOpacity, _b = _a.marker.fillOpacity, markerFillOpacity = _b === void 0 ? seriesFillOpacity : _b, strokeOpacity = _a.strokeOpacity, _c = _a.highlightStyle.item, highlightedFill = _c.fill, _d = _c.fillOpacity, highlightFillOpacity = _d === void 0 ? markerFillOpacity : _d, highlightedStroke = _c.stroke, highlightedDatumStrokeWidth = _c.strokeWidth;\n                size = marker.size, formatter = marker.formatter;\n                markerStrokeWidth = marker.strokeWidth !== undefined ? marker.strokeWidth : this.strokeWidth;\n                customMarker = typeof marker.shape === 'function';\n                markerSelection.each(function (node, datum) {\n                    var _a, _b;\n                    var yKeyIndex = yKeys.indexOf(datum.yKey);\n                    var fill = isDatumHighlighted && highlightedFill !== undefined\n                        ? highlightedFill\n                        : marker.fill || fills[yKeyIndex % fills.length];\n                    var fillOpacity = isDatumHighlighted ? highlightFillOpacity : markerFillOpacity;\n                    var stroke = isDatumHighlighted && highlightedStroke !== undefined\n                        ? highlightedStroke\n                        : marker.stroke || strokes[yKeyIndex % fills.length];\n                    var strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== undefined\n                        ? highlightedDatumStrokeWidth\n                        : markerStrokeWidth;\n                    var format = undefined;\n                    if (formatter) {\n                        format = formatter({\n                            datum: datum.datum,\n                            xKey: xKey,\n                            yKey: datum.yKey,\n                            fill: fill,\n                            stroke: stroke,\n                            strokeWidth: strokeWidth,\n                            size: size,\n                            highlighted: isDatumHighlighted,\n                            seriesId: seriesId,\n                        });\n                    }\n                    node.fill = (format && format.fill) || fill;\n                    node.stroke = (format && format.stroke) || stroke;\n                    node.strokeWidth = format && format.strokeWidth !== undefined ? format.strokeWidth : strokeWidth;\n                    node.fillOpacity = fillOpacity !== null && fillOpacity !== void 0 ? fillOpacity : 1;\n                    node.strokeOpacity = (_b = (_a = marker.strokeOpacity) !== null && _a !== void 0 ? _a : strokeOpacity) !== null && _b !== void 0 ? _b : 1;\n                    node.size = format && format.size !== undefined ? format.size : size;\n                    node.translationX = datum.point.x;\n                    node.translationY = datum.point.y;\n                    node.visible =\n                        node.size > 0 && !!seriesItemEnabled.get(datum.yKey) && !isNaN(datum.point.x) && !isNaN(datum.point.y);\n                    if (!customMarker || node.dirtyPath) {\n                        return;\n                    }\n                    // Only for cutom marker shapes\n                    node.path.clear({ trackChanges: true });\n                    node.updatePath();\n                    node.checkPathDirty();\n                });\n                if (!isDatumHighlighted) {\n                    this.marker.markClean();\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    AreaSeries.prototype.updateLabelSelection = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var labelData, labelSelection;\n            return __generator(this, function (_a) {\n                labelData = opts.labelData, labelSelection = opts.labelSelection;\n                return [2 /*return*/, labelSelection.update(labelData, function (text) {\n                        text.tag = AreaSeriesTag.Label;\n                    })];\n            });\n        });\n    };\n    AreaSeries.prototype.updateLabelNodes = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var labelSelection, _a, labelEnabled, fontStyle, fontWeight, fontSize, fontFamily, color;\n            return __generator(this, function (_b) {\n                labelSelection = opts.labelSelection;\n                _a = this.label, labelEnabled = _a.enabled, fontStyle = _a.fontStyle, fontWeight = _a.fontWeight, fontSize = _a.fontSize, fontFamily = _a.fontFamily, color = _a.color;\n                labelSelection.each(function (text, datum) {\n                    var point = datum.point, label = datum.label;\n                    if (label && labelEnabled) {\n                        text.fontStyle = fontStyle;\n                        text.fontWeight = fontWeight;\n                        text.fontSize = fontSize;\n                        text.fontFamily = fontFamily;\n                        text.textAlign = label.textAlign;\n                        text.textBaseline = label.textBaseline;\n                        text.text = label.text;\n                        text.x = point.x;\n                        text.y = point.y - 10;\n                        text.fill = color;\n                        text.visible = true;\n                    }\n                    else {\n                        text.visible = false;\n                    }\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    AreaSeries.prototype.getNodeClickEvent = function (event, datum) {\n        return new CartesianSeriesNodeClickEvent(this.xKey, datum.yKey, event, datum, this);\n    };\n    AreaSeries.prototype.getNodeDoubleClickEvent = function (event, datum) {\n        return new CartesianSeriesNodeDoubleClickEvent(this.xKey, datum.yKey, event, datum, this);\n    };\n    AreaSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a, _b, _c;\n        var _d = this, xKey = _d.xKey, seriesId = _d.id;\n        var yKey = nodeDatum.yKey;\n        var yKeyDataIndex = (_a = this.dataModel) === null || _a === void 0 ? void 0 : _a.resolveProcessedDataIndex(yKey);\n        if (!(xKey && yKey) || !yKeyDataIndex) {\n            return '';\n        }\n        var datum = nodeDatum.datum;\n        var xValue = datum[xKey];\n        var yValue = datum[yKey];\n        var _e = this, xAxis = _e.xAxis, yAxis = _e.yAxis, yKeys = _e.yKeys;\n        if (!(xAxis && yAxis && isNumber(yValue)) || !yKeyDataIndex) {\n            return '';\n        }\n        var _f = this, xName = _f.xName, yNames = _f.yNames, fills = _f.fills, strokes = _f.strokes, tooltip = _f.tooltip, marker = _f.marker;\n        var size = marker.size, markerFormatter = marker.formatter, markerStrokeWidth = marker.strokeWidth, markerFill = marker.fill, markerStroke = marker.stroke;\n        var xString = xAxis.formatDatum(xValue);\n        var yString = yAxis.formatDatum(yValue);\n        var yKeyIndex = yKeys.indexOf(yKey);\n        var processedYValue = (_c = (_b = this.processedData) === null || _b === void 0 ? void 0 : _b.data[nodeDatum.index]) === null || _c === void 0 ? void 0 : _c.values[0][yKeyDataIndex === null || yKeyDataIndex === void 0 ? void 0 : yKeyDataIndex.index];\n        var yName = yNames[yKeyIndex];\n        var title = sanitizeHtml(yName);\n        var content = sanitizeHtml(xString + ': ' + yString);\n        var strokeWidth = markerStrokeWidth !== undefined ? markerStrokeWidth : this.strokeWidth;\n        var fill = markerFill || fills[yKeyIndex % fills.length];\n        var stroke = markerStroke || strokes[yKeyIndex % fills.length];\n        var format = undefined;\n        if (markerFormatter) {\n            format = markerFormatter({\n                datum: datum,\n                xKey: xKey,\n                yKey: yKey,\n                fill: fill,\n                stroke: stroke,\n                strokeWidth: strokeWidth,\n                size: size,\n                highlighted: false,\n                seriesId: seriesId,\n            });\n        }\n        var color = (format && format.fill) || fill;\n        var defaults = {\n            title: title,\n            backgroundColor: color,\n            content: content,\n        };\n        var tooltipRenderer = tooltip.renderer, tooltipFormat = tooltip.format;\n        if (tooltipFormat || tooltipRenderer) {\n            var params = {\n                datum: datum,\n                xKey: xKey,\n                xName: xName,\n                xValue: xValue,\n                yKey: yKey,\n                yValue: yValue,\n                processedYValue: processedYValue,\n                yName: yName,\n                color: color,\n                title: title,\n                seriesId: seriesId,\n            };\n            if (tooltipFormat) {\n                return toTooltipHtml({\n                    content: interpolate(tooltipFormat, params),\n                }, defaults);\n            }\n            if (tooltipRenderer) {\n                return toTooltipHtml(tooltipRenderer(params), defaults);\n            }\n        }\n        return toTooltipHtml(defaults);\n    };\n    AreaSeries.prototype.getLegendData = function () {\n        var _a, _b;\n        var _c = this, data = _c.data, id = _c.id, xKey = _c.xKey, yKeys = _c.yKeys, yNames = _c.yNames, seriesItemEnabled = _c.seriesItemEnabled, marker = _c.marker, fills = _c.fills, strokes = _c.strokes, fillOpacity = _c.fillOpacity, strokeOpacity = _c.strokeOpacity;\n        if (!data || !data.length || !xKey || !yKeys.length) {\n            return [];\n        }\n        var legendData = [];\n        // Area stacks should be listed in the legend in reverse order, for symmetry with the\n        // vertical stack display order.\n        for (var index = yKeys.length - 1; index >= 0; index--) {\n            var yKey = yKeys[index];\n            legendData.push({\n                id: id,\n                itemId: yKey,\n                seriesId: id,\n                enabled: seriesItemEnabled.get(yKey) || false,\n                label: {\n                    text: yNames[index] || yKeys[index],\n                },\n                marker: {\n                    shape: marker.shape,\n                    fill: marker.fill || fills[index % fills.length],\n                    stroke: marker.stroke || strokes[index % strokes.length],\n                    fillOpacity: (_a = marker.fillOpacity) !== null && _a !== void 0 ? _a : fillOpacity,\n                    strokeOpacity: (_b = marker.strokeOpacity) !== null && _b !== void 0 ? _b : strokeOpacity,\n                },\n            });\n        }\n        return legendData;\n    };\n    AreaSeries.prototype.isLabelEnabled = function () {\n        return this.label.enabled;\n    };\n    AreaSeries.className = 'AreaSeries';\n    AreaSeries.type = 'area';\n    __decorate([\n        Validate(COLOR_STRING_ARRAY)\n    ], AreaSeries.prototype, \"fills\", void 0);\n    __decorate([\n        Validate(COLOR_STRING_ARRAY)\n    ], AreaSeries.prototype, \"strokes\", void 0);\n    __decorate([\n        Validate(NUMBER(0, 1))\n    ], AreaSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        Validate(NUMBER(0, 1))\n    ], AreaSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        Validate(OPT_LINE_DASH)\n    ], AreaSeries.prototype, \"lineDash\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], AreaSeries.prototype, \"lineDashOffset\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], AreaSeries.prototype, \"_xKey\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], AreaSeries.prototype, \"xName\", void 0);\n    __decorate([\n        Validate(STRING_ARRAY)\n    ], AreaSeries.prototype, \"_yKeys\", void 0);\n    __decorate([\n        Validate(BOOLEAN_ARRAY)\n    ], AreaSeries.prototype, \"_visibles\", void 0);\n    __decorate([\n        Validate(STRING_ARRAY)\n    ], AreaSeries.prototype, \"yNames\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER())\n    ], AreaSeries.prototype, \"_normalizedTo\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], AreaSeries.prototype, \"strokeWidth\", void 0);\n    return AreaSeries;\n}(CartesianSeries));\nexport { AreaSeries };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Path, ScenePathChangeDetection } from './path';\nimport { BBox } from '../bbox';\nimport { Shape } from './shape';\nimport { Path2D } from '../path2D';\nvar Rect = /** @class */ (function (_super) {\n    __extends(Rect, _super);\n    function Rect() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.borderPath = new Path2D();\n        _this.x = 0;\n        _this.y = 0;\n        _this.width = 10;\n        _this.height = 10;\n        _this.radius = 0;\n        /**\n         * If `true`, the rect is aligned to the pixel grid for crisp looking lines.\n         * Animated rects may not look nice with this option enabled, for example\n         * when a rect is translated by a sub-pixel value on each frame.\n         */\n        _this.crisp = false;\n        _this.lastUpdatePathStrokeWidth = Shape.defaultStyles.strokeWidth;\n        _this.effectiveStrokeWidth = Shape.defaultStyles.strokeWidth;\n        /**\n         * When the rectangle's width or height is less than a pixel\n         * and crisp mode is on, the rectangle will still fit into the pixel,\n         * but will be less opaque to make an effect of holding less space.\n         */\n        _this.microPixelEffectOpacity = 1;\n        return _this;\n    }\n    Rect.prototype.isDirtyPath = function () {\n        var _a;\n        if (this.lastUpdatePathStrokeWidth !== this.strokeWidth) {\n            return true;\n        }\n        if (this.path.isDirty() || this.borderPath.isDirty() || ((_a = this.clipPath) === null || _a === void 0 ? void 0 : _a.isDirty())) {\n            return true;\n        }\n        return false;\n    };\n    Rect.prototype.updatePath = function () {\n        var _a, _b, _c;\n        var _d = this, path = _d.path, borderPath = _d.borderPath, crisp = _d.crisp;\n        var _e = this, x = _e.x, y = _e.y, w = _e.width, h = _e.height, strokeWidth = _e.strokeWidth;\n        var pixelRatio = (_b = (_a = this.layerManager) === null || _a === void 0 ? void 0 : _a.canvas.pixelRatio) !== null && _b !== void 0 ? _b : 1;\n        var pixelSize = 1 / pixelRatio;\n        var microPixelEffectOpacity = 1;\n        path.clear({ trackChanges: true });\n        borderPath.clear({ trackChanges: true });\n        if (crisp) {\n            if (w <= pixelSize) {\n                microPixelEffectOpacity *= w / pixelSize;\n            }\n            if (h <= pixelSize) {\n                microPixelEffectOpacity *= h / pixelSize;\n            }\n            w = this.align(x, w);\n            h = this.align(y, h);\n            x = this.align(x);\n            y = this.align(y);\n        }\n        if (strokeWidth) {\n            if (w < pixelSize) {\n                // Too narrow, draw a vertical stroke\n                var lx = x + pixelSize / 2;\n                borderPath.moveTo(lx, y);\n                borderPath.lineTo(lx, y + h);\n                strokeWidth = pixelSize;\n                this.borderClipPath = undefined;\n            }\n            else if (h < pixelSize) {\n                // Too narrow, draw a horizontal stroke\n                var ly = y + pixelSize / 2;\n                borderPath.moveTo(x, ly);\n                borderPath.lineTo(x + w, ly);\n                strokeWidth = pixelSize;\n                this.borderClipPath = undefined;\n            }\n            else if (strokeWidth < w && strokeWidth < h) {\n                var halfStrokeWidth = strokeWidth / 2;\n                x += halfStrokeWidth;\n                y += halfStrokeWidth;\n                w -= strokeWidth;\n                h -= strokeWidth;\n                // Clipping not needed in this case; fill to center of stroke.\n                this.borderClipPath = undefined;\n                path.rect(x, y, w, h);\n                borderPath.rect(x, y, w, h);\n            }\n            else {\n                // Skip the fill and just render the stroke.\n                this.borderClipPath = (_c = this.borderClipPath) !== null && _c !== void 0 ? _c : new Path2D();\n                this.borderClipPath.clear({ trackChanges: true });\n                this.borderClipPath.rect(x, y, w, h);\n                borderPath.rect(x, y, w, h);\n            }\n        }\n        else {\n            // No borderPath needed, and thus no clipPath needed either. Fill to full extent of\n            // Rect.\n            this.borderClipPath = undefined;\n            path.rect(x, y, w, h);\n        }\n        this.effectiveStrokeWidth = strokeWidth;\n        this.lastUpdatePathStrokeWidth = strokeWidth;\n        this.microPixelEffectOpacity = microPixelEffectOpacity;\n    };\n    Rect.prototype.computeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        return new BBox(x, y, width, height);\n    };\n    Rect.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return bbox.containsPoint(point.x, point.y);\n    };\n    Rect.prototype.applyFillAlpha = function (ctx) {\n        var _a = this, fillOpacity = _a.fillOpacity, microPixelEffectOpacity = _a.microPixelEffectOpacity, opacity = _a.opacity;\n        ctx.globalAlpha = opacity * fillOpacity * microPixelEffectOpacity;\n    };\n    Rect.prototype.renderStroke = function (ctx) {\n        var _a = this, stroke = _a.stroke, effectiveStrokeWidth = _a.effectiveStrokeWidth, borderPath = _a.borderPath, borderClipPath = _a.borderClipPath, opacity = _a.opacity, microPixelEffectOpacity = _a.microPixelEffectOpacity;\n        var borderActive = !!stroke && !!effectiveStrokeWidth;\n        if (borderActive) {\n            var _b = this, strokeOpacity = _b.strokeOpacity, lineDash = _b.lineDash, lineDashOffset = _b.lineDashOffset, lineCap = _b.lineCap, lineJoin = _b.lineJoin;\n            if (borderClipPath) {\n                // strokeWidth is larger than width or height, so use clipping to render correctly.\n                // This is the simplest way to achieve the correct rendering due to nuances with ~0\n                // width/height lines in Canvas operations.\n                borderClipPath.draw(ctx);\n                ctx.clip();\n            }\n            borderPath.draw(ctx);\n            var globalAlpha = ctx.globalAlpha;\n            ctx.strokeStyle = stroke;\n            ctx.globalAlpha = globalAlpha * opacity * strokeOpacity * microPixelEffectOpacity;\n            ctx.lineWidth = effectiveStrokeWidth;\n            if (lineDash) {\n                ctx.setLineDash(lineDash);\n            }\n            if (lineDashOffset) {\n                ctx.lineDashOffset = lineDashOffset;\n            }\n            if (lineCap) {\n                ctx.lineCap = lineCap;\n            }\n            if (lineJoin) {\n                ctx.lineJoin = lineJoin;\n            }\n            ctx.stroke();\n            ctx.globalAlpha = globalAlpha;\n        }\n    };\n    Rect.className = 'Rect';\n    __decorate([\n        ScenePathChangeDetection()\n    ], Rect.prototype, \"x\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Rect.prototype, \"y\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Rect.prototype, \"width\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Rect.prototype, \"height\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Rect.prototype, \"radius\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Rect.prototype, \"crisp\", void 0);\n    return Rect;\n}(Path));\nexport { Rect };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { Rect } from '../../../scene/shape/rect';\nimport { BandScale } from '../../../scale/bandScale';\nimport { SeriesTooltip, SeriesNodePickMode, keyProperty, valueProperty, sumProperties, } from '../series';\nimport { Label } from '../../label';\nimport { PointerEvents } from '../../../scene/node';\nimport { CartesianSeries, CartesianSeriesNodeClickEvent, CartesianSeriesNodeDoubleClickEvent, } from './cartesianSeries';\nimport { flipChartAxisDirection } from '../../chartAxis';\nimport { ChartAxisDirection } from '../../chartAxisDirection';\nimport { toTooltipHtml } from '../../tooltip/tooltip';\nimport { extent } from '../../../util/array';\nimport { areArrayItemsStrictlyEqual } from '../../../util/equal';\nimport { sanitizeHtml } from '../../../util/sanitize';\nimport { isNumber } from '../../../util/value';\nimport { ContinuousScale } from '../../../scale/continuousScale';\nimport { BOOLEAN, BOOLEAN_ARRAY, NUMBER, OPT_FUNCTION, OPT_LINE_DASH, OPT_NUMBER, STRING, STRING_ARRAY, COLOR_STRING_ARRAY, Validate, OPTIONAL, } from '../../../util/validation';\nimport { CategoryAxis } from '../../axis/categoryAxis';\nimport { GroupedCategoryAxis } from '../../axis/groupedCategoryAxis';\nimport { LogAxis } from '../../axis/logAxis';\nimport { DataModel, SMALLEST_KEY_INTERVAL, SUM_VALUE_EXTENT } from '../../data/dataModel';\nvar BAR_LABEL_PLACEMENTS = ['inside', 'outside'];\nvar OPT_BAR_LABEL_PLACEMENT = function (v, ctx) {\n    return OPTIONAL(v, ctx, function (v) { return BAR_LABEL_PLACEMENTS.includes(v); });\n};\nvar BarSeriesNodeTag;\n(function (BarSeriesNodeTag) {\n    BarSeriesNodeTag[BarSeriesNodeTag[\"Bar\"] = 0] = \"Bar\";\n    BarSeriesNodeTag[BarSeriesNodeTag[\"Label\"] = 1] = \"Label\";\n})(BarSeriesNodeTag || (BarSeriesNodeTag = {}));\nvar BarSeriesLabel = /** @class */ (function (_super) {\n    __extends(BarSeriesLabel, _super);\n    function BarSeriesLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.formatter = undefined;\n        _this.placement = 'inside';\n        return _this;\n    }\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], BarSeriesLabel.prototype, \"formatter\", void 0);\n    __decorate([\n        Validate(OPT_BAR_LABEL_PLACEMENT)\n    ], BarSeriesLabel.prototype, \"placement\", void 0);\n    return BarSeriesLabel;\n}(Label));\nvar BarSeriesTooltip = /** @class */ (function (_super) {\n    __extends(BarSeriesTooltip, _super);\n    function BarSeriesTooltip() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderer = undefined;\n        return _this;\n    }\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], BarSeriesTooltip.prototype, \"renderer\", void 0);\n    return BarSeriesTooltip;\n}(SeriesTooltip));\nfunction is2dArray(array) {\n    return array.length > 0 && Array.isArray(array[0]);\n}\nvar BarSeries = /** @class */ (function (_super) {\n    __extends(BarSeries, _super);\n    function BarSeries() {\n        var _a;\n        var _this = _super.call(this, {\n            pickModes: [SeriesNodePickMode.EXACT_SHAPE_MATCH],\n            pathsPerSeries: 0,\n            directionKeys: (_a = {},\n                _a[ChartAxisDirection.X] = ['xKey'],\n                _a[ChartAxisDirection.Y] = ['yKeys'],\n                _a),\n        }) || this;\n        _this.label = new BarSeriesLabel();\n        _this.tooltip = new BarSeriesTooltip();\n        _this.flipXY = false;\n        _this.fills = ['#c16068', '#a2bf8a', '#ebcc87', '#80a0c3', '#b58dae', '#85c0d1'];\n        _this.strokes = ['#874349', '#718661', '#a48f5f', '#5a7088', '#7f637a', '#5d8692'];\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        _this.lineDash = [0];\n        _this.lineDashOffset = 0;\n        _this.formatter = undefined;\n        /**\n         * Used to get the position of bars within each group.\n         */\n        _this.groupScale = new BandScale();\n        _this._xKey = '';\n        _this.xName = '';\n        _this.cumYKeyCount = [];\n        _this.flatYKeys = undefined; // only set when a user used a flat array for yKeys\n        _this.hideInLegend = [];\n        _this.yKeys = [];\n        _this.yKeysCache = [];\n        _this.visibles = [];\n        _this._grouped = false;\n        _this.stackGroups = {};\n        /**\n         * A map of `yKeys` to their names (used in legends and tooltips).\n         * For example, if a key is `product_name` it's name can be a more presentable `Product Name`.\n         */\n        _this.yNames = {};\n        _this.strokeWidth = 1;\n        _this.shadow = undefined;\n        _this.smallestDataInterval = undefined;\n        _this.label.enabled = false;\n        return _this;\n    }\n    BarSeries.prototype.resolveKeyDirection = function (direction) {\n        return this.flipXY ? flipChartAxisDirection(direction) : direction;\n    };\n    Object.defineProperty(BarSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            this._xKey = value;\n            this.processedData = undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BarSeries.prototype.processYKeys = function () {\n        var _this = this;\n        var yKeys = this.yKeys;\n        var flatYKeys = undefined;\n        // Convert from flat y-keys to grouped y-keys.\n        if (!is2dArray(yKeys)) {\n            flatYKeys = yKeys;\n            yKeys = this.grouped ? flatYKeys.map(function (k) { return [k]; }) : [flatYKeys];\n        }\n        var stackGroups = Object.values(this.stackGroups);\n        if (stackGroups.length > 0) {\n            var flattenKeys = function (keys) { return keys.reduce(function (res, k) { return res.concat(k); }, []); };\n            // Create a stack for items without a group\n            var flatKeys_1 = flattenKeys(yKeys);\n            var keysInStacks_1 = new Set(flattenKeys(stackGroups));\n            var ungroupedKeys = flatKeys_1.filter(function (k) { return !keysInStacks_1.has(k); });\n            yKeys = stackGroups.map(function (keys) { return keys; });\n            if (ungroupedKeys.length > 0) {\n                yKeys.push(ungroupedKeys);\n            }\n            // Preserve the order of colours and other properties\n            var indexMap = function (items) {\n                return items.reduce(function (map, key, index) { return map.set(key, index); }, new Map());\n            };\n            var newKeys = flattenKeys(yKeys);\n            var newKeysIndices_1 = indexMap(newKeys);\n            var sort = function (items) {\n                var result = Array.from({ length: items.length });\n                items.forEach(function (item, index) {\n                    var key = flatKeys_1[index];\n                    var newIndex = newKeysIndices_1.get(key);\n                    result[newIndex] = item;\n                });\n                return result;\n            };\n            this.fills = sort(this.fills);\n            this.strokes = sort(this.strokes);\n            this.visibles = sort(this.visibles);\n        }\n        if (!areArrayItemsStrictlyEqual(this.yKeysCache, yKeys)) {\n            this.flatYKeys = flatYKeys ? flatYKeys : undefined;\n            this.yKeys = yKeys;\n            var prevYKeyCount_1 = 0;\n            this.cumYKeyCount = [];\n            var visibleStacks_1 = [];\n            yKeys.forEach(function (stack, index) {\n                if (stack.length > 0) {\n                    visibleStacks_1.push(String(index));\n                }\n                _this.cumYKeyCount.push(prevYKeyCount_1);\n                prevYKeyCount_1 += stack.length;\n            });\n            this.processSeriesItemEnabled();\n            var groupScale = this.groupScale;\n            groupScale.domain = visibleStacks_1;\n        }\n        this.yKeysCache = yKeys;\n    };\n    BarSeries.prototype.processSeriesItemEnabled = function () {\n        var seriesItemEnabled = this.seriesItemEnabled;\n        var flattenFn = function (r, n) { return r.concat.apply(r, __spread((Array.isArray(n) ? n : [n]))); };\n        var visibles = this.visibles.reduce(flattenFn, []);\n        seriesItemEnabled.clear();\n        var visiblesIdx = 0;\n        this.yKeys.forEach(function (stack) {\n            stack.forEach(function (yKey) { var _a; return seriesItemEnabled.set(yKey, (_a = visibles[visiblesIdx++]) !== null && _a !== void 0 ? _a : true); });\n        });\n    };\n    Object.defineProperty(BarSeries.prototype, \"grouped\", {\n        get: function () {\n            return this._grouped;\n        },\n        set: function (value) {\n            this._grouped = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BarSeries.prototype.getStackGroup = function (yKey) {\n        var _a;\n        var stackGroups = this.stackGroups;\n        return (_a = Object.entries(stackGroups).find(function (_a) {\n            var _b = __read(_a, 2), _ = _b[0], keys = _b[1];\n            return keys.includes(yKey);\n        })) === null || _a === void 0 ? void 0 : _a[0];\n    };\n    BarSeries.prototype.processYNames = function () {\n        var values = this.yNames;\n        if (Array.isArray(values) && this.flatYKeys) {\n            var map_1 = {};\n            this.flatYKeys.forEach(function (k, i) {\n                map_1[k] = values[i];\n            });\n            this.yNames = map_1;\n        }\n    };\n    Object.defineProperty(BarSeries.prototype, \"normalizedTo\", {\n        get: function () {\n            return this._normalizedTo;\n        },\n        set: function (value) {\n            var absValue = value ? Math.abs(value) : undefined;\n            this._normalizedTo = absValue;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BarSeries.prototype.processData = function () {\n        var _a, _b, _c, _d, _e;\n        return __awaiter(this, void 0, void 0, function () {\n            var _f, xKey, seriesItemEnabled, normalizedTo, _g, data, isContinuousX, isContinuousY, activeSeriesItems, activeStacks, normaliseTo;\n            return __generator(this, function (_h) {\n                this.processYKeys();\n                this.processYNames();\n                _f = this, xKey = _f.xKey, seriesItemEnabled = _f.seriesItemEnabled, normalizedTo = _f.normalizedTo, _g = _f.data, data = _g === void 0 ? [] : _g;\n                isContinuousX = ((_a = this.getCategoryAxis()) === null || _a === void 0 ? void 0 : _a.scale) instanceof ContinuousScale;\n                isContinuousY = ((_b = this.getValueAxis()) === null || _b === void 0 ? void 0 : _b.scale) instanceof ContinuousScale;\n                activeSeriesItems = __spread(seriesItemEnabled.entries()).filter(function (_a) {\n                    var _b = __read(_a, 2), enabled = _b[1];\n                    return enabled;\n                })\n                    .map(function (_a) {\n                    var _b = __read(_a, 1), yKey = _b[0];\n                    return yKey;\n                });\n                activeStacks = this.yKeys\n                    .map(function (stack) { return stack.filter(function (key) { return seriesItemEnabled.get(key); }); })\n                    .filter(function (stack) { return stack.length > 0; });\n                normaliseTo = normalizedTo && isFinite(normalizedTo) ? normalizedTo : undefined;\n                this.dataModel = new DataModel({\n                    props: __spread([\n                        keyProperty(xKey, isContinuousX)\n                    ], activeSeriesItems.map(function (yKey) { return valueProperty(yKey, isContinuousY, { invalidValue: null }); }), activeStacks.map(function (stack) { return sumProperties(stack); }), (isContinuousX ? [SMALLEST_KEY_INTERVAL] : []), [\n                        SUM_VALUE_EXTENT,\n                    ]),\n                    groupByKeys: true,\n                    dataVisible: this.visible && activeSeriesItems.length > 0,\n                    normaliseTo: normaliseTo,\n                });\n                this.processedData = this.dataModel.processData(data);\n                this.smallestDataInterval = {\n                    x: (_e = (_d = (_c = this.processedData) === null || _c === void 0 ? void 0 : _c.reduced) === null || _d === void 0 ? void 0 : _d[SMALLEST_KEY_INTERVAL.property]) !== null && _e !== void 0 ? _e : Infinity,\n                    y: Infinity,\n                };\n                return [2 /*return*/];\n            });\n        });\n    };\n    BarSeries.prototype.getDomain = function (direction) {\n        var _a = this, flipXY = _a.flipXY, processedData = _a.processedData;\n        if (!processedData)\n            return [];\n        if (flipXY) {\n            direction = flipChartAxisDirection(direction);\n        }\n        var _b = processedData, _c = __read(_b.defs.keys, 1), keyDef = _c[0], _d = _b.domain, _e = __read(_d.keys, 1), keys = _e[0], _f = __read(_d.values, 1), yExtent = _f[0], _g = _b.reduced, _h = _g === void 0 ? {} : _g, _j = SMALLEST_KEY_INTERVAL.property, smallestX = _h[_j], _k = SUM_VALUE_EXTENT.property, ySumExtent = _h[_k];\n        if (direction === ChartAxisDirection.X) {\n            if (keyDef.valueType === 'category') {\n                return keys;\n            }\n            var keysExtent = extent(keys) || [NaN, NaN];\n            if (flipXY) {\n                return [keysExtent[0] + -smallestX, keysExtent[1]];\n            }\n            return [keysExtent[0], keysExtent[1] + smallestX];\n        }\n        else if (this.getValueAxis() instanceof LogAxis) {\n            return this.fixNumericExtent(yExtent);\n        }\n        else {\n            return this.fixNumericExtent(ySumExtent);\n        }\n    };\n    BarSeries.prototype.getNodeClickEvent = function (event, datum) {\n        return new CartesianSeriesNodeClickEvent(this.xKey, datum.yKey, event, datum, this);\n    };\n    BarSeries.prototype.getNodeDoubleClickEvent = function (event, datum) {\n        return new CartesianSeriesNodeDoubleClickEvent(this.xKey, datum.yKey, event, datum, this);\n    };\n    BarSeries.prototype.getCategoryAxis = function () {\n        return this.flipXY ? this.yAxis : this.xAxis;\n    };\n    BarSeries.prototype.getValueAxis = function () {\n        return this.flipXY ? this.xAxis : this.yAxis;\n    };\n    BarSeries.prototype.calculateStep = function (range) {\n        var _a;\n        var smallestInterval = this.smallestDataInterval;\n        var xAxis = this.getCategoryAxis();\n        if (!xAxis) {\n            return;\n        }\n        // calculate step\n        var domainLength = xAxis.dataDomain[1] - xAxis.dataDomain[0];\n        var intervals = domainLength / ((_a = smallestInterval === null || smallestInterval === void 0 ? void 0 : smallestInterval.x) !== null && _a !== void 0 ? _a : 1) + 1;\n        // The number of intervals/bands is used to determine the width of individual bands by dividing the available range.\n        // Allow a maximum number of bands to ensure the step does not fall below 1 pixel.\n        // This means there could be some overlap of the bands in the chart.\n        var maxBands = Math.floor(range); // A minimum of 1px per bar/column means the maximum number of bands will equal the available range\n        var bands = Math.min(intervals, maxBands);\n        var step = range / Math.max(1, bands);\n        return step;\n    };\n    BarSeries.prototype.createNodeData = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, data, visible, xAxis, yAxis, xScale, yScale, _b, groupScale, yKeys, xKey, cumYKeyCount, fills, strokes, strokeWidth, seriesItemEnabled, label, flipXY, seriesId, processedData, labelFontStyle, labelFontWeight, labelFontSize, labelFontFamily, labelColor, labelFormatter, labelPlacement, xBandWidth, availableRange, step, barWidth, contexts;\n            var _this = this;\n            return __generator(this, function (_c) {\n                _a = this, data = _a.data, visible = _a.visible;\n                xAxis = this.getCategoryAxis();\n                yAxis = this.getValueAxis();\n                if (!(data && visible && xAxis && yAxis)) {\n                    return [2 /*return*/, []];\n                }\n                xScale = xAxis.scale;\n                yScale = yAxis.scale;\n                _b = this, groupScale = _b.groupScale, yKeys = _b.yKeys, xKey = _b.xKey, cumYKeyCount = _b.cumYKeyCount, fills = _b.fills, strokes = _b.strokes, strokeWidth = _b.strokeWidth, seriesItemEnabled = _b.seriesItemEnabled, label = _b.label, flipXY = _b.flipXY, seriesId = _b.id, processedData = _b.processedData;\n                labelFontStyle = label.fontStyle, labelFontWeight = label.fontWeight, labelFontSize = label.fontSize, labelFontFamily = label.fontFamily, labelColor = label.color, labelFormatter = label.formatter, labelPlacement = label.placement;\n                xBandWidth = xScale.bandwidth;\n                if (xScale instanceof ContinuousScale) {\n                    availableRange = Math.max(xAxis.range[0], xAxis.range[1]);\n                    step = this.calculateStep(availableRange);\n                    xBandWidth = step;\n                }\n                groupScale.range = [0, xBandWidth];\n                if (xAxis instanceof CategoryAxis) {\n                    groupScale.padding = xAxis.groupPaddingInner;\n                }\n                else if (xAxis instanceof GroupedCategoryAxis) {\n                    groupScale.padding = 0.1;\n                }\n                else {\n                    // Number or Time axis\n                    groupScale.padding = 0;\n                }\n                // To get exactly `0` padding we need to turn off rounding\n                if (groupScale.padding === 0) {\n                    groupScale.round = false;\n                }\n                else {\n                    groupScale.round = true;\n                }\n                barWidth = groupScale.bandwidth >= 1\n                    ? // Pixel-rounded value for low-volume bar charts.\n                        groupScale.bandwidth\n                    : // Handle high-volume bar charts gracefully.\n                        groupScale.rawBandwidth;\n                contexts = [];\n                processedData === null || processedData === void 0 ? void 0 : processedData.data.forEach(function (_a, dataIndex) {\n                    var _b, _c, _d, _e, _f;\n                    var _g;\n                    var keys = _a.keys, seriesDatum = _a.datum, values = _a.values;\n                    var x = xScale.convert(keys[0]);\n                    for (var stackIndex = 0; stackIndex < ((_b = yKeys === null || yKeys === void 0 ? void 0 : yKeys.length) !== null && _b !== void 0 ? _b : 0); stackIndex++) {\n                        var stackYKeys = (_c = yKeys === null || yKeys === void 0 ? void 0 : yKeys[stackIndex]) !== null && _c !== void 0 ? _c : []; // y-data for a stack within a group\n                        (_d = contexts[stackIndex]) !== null && _d !== void 0 ? _d : (contexts[stackIndex] = []);\n                        var prevMinY = 0;\n                        var prevMaxY = 0;\n                        for (var levelIndex = 0; levelIndex < stackYKeys.length; levelIndex++) {\n                            var yKey = stackYKeys[levelIndex];\n                            var yIndex = (_e = processedData === null || processedData === void 0 ? void 0 : processedData.indices.values[yKey]) !== null && _e !== void 0 ? _e : -1;\n                            (_f = (_g = contexts[stackIndex])[levelIndex]) !== null && _f !== void 0 ? _f : (_g[levelIndex] = {\n                                itemId: yKey,\n                                nodeData: [],\n                                labelData: [],\n                            });\n                            if (yIndex === undefined)\n                                continue;\n                            var yValue = values[0][yIndex];\n                            var currY = +yValue;\n                            var barX = x + groupScale.convert(String(stackIndex));\n                            // Bars outside of visible range are not rendered, so we create node data\n                            // only for the visible subset of user data.\n                            if (!xAxis.inRange(barX, barWidth)) {\n                                continue;\n                            }\n                            if (isNaN(currY)) {\n                                continue;\n                            }\n                            var prevY = currY < 0 ? prevMinY : prevMaxY;\n                            var y = yScale.convert(prevY + currY, { strict: false });\n                            var bottomY = yScale.convert(prevY, { strict: false });\n                            var labelText = void 0;\n                            if (labelFormatter) {\n                                labelText = labelFormatter({\n                                    value: isNumber(yValue) ? yValue : undefined,\n                                    seriesId: seriesId,\n                                });\n                            }\n                            else {\n                                labelText = isNumber(yValue) ? yValue.toFixed(2) : '';\n                            }\n                            var labelX = void 0;\n                            var labelY = void 0;\n                            if (flipXY) {\n                                labelY = barX + barWidth / 2;\n                                if (labelPlacement === 'inside') {\n                                    labelX = y + ((yValue >= 0 ? -1 : 1) * Math.abs(bottomY - y)) / 2;\n                                }\n                                else {\n                                    labelX = y + (yValue >= 0 ? 1 : -1) * 4;\n                                }\n                            }\n                            else {\n                                labelX = barX + barWidth / 2;\n                                if (labelPlacement === 'inside') {\n                                    labelY = y + ((yValue >= 0 ? 1 : -1) * Math.abs(bottomY - y)) / 2;\n                                }\n                                else {\n                                    labelY = y + (yValue >= 0 ? -3 : 4);\n                                }\n                            }\n                            var labelTextAlign = void 0;\n                            var labelTextBaseline = void 0;\n                            if (labelPlacement === 'inside') {\n                                labelTextAlign = 'center';\n                                labelTextBaseline = 'middle';\n                            }\n                            else {\n                                labelTextAlign = flipXY ? (yValue >= 0 ? 'start' : 'end') : 'center';\n                                labelTextBaseline = flipXY ? 'middle' : yValue >= 0 ? 'bottom' : 'top';\n                            }\n                            var colorIndex = cumYKeyCount[stackIndex] + levelIndex;\n                            var rect = {\n                                x: flipXY ? Math.min(y, bottomY) : barX,\n                                y: flipXY ? barX : Math.min(y, bottomY),\n                                width: flipXY ? Math.abs(bottomY - y) : barWidth,\n                                height: flipXY ? barWidth : Math.abs(bottomY - y),\n                            };\n                            var nodeMidPoint = {\n                                x: rect.x + rect.width / 2,\n                                y: rect.y + rect.height / 2,\n                            };\n                            var nodeData = {\n                                index: dataIndex,\n                                series: _this,\n                                itemId: yKey,\n                                datum: seriesDatum[0],\n                                cumulativeValue: prevY + currY,\n                                yValue: yValue,\n                                yKey: yKey,\n                                xKey: xKey,\n                                x: rect.x,\n                                y: rect.y,\n                                width: rect.width,\n                                height: rect.height,\n                                nodeMidPoint: nodeMidPoint,\n                                colorIndex: colorIndex,\n                                fill: fills[colorIndex % fills.length],\n                                stroke: strokes[colorIndex % strokes.length],\n                                strokeWidth: strokeWidth,\n                                label: seriesItemEnabled.get(yKey) && labelText\n                                    ? {\n                                        text: labelText,\n                                        fontStyle: labelFontStyle,\n                                        fontWeight: labelFontWeight,\n                                        fontSize: labelFontSize,\n                                        fontFamily: labelFontFamily,\n                                        textAlign: labelTextAlign,\n                                        textBaseline: labelTextBaseline,\n                                        fill: labelColor,\n                                        x: labelX,\n                                        y: labelY,\n                                    }\n                                    : undefined,\n                            };\n                            contexts[stackIndex][levelIndex].nodeData.push(nodeData);\n                            contexts[stackIndex][levelIndex].labelData.push(nodeData);\n                            if (currY < 0) {\n                                prevMinY += currY;\n                            }\n                            else {\n                                prevMaxY += currY;\n                            }\n                        }\n                    }\n                });\n                return [2 /*return*/, contexts.reduce(function (r, n) { return r.concat.apply(r, __spread(n)); }, [])];\n            });\n        });\n    };\n    BarSeries.prototype.nodeFactory = function () {\n        return new Rect();\n    };\n    BarSeries.prototype.updateDatumSelection = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var nodeData, datumSelection;\n            return __generator(this, function (_a) {\n                nodeData = opts.nodeData, datumSelection = opts.datumSelection;\n                return [2 /*return*/, datumSelection.update(nodeData, function (rect) { return (rect.tag = BarSeriesNodeTag.Bar); })];\n            });\n        });\n    };\n    BarSeries.prototype.updateDatumNodes = function (opts) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function () {\n            var datumSelection, isDatumHighlighted, _c, fills, strokes, seriesFillOpacity, strokeOpacity, shadow, formatter, xKey, flipXY, _d, highlightedFill, _e, highlightFillOpacity, highlightedStroke, highlightedDatumStrokeWidth, seriesId, _f, visibleMin, visibleMax, isZoomed, crisp;\n            var _this = this;\n            return __generator(this, function (_g) {\n                datumSelection = opts.datumSelection, isDatumHighlighted = opts.isHighlight;\n                _c = this, fills = _c.fills, strokes = _c.strokes, seriesFillOpacity = _c.fillOpacity, strokeOpacity = _c.strokeOpacity, shadow = _c.shadow, formatter = _c.formatter, xKey = _c.xKey, flipXY = _c.flipXY, _d = _c.highlightStyle.item, highlightedFill = _d.fill, _e = _d.fillOpacity, highlightFillOpacity = _e === void 0 ? seriesFillOpacity : _e, highlightedStroke = _d.stroke, highlightedDatumStrokeWidth = _d.strokeWidth, seriesId = _c.id;\n                _f = __read((_b = (_a = this.xAxis) === null || _a === void 0 ? void 0 : _a.visibleRange) !== null && _b !== void 0 ? _b : [], 2), visibleMin = _f[0], visibleMax = _f[1];\n                isZoomed = visibleMin !== 0 || visibleMax !== 1;\n                crisp = !isZoomed;\n                datumSelection.each(function (rect, datum) {\n                    var colorIndex = datum.colorIndex;\n                    var fill = isDatumHighlighted && highlightedFill !== undefined\n                        ? highlightedFill\n                        : fills[colorIndex % fills.length];\n                    var stroke = isDatumHighlighted && highlightedStroke !== undefined\n                        ? highlightedStroke\n                        : strokes[colorIndex % fills.length];\n                    var strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== undefined\n                        ? highlightedDatumStrokeWidth\n                        : _this.getStrokeWidth(_this.strokeWidth, datum);\n                    var fillOpacity = isDatumHighlighted ? highlightFillOpacity : seriesFillOpacity;\n                    var stackGroup = _this.getStackGroup(datum.yKey);\n                    var format = undefined;\n                    if (formatter) {\n                        format = formatter({\n                            datum: datum.datum,\n                            fill: fill,\n                            stroke: stroke,\n                            strokeWidth: strokeWidth,\n                            highlighted: isDatumHighlighted,\n                            xKey: xKey,\n                            yKey: datum.yKey,\n                            seriesId: seriesId,\n                            stackGroup: stackGroup,\n                        });\n                    }\n                    rect.crisp = crisp;\n                    rect.x = datum.x;\n                    rect.y = datum.y;\n                    rect.width = datum.width;\n                    rect.height = datum.height;\n                    rect.fill = (format && format.fill) || fill;\n                    rect.stroke = (format && format.stroke) || stroke;\n                    rect.strokeWidth = format && format.strokeWidth !== undefined ? format.strokeWidth : strokeWidth;\n                    rect.fillOpacity = fillOpacity;\n                    rect.strokeOpacity = strokeOpacity;\n                    rect.lineDash = _this.lineDash;\n                    rect.lineDashOffset = _this.lineDashOffset;\n                    rect.fillShadow = shadow;\n                    // Prevent stroke from rendering for zero height columns and zero width bars.\n                    rect.visible = flipXY ? datum.width > 0 : datum.height > 0;\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    BarSeries.prototype.updateLabelSelection = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var labelData, labelSelection, enabled, data;\n            return __generator(this, function (_a) {\n                labelData = opts.labelData, labelSelection = opts.labelSelection;\n                enabled = this.label.enabled;\n                data = enabled ? labelData : [];\n                return [2 /*return*/, labelSelection.update(data, function (text) {\n                        text.tag = BarSeriesNodeTag.Label;\n                        text.pointerEvents = PointerEvents.None;\n                    })];\n            });\n        });\n    };\n    BarSeries.prototype.updateLabelNodes = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var labelSelection, _a, labelEnabled, fontStyle, fontWeight, fontSize, fontFamily, color;\n            return __generator(this, function (_b) {\n                labelSelection = opts.labelSelection;\n                _a = this.label, labelEnabled = _a.enabled, fontStyle = _a.fontStyle, fontWeight = _a.fontWeight, fontSize = _a.fontSize, fontFamily = _a.fontFamily, color = _a.color;\n                labelSelection.each(function (text, datum) {\n                    var label = datum.label;\n                    if (label && labelEnabled) {\n                        text.fontStyle = fontStyle;\n                        text.fontWeight = fontWeight;\n                        text.fontSize = fontSize;\n                        text.fontFamily = fontFamily;\n                        text.textAlign = label.textAlign;\n                        text.textBaseline = label.textBaseline;\n                        text.text = label.text;\n                        text.x = label.x;\n                        text.y = label.y;\n                        text.fill = color;\n                        text.visible = true;\n                    }\n                    else {\n                        text.visible = false;\n                    }\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    BarSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a = this, xKey = _a.xKey, yKeys = _a.yKeys, processedData = _a.processedData;\n        var xAxis = this.getCategoryAxis();\n        var yAxis = this.getValueAxis();\n        var yKey = nodeDatum.yKey;\n        if (!processedData || !xKey || !yKey || !xAxis || !yAxis) {\n            return '';\n        }\n        var fillIndex = 0;\n        var i = 0;\n        var j = 0;\n        for (; j < yKeys.length; j++) {\n            var stack = yKeys[j];\n            i = stack.indexOf(yKey);\n            if (i >= 0) {\n                fillIndex += i;\n                break;\n            }\n            fillIndex += stack.length;\n        }\n        var _b = this, xName = _b.xName, yNames = _b.yNames, fills = _b.fills, strokes = _b.strokes, tooltip = _b.tooltip, formatter = _b.formatter, seriesId = _b.id;\n        var tooltipRenderer = tooltip.renderer;\n        var datum = nodeDatum.datum;\n        var yName = yNames[yKey];\n        var stackGroup = this.getStackGroup(yKey);\n        var fill = fills[fillIndex % fills.length];\n        var stroke = strokes[fillIndex % fills.length];\n        var strokeWidth = this.getStrokeWidth(this.strokeWidth);\n        var xValue = datum[xKey];\n        var yValue = datum[yKey];\n        var xString = sanitizeHtml(xAxis.formatDatum(xValue));\n        var yString = sanitizeHtml(yAxis.formatDatum(yValue));\n        var title = sanitizeHtml(yName);\n        var content = xString + ': ' + yString;\n        var format = undefined;\n        if (formatter) {\n            format = formatter({\n                datum: datum,\n                fill: fill,\n                stroke: stroke,\n                strokeWidth: strokeWidth,\n                highlighted: false,\n                xKey: xKey,\n                yKey: yKey,\n                seriesId: seriesId,\n                stackGroup: stackGroup,\n            });\n        }\n        var color = (format && format.fill) || fill;\n        var defaults = {\n            title: title,\n            backgroundColor: color,\n            content: content,\n        };\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum: datum,\n                xKey: xKey,\n                xValue: xValue,\n                xName: xName,\n                yKey: yKey,\n                yValue: yValue,\n                yName: yName,\n                color: color,\n                title: title,\n                seriesId: seriesId,\n                stackGroup: stackGroup,\n            }), defaults);\n        }\n        return toTooltipHtml(defaults);\n    };\n    BarSeries.prototype.getLegendData = function () {\n        var _a = this, id = _a.id, data = _a.data, xKey = _a.xKey, yKeys = _a.yKeys, yNames = _a.yNames, cumYKeyCount = _a.cumYKeyCount, seriesItemEnabled = _a.seriesItemEnabled, hideInLegend = _a.hideInLegend, fills = _a.fills, strokes = _a.strokes, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity, flipXY = _a.flipXY;\n        if (!data || !data.length || !xKey || !yKeys.length) {\n            return [];\n        }\n        var legendData = [];\n        this.yKeys.forEach(function (stack, stackIndex) {\n            // Column stacks should be listed in the legend in reverse order, for symmetry with the\n            // vertical stack display order. Bar stacks are already consistent left-to-right with\n            // the legend.\n            var startLevel = flipXY ? 0 : stack.length - 1;\n            var direction = flipXY ? 1 : -1;\n            for (var levelIndex = startLevel, step = 0; step < stack.length; levelIndex += direction, step++) {\n                var yKey = stack[levelIndex];\n                if (hideInLegend.indexOf(yKey) >= 0) {\n                    return;\n                }\n                var colorIndex = cumYKeyCount[stackIndex] + levelIndex;\n                legendData.push({\n                    id: id,\n                    itemId: yKey,\n                    seriesId: id,\n                    enabled: seriesItemEnabled.get(yKey) || false,\n                    label: {\n                        text: yNames[yKey] || yKey,\n                    },\n                    marker: {\n                        fill: fills[colorIndex % fills.length],\n                        stroke: strokes[colorIndex % strokes.length],\n                        fillOpacity: fillOpacity,\n                        strokeOpacity: strokeOpacity,\n                    },\n                });\n            }\n        });\n        return legendData;\n    };\n    BarSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        _super.prototype.toggleSeriesItem.call(this, itemId, enabled);\n        var yKeys = this.yKeys.map(function (stack) { return stack.slice(); }); // deep clone\n        this.seriesItemEnabled.forEach(function (enabled, yKey) {\n            if (!enabled) {\n                yKeys.forEach(function (stack) {\n                    var index = stack.indexOf(yKey);\n                    if (index >= 0) {\n                        stack.splice(index, 1);\n                    }\n                });\n            }\n        });\n        var visibleStacks = [];\n        yKeys.forEach(function (stack, index) {\n            if (stack.length > 0) {\n                visibleStacks.push(String(index));\n            }\n        });\n        this.groupScale.domain = visibleStacks;\n        this.nodeDataRefresh = true;\n    };\n    BarSeries.prototype.isLabelEnabled = function () {\n        return this.label.enabled;\n    };\n    BarSeries.prototype.getBandScalePadding = function () {\n        return { inner: 0.2, outer: 0.3 };\n    };\n    BarSeries.className = 'BarSeries';\n    BarSeries.type = 'bar';\n    __decorate([\n        Validate(BOOLEAN)\n    ], BarSeries.prototype, \"flipXY\", void 0);\n    __decorate([\n        Validate(COLOR_STRING_ARRAY)\n    ], BarSeries.prototype, \"fills\", void 0);\n    __decorate([\n        Validate(COLOR_STRING_ARRAY)\n    ], BarSeries.prototype, \"strokes\", void 0);\n    __decorate([\n        Validate(NUMBER(0, 1))\n    ], BarSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        Validate(NUMBER(0, 1))\n    ], BarSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        Validate(OPT_LINE_DASH)\n    ], BarSeries.prototype, \"lineDash\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], BarSeries.prototype, \"lineDashOffset\", void 0);\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], BarSeries.prototype, \"formatter\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], BarSeries.prototype, \"_xKey\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], BarSeries.prototype, \"xName\", void 0);\n    __decorate([\n        Validate(STRING_ARRAY)\n    ], BarSeries.prototype, \"hideInLegend\", void 0);\n    __decorate([\n        Validate(BOOLEAN_ARRAY)\n    ], BarSeries.prototype, \"visibles\", void 0);\n    __decorate([\n        Validate(BOOLEAN)\n    ], BarSeries.prototype, \"_grouped\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER())\n    ], BarSeries.prototype, \"_normalizedTo\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], BarSeries.prototype, \"strokeWidth\", void 0);\n    return BarSeries;\n}(CartesianSeries));\nexport { BarSeries };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { Rect } from '../../../scene/shape/rect';\nimport { SeriesTooltip, Series, SeriesNodePickMode } from '../series';\nimport { Label } from '../../label';\nimport { PointerEvents } from '../../../scene/node';\nimport { CartesianSeries, CartesianSeriesNodeClickEvent, CartesianSeriesNodeDoubleClickEvent, } from './cartesianSeries';\nimport { ChartAxisDirection } from '../../chartAxisDirection';\nimport { toTooltipHtml } from '../../tooltip/tooltip';\nimport { extent } from '../../../util/array';\nimport ticks, { tickStep } from '../../../util/ticks';\nimport { sanitizeHtml } from '../../../util/sanitize';\nimport { BOOLEAN, NUMBER, OPT_ARRAY, OPT_FUNCTION, OPT_LINE_DASH, OPT_NUMBER, OPT_COLOR_STRING, STRING, Validate, predicateWithMessage, } from '../../../util/validation';\nvar HISTOGRAM_AGGREGATIONS = ['count', 'sum', 'mean'];\nvar HISTOGRAM_AGGREGATION = predicateWithMessage(function (v) { return HISTOGRAM_AGGREGATIONS.includes(v); }, \"expecting a histogram aggregation keyword such as 'count', 'sum' or 'mean\");\nvar HistogramSeriesNodeTag;\n(function (HistogramSeriesNodeTag) {\n    HistogramSeriesNodeTag[HistogramSeriesNodeTag[\"Bin\"] = 0] = \"Bin\";\n    HistogramSeriesNodeTag[HistogramSeriesNodeTag[\"Label\"] = 1] = \"Label\";\n})(HistogramSeriesNodeTag || (HistogramSeriesNodeTag = {}));\nvar HistogramSeriesLabel = /** @class */ (function (_super) {\n    __extends(HistogramSeriesLabel, _super);\n    function HistogramSeriesLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.formatter = undefined;\n        return _this;\n    }\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], HistogramSeriesLabel.prototype, \"formatter\", void 0);\n    return HistogramSeriesLabel;\n}(Label));\nvar defaultBinCount = 10;\nvar aggregationFunctions = {\n    count: function (bin) { return bin.data.length; },\n    sum: function (bin, yKey) { return bin.data.reduce(function (acc, datum) { return acc + datum[yKey]; }, 0); },\n    mean: function (bin, yKey) { return aggregationFunctions.sum(bin, yKey) / aggregationFunctions.count(bin, yKey); },\n};\nvar HistogramBin = /** @class */ (function () {\n    function HistogramBin(_a) {\n        var _b = __read(_a, 2), domainMin = _b[0], domainMax = _b[1];\n        this.data = [];\n        this.aggregatedValue = 0;\n        this.frequency = 0;\n        this.domain = [domainMin, domainMax];\n    }\n    HistogramBin.prototype.addDatum = function (datum) {\n        this.data.push(datum);\n        this.frequency++;\n    };\n    Object.defineProperty(HistogramBin.prototype, \"domainWidth\", {\n        get: function () {\n            var _a = __read(this.domain, 2), domainMin = _a[0], domainMax = _a[1];\n            return domainMax - domainMin;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(HistogramBin.prototype, \"relativeHeight\", {\n        get: function () {\n            return this.aggregatedValue / this.domainWidth;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HistogramBin.prototype.calculateAggregatedValue = function (aggregationName, yKey) {\n        if (!yKey) {\n            // not having a yKey forces us into a frequency plot\n            aggregationName = 'count';\n        }\n        var aggregationFunction = aggregationFunctions[aggregationName];\n        this.aggregatedValue = aggregationFunction(this, yKey);\n    };\n    HistogramBin.prototype.getY = function (areaPlot) {\n        return areaPlot ? this.relativeHeight : this.aggregatedValue;\n    };\n    return HistogramBin;\n}());\nvar HistogramSeriesTooltip = /** @class */ (function (_super) {\n    __extends(HistogramSeriesTooltip, _super);\n    function HistogramSeriesTooltip() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderer = undefined;\n        return _this;\n    }\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], HistogramSeriesTooltip.prototype, \"renderer\", void 0);\n    return HistogramSeriesTooltip;\n}(SeriesTooltip));\nvar HistogramSeries = /** @class */ (function (_super) {\n    __extends(HistogramSeries, _super);\n    function HistogramSeries() {\n        var _this = _super.call(this, { pickModes: [SeriesNodePickMode.EXACT_SHAPE_MATCH] }) || this;\n        _this.binnedData = [];\n        _this.xDomain = [];\n        _this.yDomain = [];\n        _this.label = new HistogramSeriesLabel();\n        _this.tooltip = new HistogramSeriesTooltip();\n        _this.fill = undefined;\n        _this.stroke = undefined;\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        _this.lineDash = [0];\n        _this.lineDashOffset = 0;\n        _this.xKey = '';\n        _this.areaPlot = false;\n        _this.bins = undefined;\n        _this.aggregation = 'count';\n        _this.binCount = undefined;\n        _this.xName = '';\n        _this.yKey = '';\n        _this.yName = '';\n        _this.strokeWidth = 1;\n        _this.shadow = undefined;\n        _this.label.enabled = false;\n        return _this;\n    }\n    // During processData phase, used to unify different ways of the user specifying\n    // the bins. Returns bins in format[[min1, max1], [min2, max2], ... ].\n    HistogramSeries.prototype.deriveBins = function () {\n        var _this = this;\n        var bins = this.bins;\n        if (!this.data) {\n            return [];\n        }\n        var xData = this.data.map(function (datum) { return datum[_this.xKey]; });\n        var xDomain = this.fixNumericExtent(extent(xData));\n        if (this.binCount === undefined) {\n            if (bins) {\n                return bins;\n            }\n            var binStarts = ticks(xDomain[0], xDomain[1], defaultBinCount);\n            var binSize_1 = tickStep(xDomain[0], xDomain[1], defaultBinCount);\n            var firstBinEnd = binStarts[0];\n            var expandStartToBin = function (n) { return [n, n + binSize_1]; };\n            return __spread([[firstBinEnd - binSize_1, firstBinEnd]], binStarts.map(expandStartToBin));\n        }\n        else {\n            return this.calculateNiceBins(xDomain, this.binCount);\n        }\n    };\n    HistogramSeries.prototype.calculateNiceBins = function (domain, binCount) {\n        var startGuess = Math.floor(domain[0]);\n        var stop = domain[1];\n        var segments = binCount || 1;\n        var _a = this.calculateNiceStart(startGuess, stop, segments), start = _a.start, binSize = _a.binSize;\n        return this.getBins(start, stop, binSize, segments);\n    };\n    HistogramSeries.prototype.getBins = function (start, stop, step, count) {\n        var bins = [];\n        for (var i = 0; i < count; i++) {\n            var a = Math.round((start + i * step) * 10) / 10;\n            var b = Math.round((start + (i + 1) * step) * 10) / 10;\n            if (i === count - 1) {\n                b = Math.max(b, stop);\n            }\n            bins[i] = [a, b];\n        }\n        return bins;\n    };\n    HistogramSeries.prototype.calculateNiceStart = function (a, b, segments) {\n        var binSize = Math.abs(b - a) / segments;\n        var order = Math.floor(Math.log10(binSize));\n        var magnitude = Math.pow(10, order);\n        var start = Math.floor(a / magnitude) * magnitude;\n        return {\n            start: start,\n            binSize: binSize,\n        };\n    };\n    HistogramSeries.prototype.placeDataInBins = function (data) {\n        var _this = this;\n        var xKey = this.xKey;\n        var derivedBins = this.deriveBins();\n        this.bins = derivedBins;\n        // creating a sorted copy allows binning in O(n) rather than O(n²)\n        // but at the expense of more temporary memory\n        var sortedData = data.slice().sort(function (a, b) {\n            if (a[xKey] < b[xKey]) {\n                return -1;\n            }\n            if (a[xKey] > b[xKey]) {\n                return 1;\n            }\n            return 0;\n        });\n        var bins = [new HistogramBin(derivedBins[0])];\n        var currentBin = 0;\n        for (var i = 0; i < sortedData.length && currentBin < derivedBins.length; i++) {\n            var datum = sortedData[i];\n            while (datum[xKey] > derivedBins[currentBin][1] && currentBin < derivedBins.length) {\n                currentBin++;\n                bins.push(new HistogramBin(derivedBins[currentBin]));\n            }\n            if (currentBin < derivedBins.length) {\n                bins[currentBin].addDatum(datum);\n            }\n        }\n        bins.forEach(function (b) { return b.calculateAggregatedValue(_this.aggregation, _this.yKey); });\n        return bins;\n    };\n    Object.defineProperty(HistogramSeries.prototype, \"xMax\", {\n        get: function () {\n            var _this = this;\n            return (this.data &&\n                this.data.reduce(function (acc, datum) {\n                    return Math.max(acc, datum[_this.xKey]);\n                }, Number.NEGATIVE_INFINITY));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    HistogramSeries.prototype.processData = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, xKey, data, yData, yMinMax, firstBin, lastBin, xMin, xMax;\n            var _this = this;\n            return __generator(this, function (_b) {\n                _a = this, xKey = _a.xKey, data = _a.data;\n                this.binnedData = this.placeDataInBins(xKey && data ? data : []);\n                yData = this.binnedData.map(function (b) { return b.getY(_this.areaPlot); });\n                yMinMax = extent(yData);\n                this.yDomain = this.fixNumericExtent([0, yMinMax ? yMinMax[1] : 1]);\n                firstBin = this.binnedData[0];\n                lastBin = this.binnedData[this.binnedData.length - 1];\n                xMin = firstBin.domain[0];\n                xMax = lastBin.domain[1];\n                this.xDomain = [xMin, xMax];\n                return [2 /*return*/];\n            });\n        });\n    };\n    HistogramSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.xDomain;\n        }\n        else {\n            return this.yDomain;\n        }\n    };\n    HistogramSeries.prototype.getNodeClickEvent = function (event, datum) {\n        return new CartesianSeriesNodeClickEvent(this.xKey, this.yKey, event, datum, this);\n    };\n    HistogramSeries.prototype.getNodeDoubleClickEvent = function (event, datum) {\n        return new CartesianSeriesNodeDoubleClickEvent(this.xKey, this.yKey, event, datum, this);\n    };\n    HistogramSeries.prototype.createNodeData = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, xAxis, yAxis, xScale, yScale, _b, fill, stroke, strokeWidth, seriesId, yKey, xKey, nodeData, defaultLabelFormatter, _c, _d, labelFormatter, labelFontStyle, labelFontWeight, labelFontSize, labelFontFamily, labelColor;\n            var _this = this;\n            return __generator(this, function (_e) {\n                _a = this, xAxis = _a.xAxis, yAxis = _a.yAxis;\n                if (!this.seriesItemEnabled || !xAxis || !yAxis) {\n                    return [2 /*return*/, []];\n                }\n                xScale = xAxis.scale;\n                yScale = yAxis.scale;\n                _b = this, fill = _b.fill, stroke = _b.stroke, strokeWidth = _b.strokeWidth, seriesId = _b.id, yKey = _b.yKey, xKey = _b.xKey;\n                nodeData = [];\n                defaultLabelFormatter = function (params) { return String(params.value); };\n                _c = this.label, _d = _c.formatter, labelFormatter = _d === void 0 ? defaultLabelFormatter : _d, labelFontStyle = _c.fontStyle, labelFontWeight = _c.fontWeight, labelFontSize = _c.fontSize, labelFontFamily = _c.fontFamily, labelColor = _c.color;\n                this.binnedData.forEach(function (binOfData) {\n                    var total = binOfData.aggregatedValue, frequency = binOfData.frequency, _a = __read(binOfData.domain, 2), xDomainMin = _a[0], xDomainMax = _a[1], relativeHeight = binOfData.relativeHeight;\n                    var xMinPx = xScale.convert(xDomainMin), xMaxPx = xScale.convert(xDomainMax), \n                    // note: assuming can't be negative:\n                    y = _this.areaPlot ? relativeHeight : yKey ? total : frequency, yZeroPx = yScale.convert(0), yMaxPx = yScale.convert(y), w = xMaxPx - xMinPx, h = Math.abs(yMaxPx - yZeroPx);\n                    var selectionDatumLabel = y !== 0\n                        ? {\n                            text: labelFormatter({ value: binOfData.aggregatedValue, seriesId: seriesId }),\n                            fontStyle: labelFontStyle,\n                            fontWeight: labelFontWeight,\n                            fontSize: labelFontSize,\n                            fontFamily: labelFontFamily,\n                            fill: labelColor,\n                            x: xMinPx + w / 2,\n                            y: yMaxPx + h / 2,\n                        }\n                        : undefined;\n                    var nodeMidPoint = {\n                        x: xMinPx + w / 2,\n                        y: yMaxPx + h / 2,\n                    };\n                    nodeData.push({\n                        series: _this,\n                        datum: binOfData,\n                        // since each selection is an aggregation of multiple data.\n                        aggregatedValue: binOfData.aggregatedValue,\n                        domain: binOfData.domain,\n                        yKey: yKey,\n                        xKey: xKey,\n                        x: xMinPx,\n                        y: yMaxPx,\n                        width: w,\n                        height: h,\n                        nodeMidPoint: nodeMidPoint,\n                        fill: fill,\n                        stroke: stroke,\n                        strokeWidth: strokeWidth,\n                        label: selectionDatumLabel,\n                    });\n                });\n                return [2 /*return*/, [{ itemId: this.yKey, nodeData: nodeData, labelData: nodeData }]];\n            });\n        });\n    };\n    HistogramSeries.prototype.nodeFactory = function () {\n        return new Rect();\n    };\n    HistogramSeries.prototype.updateDatumSelection = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var nodeData, datumSelection;\n            return __generator(this, function (_a) {\n                nodeData = opts.nodeData, datumSelection = opts.datumSelection;\n                return [2 /*return*/, datumSelection.update(nodeData, function (rect) {\n                        rect.tag = HistogramSeriesNodeTag.Bin;\n                        rect.crisp = true;\n                    })];\n            });\n        });\n    };\n    HistogramSeries.prototype.updateDatumNodes = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var datumSelection, isDatumHighlighted, _a, seriesFillOpacity, strokeOpacity, shadow, _b, highlightedFill, _c, highlightFillOpacity, highlightedStroke, highlightedDatumStrokeWidth;\n            var _this = this;\n            return __generator(this, function (_d) {\n                datumSelection = opts.datumSelection, isDatumHighlighted = opts.isHighlight;\n                _a = this, seriesFillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity, shadow = _a.shadow, _b = _a.highlightStyle.item, highlightedFill = _b.fill, _c = _b.fillOpacity, highlightFillOpacity = _c === void 0 ? seriesFillOpacity : _c, highlightedStroke = _b.stroke, highlightedDatumStrokeWidth = _b.strokeWidth;\n                datumSelection.each(function (rect, datum, index) {\n                    var strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== undefined\n                        ? highlightedDatumStrokeWidth\n                        : datum.strokeWidth;\n                    var fillOpacity = isDatumHighlighted ? highlightFillOpacity : seriesFillOpacity;\n                    rect.x = datum.x;\n                    rect.y = datum.y;\n                    rect.width = datum.width;\n                    rect.height = datum.height;\n                    rect.fill = isDatumHighlighted && highlightedFill !== undefined ? highlightedFill : datum.fill;\n                    rect.stroke = isDatumHighlighted && highlightedStroke !== undefined ? highlightedStroke : datum.stroke;\n                    rect.fillOpacity = fillOpacity;\n                    rect.strokeOpacity = strokeOpacity;\n                    rect.strokeWidth = strokeWidth;\n                    rect.lineDash = _this.lineDash;\n                    rect.lineDashOffset = _this.lineDashOffset;\n                    rect.fillShadow = shadow;\n                    rect.zIndex = isDatumHighlighted ? Series.highlightedZIndex : index;\n                    rect.visible = datum.height > 0; // prevent stroke from rendering for zero height columns\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    HistogramSeries.prototype.updateLabelSelection = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var labelData, labelSelection;\n            return __generator(this, function (_a) {\n                labelData = opts.labelData, labelSelection = opts.labelSelection;\n                return [2 /*return*/, labelSelection.update(labelData, function (text) {\n                        text.tag = HistogramSeriesNodeTag.Label;\n                        text.pointerEvents = PointerEvents.None;\n                        text.textAlign = 'center';\n                        text.textBaseline = 'middle';\n                    })];\n            });\n        });\n    };\n    HistogramSeries.prototype.updateLabelNodes = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var labelSelection, labelEnabled;\n            return __generator(this, function (_a) {\n                labelSelection = opts.labelSelection;\n                labelEnabled = this.label.enabled;\n                labelSelection.each(function (text, datum) {\n                    var label = datum.label;\n                    if (label && labelEnabled) {\n                        text.text = label.text;\n                        text.x = label.x;\n                        text.y = label.y;\n                        text.fontStyle = label.fontStyle;\n                        text.fontWeight = label.fontWeight;\n                        text.fontSize = label.fontSize;\n                        text.fontFamily = label.fontFamily;\n                        text.fill = label.fill;\n                        text.visible = true;\n                    }\n                    else {\n                        text.visible = false;\n                    }\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    HistogramSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a = this, xKey = _a.xKey, yKey = _a.yKey, xAxis = _a.xAxis, yAxis = _a.yAxis;\n        if (!xKey || !xAxis || !yAxis) {\n            return '';\n        }\n        var _b = this, xName = _b.xName, yName = _b.yName, color = _b.fill, tooltip = _b.tooltip, aggregation = _b.aggregation, seriesId = _b.id;\n        var tooltipRenderer = tooltip.renderer;\n        var bin = nodeDatum.datum;\n        var aggregatedValue = bin.aggregatedValue, frequency = bin.frequency, _c = __read(bin.domain, 2), rangeMin = _c[0], rangeMax = _c[1];\n        var title = sanitizeHtml(xName || xKey) + \": \" + xAxis.formatDatum(rangeMin) + \" - \" + xAxis.formatDatum(rangeMax);\n        var content = yKey\n            ? \"<b>\" + sanitizeHtml(yName || yKey) + \" (\" + aggregation + \")</b>: \" + yAxis.formatDatum(aggregatedValue) + \"<br>\"\n            : '';\n        content += \"<b>Frequency</b>: \" + frequency;\n        var defaults = {\n            title: title,\n            backgroundColor: color,\n            content: content,\n        };\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum: bin,\n                xKey: xKey,\n                xValue: bin.domain,\n                xName: xName,\n                yKey: yKey,\n                yValue: bin.aggregatedValue,\n                yName: yName,\n                color: color,\n                title: title,\n                seriesId: seriesId,\n            }), defaults);\n        }\n        return toTooltipHtml(defaults);\n    };\n    HistogramSeries.prototype.getLegendData = function () {\n        var _a = this, id = _a.id, data = _a.data, xKey = _a.xKey, yName = _a.yName, visible = _a.visible, fill = _a.fill, stroke = _a.stroke, fillOpacity = _a.fillOpacity, strokeOpacity = _a.strokeOpacity;\n        if (!data || data.length === 0) {\n            return [];\n        }\n        return [\n            {\n                id: id,\n                itemId: xKey,\n                seriesId: id,\n                enabled: visible,\n                label: {\n                    text: yName || xKey || 'Frequency',\n                },\n                marker: {\n                    fill: fill || 'rgba(0, 0, 0, 0)',\n                    stroke: stroke || 'rgba(0, 0, 0, 0)',\n                    fillOpacity: fillOpacity,\n                    strokeOpacity: strokeOpacity,\n                },\n            },\n        ];\n    };\n    HistogramSeries.prototype.isLabelEnabled = function () {\n        return this.label.enabled;\n    };\n    HistogramSeries.className = 'HistogramSeries';\n    HistogramSeries.type = 'histogram';\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], HistogramSeries.prototype, \"fill\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], HistogramSeries.prototype, \"stroke\", void 0);\n    __decorate([\n        Validate(NUMBER(0, 1))\n    ], HistogramSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        Validate(NUMBER(0, 1))\n    ], HistogramSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        Validate(OPT_LINE_DASH)\n    ], HistogramSeries.prototype, \"lineDash\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], HistogramSeries.prototype, \"lineDashOffset\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], HistogramSeries.prototype, \"xKey\", void 0);\n    __decorate([\n        Validate(BOOLEAN)\n    ], HistogramSeries.prototype, \"areaPlot\", void 0);\n    __decorate([\n        Validate(OPT_ARRAY())\n    ], HistogramSeries.prototype, \"bins\", void 0);\n    __decorate([\n        Validate(HISTOGRAM_AGGREGATION)\n    ], HistogramSeries.prototype, \"aggregation\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0))\n    ], HistogramSeries.prototype, \"binCount\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], HistogramSeries.prototype, \"xName\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], HistogramSeries.prototype, \"yKey\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], HistogramSeries.prototype, \"yName\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], HistogramSeries.prototype, \"strokeWidth\", void 0);\n    return HistogramSeries;\n}(CartesianSeries));\nexport { HistogramSeries };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { ContinuousScale } from '../../../scale/continuousScale';\nimport { SeriesTooltip, SeriesNodePickMode } from '../series';\nimport { extent } from '../../../util/array';\nimport { PointerEvents } from '../../../scene/node';\nimport { CartesianSeries, CartesianSeriesMarker, CartesianSeriesNodeClickEvent, CartesianSeriesNodeDoubleClickEvent, } from './cartesianSeries';\nimport { ChartAxisDirection } from '../../chartAxisDirection';\nimport { getMarker } from '../../marker/util';\nimport { toTooltipHtml } from '../../tooltip/tooltip';\nimport { interpolate } from '../../../util/string';\nimport { Label } from '../../label';\nimport { sanitizeHtml } from '../../../util/sanitize';\nimport { checkDatum } from '../../../util/value';\nimport { NUMBER, OPT_FUNCTION, OPT_LINE_DASH, OPT_STRING, OPT_COLOR_STRING, STRING, Validate, } from '../../../util/validation';\nvar LineSeriesLabel = /** @class */ (function (_super) {\n    __extends(LineSeriesLabel, _super);\n    function LineSeriesLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.formatter = undefined;\n        return _this;\n    }\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], LineSeriesLabel.prototype, \"formatter\", void 0);\n    return LineSeriesLabel;\n}(Label));\nvar LineSeriesTooltip = /** @class */ (function (_super) {\n    __extends(LineSeriesTooltip, _super);\n    function LineSeriesTooltip() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderer = undefined;\n        _this.format = undefined;\n        return _this;\n    }\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], LineSeriesTooltip.prototype, \"renderer\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], LineSeriesTooltip.prototype, \"format\", void 0);\n    return LineSeriesTooltip;\n}(SeriesTooltip));\nvar LineSeries = /** @class */ (function (_super) {\n    __extends(LineSeries, _super);\n    function LineSeries() {\n        var _this = _super.call(this, {\n            hasMarkers: true,\n            pickModes: [\n                SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,\n                SeriesNodePickMode.NEAREST_NODE,\n                SeriesNodePickMode.EXACT_SHAPE_MATCH,\n            ],\n        }) || this;\n        _this.xDomain = [];\n        _this.yDomain = [];\n        _this.pointsData = [];\n        _this.marker = new CartesianSeriesMarker();\n        _this.label = new LineSeriesLabel();\n        _this.title = undefined;\n        _this.stroke = '#874349';\n        _this.lineDash = [0];\n        _this.lineDashOffset = 0;\n        _this.strokeWidth = 2;\n        _this.strokeOpacity = 1;\n        _this.tooltip = new LineSeriesTooltip();\n        _this._xKey = '';\n        _this.xName = '';\n        _this._yKey = '';\n        _this.yName = '';\n        var _a = _this, marker = _a.marker, label = _a.label;\n        marker.fill = '#c16068';\n        marker.stroke = '#874349';\n        label.enabled = false;\n        return _this;\n    }\n    Object.defineProperty(LineSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            this._xKey = value;\n            this.pointsData.splice(0);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(LineSeries.prototype, \"yKey\", {\n        get: function () {\n            return this._yKey;\n        },\n        set: function (value) {\n            this._yKey = value;\n            this.pointsData.splice(0);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    LineSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.xDomain;\n        }\n        return this.yDomain;\n    };\n    LineSeries.prototype.processData = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, xAxis, yAxis, xKey, yKey, pointsData, data, isContinuousX, isContinuousY, xData, yData, data_1, data_1_1, datum, x, y, xDatum, yDatum;\n            var e_1, _b;\n            return __generator(this, function (_c) {\n                _a = this, xAxis = _a.xAxis, yAxis = _a.yAxis, xKey = _a.xKey, yKey = _a.yKey, pointsData = _a.pointsData;\n                data = xKey && yKey && this.data ? this.data : [];\n                if (!xAxis || !yAxis) {\n                    return [2 /*return*/];\n                }\n                isContinuousX = xAxis.scale instanceof ContinuousScale;\n                isContinuousY = yAxis.scale instanceof ContinuousScale;\n                xData = [];\n                yData = [];\n                pointsData.splice(0);\n                try {\n                    for (data_1 = __values(data), data_1_1 = data_1.next(); !data_1_1.done; data_1_1 = data_1.next()) {\n                        datum = data_1_1.value;\n                        x = datum[xKey];\n                        y = datum[yKey];\n                        xDatum = checkDatum(x, isContinuousX);\n                        if (isContinuousX && xDatum === undefined) {\n                            continue;\n                        }\n                        yDatum = checkDatum(y, isContinuousY);\n                        xData.push(xDatum);\n                        yData.push(yDatum);\n                        pointsData.push({\n                            xDatum: xDatum,\n                            yDatum: yDatum,\n                            datum: datum,\n                        });\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (data_1_1 && !data_1_1.done && (_b = data_1.return)) _b.call(data_1);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                this.validateXYData(this.xKey, this.yKey, data, xAxis, yAxis, xData, yData, 1);\n                this.xDomain = isContinuousX ? this.fixNumericExtent(extent(xData), xAxis) : xData;\n                this.yDomain = isContinuousY ? this.fixNumericExtent(extent(yData), yAxis) : yData;\n                return [2 /*return*/];\n            });\n        });\n    };\n    LineSeries.prototype.createNodeData = function () {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var _b, data, xAxis, yAxis, _c, markerEnabled, markerSize, strokeWidth, _d, pointsData, label, yKey, xKey, seriesId, xScale, yScale, xOffset, yOffset, nodeData, size, moveTo, prevXInRange, nextPoint, actualLength, i, point, xDatum, yDatum, datum, x, tolerance, xInRange, nextXInRange, y, labelText;\n            return __generator(this, function (_e) {\n                _b = this, data = _b.data, xAxis = _b.xAxis, yAxis = _b.yAxis, _c = _b.marker, markerEnabled = _c.enabled, markerSize = _c.size, strokeWidth = _c.strokeWidth;\n                if (!data || !xAxis || !yAxis) {\n                    return [2 /*return*/, []];\n                }\n                _d = this, pointsData = _d.pointsData, label = _d.label, yKey = _d.yKey, xKey = _d.xKey, seriesId = _d.id;\n                xScale = xAxis.scale;\n                yScale = yAxis.scale;\n                xOffset = (xScale.bandwidth || 0) / 2;\n                yOffset = (yScale.bandwidth || 0) / 2;\n                nodeData = new Array(data.length);\n                size = markerEnabled ? markerSize : 0;\n                moveTo = true;\n                prevXInRange = undefined;\n                nextPoint = undefined;\n                actualLength = 0;\n                for (i = 0; i < pointsData.length; i++) {\n                    point = nextPoint || pointsData[i];\n                    if (point.yDatum === undefined) {\n                        prevXInRange = undefined;\n                        moveTo = true;\n                    }\n                    else {\n                        xDatum = point.xDatum, yDatum = point.yDatum, datum = point.datum;\n                        x = xScale.convert(xDatum) + xOffset;\n                        if (isNaN(x)) {\n                            prevXInRange = undefined;\n                            moveTo = true;\n                            continue;\n                        }\n                        tolerance = (xScale.bandwidth || markerSize * 0.5 + (strokeWidth || 0)) + 1;\n                        nextPoint = ((_a = pointsData[i + 1]) === null || _a === void 0 ? void 0 : _a.yDatum) === undefined ? undefined : pointsData[i + 1];\n                        xInRange = xAxis.inRangeEx(x, 0, tolerance);\n                        nextXInRange = nextPoint && xAxis.inRangeEx(xScale.convert(nextPoint.xDatum) + xOffset, 0, tolerance);\n                        if (xInRange === -1 && nextXInRange === -1) {\n                            moveTo = true;\n                            continue;\n                        }\n                        if (xInRange === 1 && prevXInRange === 1) {\n                            moveTo = true;\n                            continue;\n                        }\n                        prevXInRange = xInRange;\n                        y = yScale.convert(yDatum) + yOffset;\n                        labelText = void 0;\n                        if (label.formatter) {\n                            labelText = label.formatter({ value: yDatum, seriesId: seriesId });\n                        }\n                        else {\n                            labelText =\n                                typeof yDatum === 'number' && isFinite(yDatum)\n                                    ? yDatum.toFixed(2)\n                                    : yDatum\n                                        ? String(yDatum)\n                                        : '';\n                        }\n                        nodeData[actualLength++] = {\n                            series: this,\n                            datum: datum,\n                            yKey: yKey,\n                            xKey: xKey,\n                            point: { x: x, y: y, moveTo: moveTo, size: size },\n                            nodeMidPoint: { x: x, y: y },\n                            label: labelText\n                                ? {\n                                    text: labelText,\n                                    fontStyle: label.fontStyle,\n                                    fontWeight: label.fontWeight,\n                                    fontSize: label.fontSize,\n                                    fontFamily: label.fontFamily,\n                                    textAlign: 'center',\n                                    textBaseline: 'bottom',\n                                    fill: label.color,\n                                }\n                                : undefined,\n                        };\n                        moveTo = false;\n                    }\n                }\n                nodeData.length = actualLength;\n                return [2 /*return*/, [{ itemId: yKey, nodeData: nodeData, labelData: nodeData }]];\n            });\n        });\n    };\n    LineSeries.prototype.isPathOrSelectionDirty = function () {\n        return this.marker.isDirty();\n    };\n    LineSeries.prototype.updatePaths = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var nodeData, _a, lineNode, linePath, nodeData_1, nodeData_1_1, data;\n            var e_2, _b;\n            return __generator(this, function (_c) {\n                nodeData = opts.contextData.nodeData, _a = __read(opts.paths, 1), lineNode = _a[0];\n                linePath = lineNode.path;\n                lineNode.fill = undefined;\n                lineNode.lineJoin = 'round';\n                lineNode.pointerEvents = PointerEvents.None;\n                linePath.clear({ trackChanges: true });\n                try {\n                    for (nodeData_1 = __values(nodeData), nodeData_1_1 = nodeData_1.next(); !nodeData_1_1.done; nodeData_1_1 = nodeData_1.next()) {\n                        data = nodeData_1_1.value;\n                        if (data.point.moveTo) {\n                            linePath.moveTo(data.point.x, data.point.y);\n                        }\n                        else {\n                            linePath.lineTo(data.point.x, data.point.y);\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (nodeData_1_1 && !nodeData_1_1.done && (_b = nodeData_1.return)) _b.call(nodeData_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n                lineNode.checkPathDirty();\n                return [2 /*return*/];\n            });\n        });\n    };\n    LineSeries.prototype.updatePathNodes = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, lineNode;\n            return __generator(this, function (_b) {\n                _a = __read(opts.paths, 1), lineNode = _a[0];\n                lineNode.stroke = this.stroke;\n                lineNode.strokeWidth = this.getStrokeWidth(this.strokeWidth);\n                lineNode.strokeOpacity = this.strokeOpacity;\n                lineNode.lineDash = this.lineDash;\n                lineNode.lineDashOffset = this.lineDashOffset;\n                return [2 /*return*/];\n            });\n        });\n    };\n    LineSeries.prototype.markerFactory = function () {\n        var shape = this.marker.shape;\n        var MarkerShape = getMarker(shape);\n        return new MarkerShape();\n    };\n    LineSeries.prototype.updateMarkerSelection = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var nodeData, markerSelection, _a, shape, enabled;\n            return __generator(this, function (_b) {\n                nodeData = opts.nodeData;\n                markerSelection = opts.markerSelection;\n                _a = this.marker, shape = _a.shape, enabled = _a.enabled;\n                nodeData = shape && enabled ? nodeData : [];\n                if (this.marker.isDirty()) {\n                    markerSelection.clear();\n                }\n                return [2 /*return*/, markerSelection.update(nodeData)];\n            });\n        });\n    };\n    LineSeries.prototype.updateMarkerNodes = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var markerSelection, isDatumHighlighted, _a, marker, markerFillOpacity, xKey, yKey, lineStroke, strokeOpacity, _b, highlightedFill, _c, highlightFillOpacity, highlightedStroke, highlightedDatumStrokeWidth, seriesId, size, formatter, markerStrokeWidth, customMarker;\n            return __generator(this, function (_d) {\n                markerSelection = opts.markerSelection, isDatumHighlighted = opts.isHighlight;\n                _a = this, marker = _a.marker, markerFillOpacity = _a.marker.fillOpacity, xKey = _a.xKey, yKey = _a.yKey, lineStroke = _a.stroke, strokeOpacity = _a.strokeOpacity, _b = _a.highlightStyle.item, highlightedFill = _b.fill, _c = _b.fillOpacity, highlightFillOpacity = _c === void 0 ? markerFillOpacity : _c, highlightedStroke = _b.stroke, highlightedDatumStrokeWidth = _b.strokeWidth, seriesId = _a.id;\n                size = marker.size, formatter = marker.formatter;\n                markerStrokeWidth = marker.strokeWidth !== undefined ? marker.strokeWidth : this.strokeWidth;\n                customMarker = typeof marker.shape === 'function';\n                markerSelection.each(function (node, datum) {\n                    var _a, _b;\n                    var fill = isDatumHighlighted && highlightedFill !== undefined ? highlightedFill : marker.fill;\n                    var fillOpacity = isDatumHighlighted ? highlightFillOpacity : markerFillOpacity;\n                    var stroke = isDatumHighlighted && highlightedStroke !== undefined ? highlightedStroke : marker.stroke || lineStroke;\n                    var strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== undefined\n                        ? highlightedDatumStrokeWidth\n                        : markerStrokeWidth;\n                    var format = undefined;\n                    if (formatter) {\n                        format = formatter({\n                            datum: datum.datum,\n                            xKey: xKey,\n                            yKey: yKey,\n                            fill: fill,\n                            stroke: stroke,\n                            strokeWidth: strokeWidth,\n                            size: size,\n                            highlighted: isDatumHighlighted,\n                            seriesId: seriesId,\n                        });\n                    }\n                    node.fill = (format && format.fill) || fill;\n                    node.stroke = (format && format.stroke) || stroke;\n                    node.strokeWidth = format && format.strokeWidth !== undefined ? format.strokeWidth : strokeWidth;\n                    node.fillOpacity = fillOpacity !== null && fillOpacity !== void 0 ? fillOpacity : 1;\n                    node.strokeOpacity = (_b = (_a = marker.strokeOpacity) !== null && _a !== void 0 ? _a : strokeOpacity) !== null && _b !== void 0 ? _b : 1;\n                    node.size = format && format.size !== undefined ? format.size : size;\n                    node.translationX = datum.point.x;\n                    node.translationY = datum.point.y;\n                    node.visible = node.size > 0 && !isNaN(datum.point.x) && !isNaN(datum.point.y);\n                    if (!customMarker || node.dirtyPath) {\n                        return;\n                    }\n                    // Only for cutom marker shapes\n                    node.path.clear({ trackChanges: true });\n                    node.updatePath();\n                    node.checkPathDirty();\n                });\n                if (!isDatumHighlighted) {\n                    this.marker.markClean();\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    LineSeries.prototype.updateLabelSelection = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var labelData, labelSelection, _a, shape, enabled;\n            return __generator(this, function (_b) {\n                labelData = opts.labelData;\n                labelSelection = opts.labelSelection;\n                _a = this.marker, shape = _a.shape, enabled = _a.enabled;\n                labelData = shape && enabled ? labelData : [];\n                return [2 /*return*/, labelSelection.update(labelData)];\n            });\n        });\n    };\n    LineSeries.prototype.updateLabelNodes = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var labelSelection, _a, labelEnabled, fontStyle, fontWeight, fontSize, fontFamily, color;\n            return __generator(this, function (_b) {\n                labelSelection = opts.labelSelection;\n                _a = this.label, labelEnabled = _a.enabled, fontStyle = _a.fontStyle, fontWeight = _a.fontWeight, fontSize = _a.fontSize, fontFamily = _a.fontFamily, color = _a.color;\n                labelSelection.each(function (text, datum) {\n                    var point = datum.point, label = datum.label;\n                    if (datum && label && labelEnabled) {\n                        text.fontStyle = fontStyle;\n                        text.fontWeight = fontWeight;\n                        text.fontSize = fontSize;\n                        text.fontFamily = fontFamily;\n                        text.textAlign = label.textAlign;\n                        text.textBaseline = label.textBaseline;\n                        text.text = label.text;\n                        text.x = point.x;\n                        text.y = point.y - 10;\n                        text.fill = color;\n                        text.visible = true;\n                    }\n                    else {\n                        text.visible = false;\n                    }\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    LineSeries.prototype.getNodeClickEvent = function (event, datum) {\n        return new CartesianSeriesNodeClickEvent(this.xKey, this.yKey, event, datum, this);\n    };\n    LineSeries.prototype.getNodeDoubleClickEvent = function (event, datum) {\n        return new CartesianSeriesNodeDoubleClickEvent(this.xKey, this.yKey, event, datum, this);\n    };\n    LineSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a = this, xKey = _a.xKey, yKey = _a.yKey, xAxis = _a.xAxis, yAxis = _a.yAxis;\n        if (!xKey || !yKey || !xAxis || !yAxis) {\n            return '';\n        }\n        var _b = this, xName = _b.xName, yName = _b.yName, tooltip = _b.tooltip, marker = _b.marker, seriesId = _b.id;\n        var tooltipRenderer = tooltip.renderer, tooltipFormat = tooltip.format;\n        var datum = nodeDatum.datum;\n        var xValue = datum[xKey];\n        var yValue = datum[yKey];\n        var xString = xAxis.formatDatum(xValue);\n        var yString = yAxis.formatDatum(yValue);\n        var title = sanitizeHtml(this.title || yName);\n        var content = sanitizeHtml(xString + ': ' + yString);\n        var markerFormatter = marker.formatter, fill = marker.fill, stroke = marker.stroke, markerStrokeWidth = marker.strokeWidth, size = marker.size;\n        var strokeWidth = markerStrokeWidth !== undefined ? markerStrokeWidth : this.strokeWidth;\n        var format = undefined;\n        if (markerFormatter) {\n            format = markerFormatter({\n                datum: datum,\n                xKey: xKey,\n                yKey: yKey,\n                fill: fill,\n                stroke: stroke,\n                strokeWidth: strokeWidth,\n                size: size,\n                highlighted: false,\n                seriesId: seriesId,\n            });\n        }\n        var color = (format && format.fill) || fill;\n        var defaults = {\n            title: title,\n            backgroundColor: color,\n            content: content,\n        };\n        if (tooltipFormat || tooltipRenderer) {\n            var params = {\n                datum: datum,\n                xKey: xKey,\n                xValue: xValue,\n                xName: xName,\n                yKey: yKey,\n                yValue: yValue,\n                yName: yName,\n                title: title,\n                color: color,\n                seriesId: seriesId,\n            };\n            if (tooltipFormat) {\n                return toTooltipHtml({\n                    content: interpolate(tooltipFormat, params),\n                }, defaults);\n            }\n            if (tooltipRenderer) {\n                return toTooltipHtml(tooltipRenderer(params), defaults);\n            }\n        }\n        return toTooltipHtml(defaults);\n    };\n    LineSeries.prototype.getLegendData = function () {\n        var _a, _b, _c;\n        var _d = this, id = _d.id, data = _d.data, xKey = _d.xKey, yKey = _d.yKey, yName = _d.yName, visible = _d.visible, title = _d.title, marker = _d.marker, stroke = _d.stroke, strokeOpacity = _d.strokeOpacity;\n        if (!(data && data.length && xKey && yKey)) {\n            return [];\n        }\n        return [\n            {\n                id: id,\n                itemId: yKey,\n                seriesId: id,\n                enabled: visible,\n                label: {\n                    text: title || yName || yKey,\n                },\n                marker: {\n                    shape: marker.shape,\n                    fill: marker.fill || 'rgba(0, 0, 0, 0)',\n                    stroke: marker.stroke || stroke || 'rgba(0, 0, 0, 0)',\n                    fillOpacity: (_a = marker.fillOpacity) !== null && _a !== void 0 ? _a : 1,\n                    strokeOpacity: (_c = (_b = marker.strokeOpacity) !== null && _b !== void 0 ? _b : strokeOpacity) !== null && _c !== void 0 ? _c : 1,\n                },\n            },\n        ];\n    };\n    LineSeries.prototype.isLabelEnabled = function () {\n        return this.label.enabled;\n    };\n    LineSeries.className = 'LineSeries';\n    LineSeries.type = 'line';\n    __decorate([\n        Validate(OPT_STRING)\n    ], LineSeries.prototype, \"title\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], LineSeries.prototype, \"stroke\", void 0);\n    __decorate([\n        Validate(OPT_LINE_DASH)\n    ], LineSeries.prototype, \"lineDash\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], LineSeries.prototype, \"lineDashOffset\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], LineSeries.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        Validate(NUMBER(0, 1))\n    ], LineSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], LineSeries.prototype, \"_xKey\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], LineSeries.prototype, \"xName\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], LineSeries.prototype, \"_yKey\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], LineSeries.prototype, \"yName\", void 0);\n    return LineSeries;\n}(CartesianSeries));\nexport { LineSeries };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { SeriesTooltip, SeriesNodePickMode, valueProperty } from '../series';\nimport { LinearScale } from '../../../scale/linearScale';\nimport { CartesianSeries, CartesianSeriesMarker, CartesianSeriesNodeBaseClickEvent, } from './cartesianSeries';\nimport { ChartAxisDirection } from '../../chartAxisDirection';\nimport { getMarker } from '../../marker/util';\nimport { toTooltipHtml } from '../../tooltip/tooltip';\nimport { ContinuousScale } from '../../../scale/continuousScale';\nimport { sanitizeHtml } from '../../../util/sanitize';\nimport { Label } from '../../label';\nimport { HdpiCanvas } from '../../../canvas/hdpiCanvas';\nimport { OPT_FUNCTION, OPT_STRING, STRING, Validate } from '../../../util/validation';\nimport { DataModel } from '../../data/dataModel';\nvar ScatterSeriesNodeBaseClickEvent = /** @class */ (function (_super) {\n    __extends(ScatterSeriesNodeBaseClickEvent, _super);\n    function ScatterSeriesNodeBaseClickEvent(sizeKey, xKey, yKey, nativeEvent, datum, series) {\n        var _this = _super.call(this, xKey, yKey, nativeEvent, datum, series) || this;\n        _this.sizeKey = sizeKey;\n        return _this;\n    }\n    return ScatterSeriesNodeBaseClickEvent;\n}(CartesianSeriesNodeBaseClickEvent));\nvar ScatterSeriesNodeClickEvent = /** @class */ (function (_super) {\n    __extends(ScatterSeriesNodeClickEvent, _super);\n    function ScatterSeriesNodeClickEvent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'nodeClick';\n        return _this;\n    }\n    return ScatterSeriesNodeClickEvent;\n}(ScatterSeriesNodeBaseClickEvent));\nexport { ScatterSeriesNodeClickEvent };\nvar ScatterSeriesNodeDoubleClickEvent = /** @class */ (function (_super) {\n    __extends(ScatterSeriesNodeDoubleClickEvent, _super);\n    function ScatterSeriesNodeDoubleClickEvent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'nodeDoubleClick';\n        return _this;\n    }\n    return ScatterSeriesNodeDoubleClickEvent;\n}(ScatterSeriesNodeBaseClickEvent));\nexport { ScatterSeriesNodeDoubleClickEvent };\nvar ScatterSeriesTooltip = /** @class */ (function (_super) {\n    __extends(ScatterSeriesTooltip, _super);\n    function ScatterSeriesTooltip() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderer = undefined;\n        return _this;\n    }\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], ScatterSeriesTooltip.prototype, \"renderer\", void 0);\n    return ScatterSeriesTooltip;\n}(SeriesTooltip));\nvar ScatterSeries = /** @class */ (function (_super) {\n    __extends(ScatterSeries, _super);\n    function ScatterSeries() {\n        var _this = _super.call(this, {\n            pickModes: [\n                SeriesNodePickMode.NEAREST_BY_MAIN_CATEGORY_AXIS_FIRST,\n                SeriesNodePickMode.NEAREST_NODE,\n                SeriesNodePickMode.EXACT_SHAPE_MATCH,\n            ],\n            pathsPerSeries: 0,\n            hasMarkers: true,\n        }) || this;\n        _this.sizeScale = new LinearScale();\n        _this.marker = new CartesianSeriesMarker();\n        _this.label = new Label();\n        _this.title = undefined;\n        _this.labelKey = undefined;\n        _this.xName = '';\n        _this.yName = '';\n        _this.sizeName = 'Size';\n        _this.labelName = 'Label';\n        _this._xKey = '';\n        _this._yKey = '';\n        _this._sizeKey = undefined;\n        _this.tooltip = new ScatterSeriesTooltip();\n        var label = _this.label;\n        label.enabled = false;\n        return _this;\n    }\n    Object.defineProperty(ScatterSeries.prototype, \"xKey\", {\n        get: function () {\n            return this._xKey;\n        },\n        set: function (value) {\n            this._xKey = value;\n            this.processedData = undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ScatterSeries.prototype, \"yKey\", {\n        get: function () {\n            return this._yKey;\n        },\n        set: function (value) {\n            this._yKey = value;\n            this.processedData = undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ScatterSeries.prototype, \"sizeKey\", {\n        get: function () {\n            return this._sizeKey;\n        },\n        set: function (value) {\n            this._sizeKey = value;\n            this.processedData = undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ScatterSeries.prototype.processData = function () {\n        var _a, _b, _c, _d;\n        return __awaiter(this, void 0, void 0, function () {\n            var _e, xKey, yKey, sizeKey, xAxis, yAxis, marker, data, isContinuousX, isContinuousY, sizeKeyIdx, processedSize;\n            return __generator(this, function (_f) {\n                _e = this, xKey = _e.xKey, yKey = _e.yKey, sizeKey = _e.sizeKey, xAxis = _e.xAxis, yAxis = _e.yAxis, marker = _e.marker, data = _e.data;\n                isContinuousX = (xAxis === null || xAxis === void 0 ? void 0 : xAxis.scale) instanceof ContinuousScale;\n                isContinuousY = (yAxis === null || yAxis === void 0 ? void 0 : yAxis.scale) instanceof ContinuousScale;\n                this.dataModel = new DataModel({\n                    props: __spread([\n                        valueProperty(xKey, isContinuousX),\n                        valueProperty(yKey, isContinuousY)\n                    ], (sizeKey ? [valueProperty(sizeKey, true)] : [])),\n                    dataVisible: this.visible,\n                });\n                this.processedData = this.dataModel.processData(data !== null && data !== void 0 ? data : []);\n                if (sizeKey) {\n                    sizeKeyIdx = (_b = (_a = this.dataModel.resolveProcessedDataIndex(sizeKey)) === null || _a === void 0 ? void 0 : _a.index) !== null && _b !== void 0 ? _b : -1;\n                    processedSize = (_d = (_c = this.processedData) === null || _c === void 0 ? void 0 : _c.domain.values[sizeKeyIdx]) !== null && _d !== void 0 ? _d : [];\n                    this.sizeScale.domain = marker.domain ? marker.domain : processedSize;\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    ScatterSeries.prototype.getDomain = function (direction) {\n        var _a, _b, _c, _d, _e, _f;\n        var xDataIdx = (_a = this.dataModel) === null || _a === void 0 ? void 0 : _a.resolveProcessedDataIndex(this.xKey);\n        var yDataIdx = (_b = this.dataModel) === null || _b === void 0 ? void 0 : _b.resolveProcessedDataIndex(this.yKey);\n        if (!xDataIdx || !yDataIdx) {\n            return [];\n        }\n        if (direction === ChartAxisDirection.X) {\n            return (_d = (_c = this.processedData) === null || _c === void 0 ? void 0 : _c.domain.values[0]) !== null && _d !== void 0 ? _d : [];\n        }\n        else {\n            return (_f = (_e = this.processedData) === null || _e === void 0 ? void 0 : _e.domain.values[1]) !== null && _f !== void 0 ? _f : [];\n        }\n    };\n    ScatterSeries.prototype.getNodeClickEvent = function (event, datum) {\n        return new ScatterSeriesNodeClickEvent(this.sizeKey, this.xKey, this.yKey, event, datum, this);\n    };\n    ScatterSeries.prototype.getNodeDoubleClickEvent = function (event, datum) {\n        return new ScatterSeriesNodeDoubleClickEvent(this.sizeKey, this.xKey, this.yKey, event, datum, this);\n    };\n    ScatterSeries.prototype.createNodeData = function () {\n        var _a, _b, _c, _d, _e, _f;\n        return __awaiter(this, void 0, void 0, function () {\n            var _g, visible, xAxis, yAxis, yKey, xKey, label, labelKey, xDataIdx, yDataIdx, xScale, yScale, xOffset, yOffset, _h, sizeScale, marker, nodeData, font, actualLength, _j, _k, _l, values, datum, x, y, text, size, markerSize;\n            var e_1, _m;\n            return __generator(this, function (_o) {\n                _g = this, visible = _g.visible, xAxis = _g.xAxis, yAxis = _g.yAxis, yKey = _g.yKey, xKey = _g.xKey, label = _g.label, labelKey = _g.labelKey;\n                xDataIdx = (_a = this.dataModel) === null || _a === void 0 ? void 0 : _a.resolveProcessedDataIndex(xKey);\n                yDataIdx = (_b = this.dataModel) === null || _b === void 0 ? void 0 : _b.resolveProcessedDataIndex(yKey);\n                if (!(xDataIdx && yDataIdx && visible && xAxis && yAxis)) {\n                    return [2 /*return*/, []];\n                }\n                xScale = xAxis.scale;\n                yScale = yAxis.scale;\n                xOffset = (xScale.bandwidth || 0) / 2;\n                yOffset = (yScale.bandwidth || 0) / 2;\n                _h = this, sizeScale = _h.sizeScale, marker = _h.marker;\n                nodeData = new Array((_d = (_c = this.processedData) === null || _c === void 0 ? void 0 : _c.data.length) !== null && _d !== void 0 ? _d : 0);\n                sizeScale.range = [marker.size, marker.maxSize];\n                font = label.getFont();\n                actualLength = 0;\n                try {\n                    for (_j = __values((_f = (_e = this.processedData) === null || _e === void 0 ? void 0 : _e.data) !== null && _f !== void 0 ? _f : []), _k = _j.next(); !_k.done; _k = _j.next()) {\n                        _l = _k.value, values = _l.values, datum = _l.datum;\n                        x = xScale.convert(values[xDataIdx.index]) + xOffset;\n                        y = yScale.convert(values[yDataIdx.index]) + yOffset;\n                        if (!this.checkRangeXY(x, y, xAxis, yAxis)) {\n                            continue;\n                        }\n                        text = labelKey ? String(datum[labelKey]) : '';\n                        size = HdpiCanvas.getTextSize(text, font);\n                        markerSize = values.length > 2 ? sizeScale.convert(values[2]) : marker.size;\n                        nodeData[actualLength++] = {\n                            series: this,\n                            itemId: yKey,\n                            yKey: yKey,\n                            xKey: xKey,\n                            datum: datum,\n                            point: { x: x, y: y, size: markerSize },\n                            nodeMidPoint: { x: x, y: y },\n                            label: __assign({ text: text }, size),\n                        };\n                    }\n                }\n                catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                finally {\n                    try {\n                        if (_k && !_k.done && (_m = _j.return)) _m.call(_j);\n                    }\n                    finally { if (e_1) throw e_1.error; }\n                }\n                nodeData.length = actualLength;\n                return [2 /*return*/, [{ itemId: this.yKey, nodeData: nodeData, labelData: nodeData }]];\n            });\n        });\n    };\n    ScatterSeries.prototype.isPathOrSelectionDirty = function () {\n        return this.marker.isDirty();\n    };\n    ScatterSeries.prototype.getLabelData = function () {\n        var _a;\n        return (_a = this.contextNodeData) === null || _a === void 0 ? void 0 : _a.reduce(function (r, n) { return r.concat(n.labelData); }, []);\n    };\n    ScatterSeries.prototype.markerFactory = function () {\n        var shape = this.marker.shape;\n        var MarkerShape = getMarker(shape);\n        return new MarkerShape();\n    };\n    ScatterSeries.prototype.updateMarkerSelection = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var nodeData, markerSelection, enabled, data;\n            return __generator(this, function (_a) {\n                nodeData = opts.nodeData, markerSelection = opts.markerSelection;\n                enabled = this.marker.enabled;\n                if (this.marker.isDirty()) {\n                    markerSelection.clear();\n                }\n                data = enabled ? nodeData : [];\n                return [2 /*return*/, markerSelection.update(data)];\n            });\n        });\n    };\n    ScatterSeries.prototype.updateMarkerNodes = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var markerSelection, isDatumHighlighted, _a, marker, xKey, yKey, sizeScale, _b, markerFillOpacity, markerStrokeOpacity, markerStrokeWidth, _c, highlightedFill, _d, highlightFillOpacity, highlightedStroke, highlightedDatumStrokeWidth, seriesId, formatter, customMarker;\n            return __generator(this, function (_e) {\n                markerSelection = opts.markerSelection, isDatumHighlighted = opts.isHighlight;\n                _a = this, marker = _a.marker, xKey = _a.xKey, yKey = _a.yKey, sizeScale = _a.sizeScale, _b = _a.marker, markerFillOpacity = _b.fillOpacity, markerStrokeOpacity = _b.strokeOpacity, markerStrokeWidth = _b.strokeWidth, _c = _a.highlightStyle.item, highlightedFill = _c.fill, _d = _c.fillOpacity, highlightFillOpacity = _d === void 0 ? markerFillOpacity : _d, highlightedStroke = _c.stroke, highlightedDatumStrokeWidth = _c.strokeWidth, seriesId = _a.id;\n                formatter = marker.formatter;\n                sizeScale.range = [marker.size, marker.maxSize];\n                customMarker = typeof marker.shape === 'function';\n                markerSelection.each(function (node, datum) {\n                    var _a, _b, _c, _d, _e, _f, _g;\n                    var fill = isDatumHighlighted && highlightedFill !== undefined ? highlightedFill : marker.fill;\n                    var fillOpacity = isDatumHighlighted ? highlightFillOpacity : markerFillOpacity;\n                    var stroke = isDatumHighlighted && highlightedStroke !== undefined ? highlightedStroke : marker.stroke;\n                    var strokeOpacity = markerStrokeOpacity;\n                    var strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== undefined\n                        ? highlightedDatumStrokeWidth\n                        : markerStrokeWidth !== null && markerStrokeWidth !== void 0 ? markerStrokeWidth : 1;\n                    var size = (_b = (_a = datum.point) === null || _a === void 0 ? void 0 : _a.size) !== null && _b !== void 0 ? _b : 0;\n                    var format = undefined;\n                    if (formatter) {\n                        format = formatter({\n                            datum: datum.datum,\n                            xKey: xKey,\n                            yKey: yKey,\n                            fill: fill,\n                            stroke: stroke,\n                            strokeWidth: strokeWidth,\n                            size: size,\n                            highlighted: isDatumHighlighted,\n                            seriesId: seriesId,\n                        });\n                    }\n                    node.fill = (format && format.fill) || fill;\n                    node.stroke = (format && format.stroke) || stroke;\n                    node.strokeWidth = (_c = format === null || format === void 0 ? void 0 : format.strokeWidth) !== null && _c !== void 0 ? _c : strokeWidth;\n                    node.size = format && format.size !== undefined ? format.size : size;\n                    node.fillOpacity = fillOpacity !== null && fillOpacity !== void 0 ? fillOpacity : 1;\n                    node.strokeOpacity = strokeOpacity !== null && strokeOpacity !== void 0 ? strokeOpacity : 1;\n                    node.translationX = (_e = (_d = datum.point) === null || _d === void 0 ? void 0 : _d.x) !== null && _e !== void 0 ? _e : 0;\n                    node.translationY = (_g = (_f = datum.point) === null || _f === void 0 ? void 0 : _f.y) !== null && _g !== void 0 ? _g : 0;\n                    node.visible = node.size > 0;\n                    if (!customMarker || node.dirtyPath) {\n                        return;\n                    }\n                    // Only for cutom marker shapes\n                    node.path.clear({ trackChanges: true });\n                    node.updatePath();\n                    node.checkPathDirty();\n                });\n                if (!isDatumHighlighted) {\n                    this.marker.markClean();\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    ScatterSeries.prototype.updateLabelSelection = function (opts) {\n        var _a, _b;\n        return __awaiter(this, void 0, void 0, function () {\n            var labelSelection, enabled, placedLabels, placedNodeDatum;\n            return __generator(this, function (_c) {\n                labelSelection = opts.labelSelection;\n                enabled = this.label.enabled;\n                placedLabels = enabled ? (_b = (_a = this.chart) === null || _a === void 0 ? void 0 : _a.placeLabels().get(this)) !== null && _b !== void 0 ? _b : [] : [];\n                placedNodeDatum = placedLabels.map(function (v) { return (__assign(__assign({}, v.datum), { point: {\n                        x: v.x,\n                        y: v.y,\n                        size: v.datum.point.size,\n                    } })); });\n                return [2 /*return*/, labelSelection.update(placedNodeDatum)];\n            });\n        });\n    };\n    ScatterSeries.prototype.updateLabelNodes = function (opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var labelSelection, label;\n            return __generator(this, function (_a) {\n                labelSelection = opts.labelSelection;\n                label = this.label;\n                labelSelection.each(function (text, datum) {\n                    var _a, _b, _c, _d;\n                    text.text = datum.label.text;\n                    text.fill = label.color;\n                    text.x = (_b = (_a = datum.point) === null || _a === void 0 ? void 0 : _a.x) !== null && _b !== void 0 ? _b : 0;\n                    text.y = (_d = (_c = datum.point) === null || _c === void 0 ? void 0 : _c.y) !== null && _d !== void 0 ? _d : 0;\n                    text.fontStyle = label.fontStyle;\n                    text.fontWeight = label.fontWeight;\n                    text.fontSize = label.fontSize;\n                    text.fontFamily = label.fontFamily;\n                    text.textAlign = 'left';\n                    text.textBaseline = 'top';\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    ScatterSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a, _b, _c;\n        var _d = this, xKey = _d.xKey, yKey = _d.yKey, xAxis = _d.xAxis, yAxis = _d.yAxis;\n        if (!xKey || !yKey || !xAxis || !yAxis) {\n            return '';\n        }\n        var _e = this, marker = _e.marker, tooltip = _e.tooltip, xName = _e.xName, yName = _e.yName, sizeKey = _e.sizeKey, sizeName = _e.sizeName, labelKey = _e.labelKey, labelName = _e.labelName, seriesId = _e.id;\n        var fill = marker.fill, stroke = marker.stroke;\n        var strokeWidth = this.getStrokeWidth((_a = marker.strokeWidth) !== null && _a !== void 0 ? _a : 1);\n        var formatter = this.marker.formatter;\n        var format = undefined;\n        if (formatter) {\n            format = formatter({\n                datum: nodeDatum,\n                xKey: xKey,\n                yKey: yKey,\n                fill: fill,\n                stroke: stroke,\n                strokeWidth: strokeWidth,\n                size: (_c = (_b = nodeDatum.point) === null || _b === void 0 ? void 0 : _b.size) !== null && _c !== void 0 ? _c : 0,\n                highlighted: false,\n                seriesId: seriesId,\n            });\n        }\n        var color = (format && format.fill) || fill || 'gray';\n        var title = this.title || yName;\n        var datum = nodeDatum.datum;\n        var xValue = datum[xKey];\n        var yValue = datum[yKey];\n        var xString = sanitizeHtml(xAxis.formatDatum(xValue));\n        var yString = sanitizeHtml(yAxis.formatDatum(yValue));\n        var content = \"<b>\" + sanitizeHtml(xName || xKey) + \"</b>: \" + xString + \"<br>\" +\n            (\"<b>\" + sanitizeHtml(yName || yKey) + \"</b>: \" + yString);\n        if (sizeKey) {\n            content += \"<br><b>\" + sanitizeHtml(sizeName || sizeKey) + \"</b>: \" + sanitizeHtml(datum[sizeKey]);\n        }\n        if (labelKey) {\n            content = \"<b>\" + sanitizeHtml(labelName || labelKey) + \"</b>: \" + sanitizeHtml(datum[labelKey]) + \"<br>\" + content;\n        }\n        var defaults = {\n            title: title,\n            backgroundColor: color,\n            content: content,\n        };\n        var tooltipRenderer = tooltip.renderer;\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum: datum,\n                xKey: xKey,\n                xValue: xValue,\n                xName: xName,\n                yKey: yKey,\n                yValue: yValue,\n                yName: yName,\n                sizeKey: sizeKey,\n                sizeName: sizeName,\n                labelKey: labelKey,\n                labelName: labelName,\n                title: title,\n                color: color,\n                seriesId: seriesId,\n            }), defaults);\n        }\n        return toTooltipHtml(defaults);\n    };\n    ScatterSeries.prototype.getLegendData = function () {\n        var _a = this, id = _a.id, data = _a.data, xKey = _a.xKey, yKey = _a.yKey, yName = _a.yName, title = _a.title, visible = _a.visible, marker = _a.marker;\n        var fill = marker.fill, stroke = marker.stroke, fillOpacity = marker.fillOpacity, strokeOpacity = marker.strokeOpacity;\n        if (!(data && data.length && xKey && yKey)) {\n            return [];\n        }\n        return [\n            {\n                id: id,\n                itemId: yKey,\n                seriesId: id,\n                enabled: visible,\n                label: {\n                    text: title || yName || yKey,\n                },\n                marker: {\n                    shape: marker.shape,\n                    fill: marker.fill || fill || 'rgba(0, 0, 0, 0)',\n                    stroke: marker.stroke || stroke || 'rgba(0, 0, 0, 0)',\n                    fillOpacity: fillOpacity !== null && fillOpacity !== void 0 ? fillOpacity : 1,\n                    strokeOpacity: strokeOpacity !== null && strokeOpacity !== void 0 ? strokeOpacity : 1,\n                },\n            },\n        ];\n    };\n    ScatterSeries.prototype.isLabelEnabled = function () {\n        return this.label.enabled;\n    };\n    ScatterSeries.className = 'ScatterSeries';\n    ScatterSeries.type = 'scatter';\n    __decorate([\n        Validate(OPT_STRING)\n    ], ScatterSeries.prototype, \"title\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], ScatterSeries.prototype, \"labelKey\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], ScatterSeries.prototype, \"xName\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], ScatterSeries.prototype, \"yName\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], ScatterSeries.prototype, \"sizeName\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], ScatterSeries.prototype, \"labelName\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], ScatterSeries.prototype, \"_xKey\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], ScatterSeries.prototype, \"_yKey\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], ScatterSeries.prototype, \"_sizeKey\", void 0);\n    return ScatterSeries;\n}(CartesianSeries));\nexport { ScatterSeries };\n", "import { segmentIntersection, arcIntersections } from '../scene/intersection';\nexport function isPointInSector(x, y, sector) {\n    var radius = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n    var innerRadius = sector.innerRadius, outerRadius = sector.outerRadius;\n    if (radius < Math.min(innerRadius, outerRadius) || radius > Math.max(innerRadius, outerRadius)) {\n        return false;\n    }\n    // Start and End angles are expected to be [-90, 270]\n    // while Math.atan2 returns [-180, 180]\n    var angle = Math.atan2(y, x);\n    if (angle < -Math.PI / 2) {\n        angle += 2 * Math.PI;\n    }\n    // Start is actually bigger than End clock-wise\n    var startAngle = sector.startAngle, endAngle = sector.endAngle;\n    if (endAngle === -Math.PI / 2) {\n        return angle < startAngle;\n    }\n    if (startAngle === (3 * Math.PI) / 2) {\n        return angle > endAngle;\n    }\n    return angle >= endAngle && angle <= startAngle;\n}\nfunction lineCollidesSector(line, sector) {\n    var startAngle = sector.startAngle, endAngle = sector.endAngle, innerRadius = sector.innerRadius, outerRadius = sector.outerRadius;\n    var outerStart = { x: outerRadius * Math.cos(startAngle), y: outerRadius * Math.sin(startAngle) };\n    var outerEnd = { x: outerRadius * Math.cos(endAngle), y: outerRadius * Math.sin(endAngle) };\n    var innerStart = innerRadius === 0\n        ? { x: 0, y: 0 }\n        : { x: innerRadius * Math.cos(startAngle), y: innerRadius * Math.sin(startAngle) };\n    var innerEnd = innerRadius === 0\n        ? { x: 0, y: 0 }\n        : { x: innerRadius * Math.cos(endAngle), y: innerRadius * Math.sin(endAngle) };\n    return (segmentIntersection(line.start.x, line.start.y, line.end.x, line.end.y, outerStart.x, outerStart.y, innerStart.x, innerStart.y) != null ||\n        segmentIntersection(line.start.x, line.start.y, line.end.x, line.end.y, outerEnd.x, outerEnd.y, innerEnd.x, innerEnd.y) != null ||\n        arcIntersections(0, 0, outerRadius, startAngle, endAngle, true, line.start.x, line.start.y, line.end.x, line.end.y).length > 0);\n}\nexport function boxCollidesSector(box, sector) {\n    var topLeft = { x: box.x, y: box.y };\n    var topRight = { x: box.x + box.width, y: box.y };\n    var bottomLeft = { x: box.x, y: box.y + box.height };\n    var bottomRight = { x: box.x + box.width, y: box.y + box.height };\n    return (lineCollidesSector({ start: topLeft, end: topRight }, sector) ||\n        lineCollidesSector({ start: bottomLeft, end: bottomRight }, sector));\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Path, ScenePathChangeDetection } from './path';\nimport { normalizeAngle360 } from '../../util/angle';\nimport { isEqual } from '../../util/number';\nimport { isPointInSector } from '../../util/sector';\nimport { BBox } from '../bbox';\nvar Sector = /** @class */ (function (_super) {\n    __extends(Sector, _super);\n    function Sector() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.centerX = 0;\n        _this.centerY = 0;\n        _this.innerRadius = 10;\n        _this.outerRadius = 20;\n        _this.startAngle = 0;\n        _this.endAngle = Math.PI * 2;\n        _this.angleOffset = 0;\n        return _this;\n    }\n    Sector.prototype.computeBBox = function () {\n        var radius = this.outerRadius;\n        return new BBox(this.centerX - radius, this.centerY - radius, radius * 2, radius * 2);\n    };\n    Sector.prototype.updatePath = function () {\n        var path = this.path;\n        var angleOffset = this.angleOffset;\n        var startAngle = Math.min(this.startAngle, this.endAngle) + angleOffset;\n        var endAngle = Math.max(this.startAngle, this.endAngle) + angleOffset;\n        var innerRadius = Math.min(this.innerRadius, this.outerRadius);\n        var outerRadius = Math.max(this.innerRadius, this.outerRadius);\n        var fullPie = isEqual(normalizeAngle360(this.startAngle), normalizeAngle360(this.endAngle));\n        var centerX = this.centerX;\n        var centerY = this.centerY;\n        path.clear();\n        if (fullPie) {\n            path.arc(centerX, centerY, outerRadius, startAngle, endAngle);\n            if (innerRadius > 0) {\n                path.moveTo(centerX + innerRadius * Math.cos(endAngle), centerY + innerRadius * Math.sin(endAngle));\n                path.arc(centerX, centerY, innerRadius, endAngle, startAngle, true);\n            }\n        }\n        else {\n            path.moveTo(centerX + innerRadius * Math.cos(startAngle), centerY + innerRadius * Math.sin(startAngle));\n            path.arc(centerX, centerY, outerRadius, startAngle, endAngle);\n            if (innerRadius > 0) {\n                path.arc(centerX, centerY, innerRadius, endAngle, startAngle, true);\n            }\n            else {\n                path.lineTo(centerX, centerY);\n            }\n        }\n        path.closePath();\n        this.dirtyPath = false;\n    };\n    Sector.prototype.isPointInPath = function (x, y) {\n        var angleOffset = this.angleOffset;\n        var startAngle = this.startAngle + angleOffset;\n        var endAngle = this.endAngle + angleOffset;\n        var innerRadius = Math.min(this.innerRadius, this.outerRadius);\n        var outerRadius = Math.max(this.innerRadius, this.outerRadius);\n        var point = this.transformPoint(x, y);\n        return isPointInSector(point.x, point.y, { startAngle: startAngle, endAngle: endAngle, innerRadius: innerRadius, outerRadius: outerRadius });\n    };\n    Sector.className = 'Sector';\n    __decorate([\n        ScenePathChangeDetection()\n    ], Sector.prototype, \"centerX\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Sector.prototype, \"centerY\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Sector.prototype, \"innerRadius\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Sector.prototype, \"outerRadius\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Sector.prototype, \"startAngle\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Sector.prototype, \"endAngle\", void 0);\n    __decorate([\n        ScenePathChangeDetection()\n    ], Sector.prototype, \"angleOffset\", void 0);\n    return Sector;\n}(Path));\nexport { Sector };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { Group } from '../../../scene/group';\nimport { Line } from '../../../scene/shape/line';\nimport { Text } from '../../../scene/shape/text';\nimport { Circle } from '../../marker/circle';\nimport { Selection } from '../../../scene/selection';\nimport { LinearScale } from '../../../scale/linearScale';\nimport { Sector } from '../../../scene/shape/sector';\nimport { BBox } from '../../../scene/bbox';\nimport { HighlightStyle, SeriesTooltip, SeriesNodeBaseClickEvent } from './../series';\nimport { Label } from '../../label';\nimport { PointerEvents } from '../../../scene/node';\nimport { normalizeAngle180, toRadians } from '../../../util/angle';\nimport { toFixed, mod } from '../../../util/number';\nimport { Layers } from '../../layers';\nimport { Caption } from '../../../caption';\nimport { PolarSeries } from './polarSeries';\nimport { ChartAxisDirection } from '../../chartAxisDirection';\nimport { toTooltipHtml } from '../../tooltip/tooltip';\nimport { isPointInSector, boxCollidesSector } from '../../../util/sector';\nimport { DeprecatedAndRenamedTo } from '../../../util/deprecation';\nimport { BOOLEAN, NUMBER, OPT_FUNCTION, OPT_LINE_DASH, OPT_NUMBER, OPT_STRING, STRING, COLOR_STRING_ARRAY, OPT_COLOR_STRING_ARRAY, Validate, COLOR_STRING, } from '../../../util/validation';\nimport { Logger } from '../../../util/logger';\nvar PieSeriesNodeBaseClickEvent = /** @class */ (function (_super) {\n    __extends(PieSeriesNodeBaseClickEvent, _super);\n    function PieSeriesNodeBaseClickEvent(angleKey, calloutLabelKey, sectorLabelKey, radiusKey, nativeEvent, datum, series) {\n        var _this = _super.call(this, nativeEvent, datum, series) || this;\n        _this.angleKey = angleKey;\n        _this.calloutLabelKey = calloutLabelKey;\n        _this.sectorLabelKey = sectorLabelKey;\n        _this.radiusKey = radiusKey;\n        return _this;\n    }\n    __decorate([\n        DeprecatedAndRenamedTo('calloutLabelKey')\n    ], PieSeriesNodeBaseClickEvent.prototype, \"labelKey\", void 0);\n    return PieSeriesNodeBaseClickEvent;\n}(SeriesNodeBaseClickEvent));\nvar PieSeriesNodeClickEvent = /** @class */ (function (_super) {\n    __extends(PieSeriesNodeClickEvent, _super);\n    function PieSeriesNodeClickEvent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'nodeClick';\n        return _this;\n    }\n    return PieSeriesNodeClickEvent;\n}(PieSeriesNodeBaseClickEvent));\nvar PieSeriesNodeDoubleClickEvent = /** @class */ (function (_super) {\n    __extends(PieSeriesNodeDoubleClickEvent, _super);\n    function PieSeriesNodeDoubleClickEvent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'nodeDoubleClick';\n        return _this;\n    }\n    return PieSeriesNodeDoubleClickEvent;\n}(PieSeriesNodeBaseClickEvent));\nvar PieNodeTag;\n(function (PieNodeTag) {\n    PieNodeTag[PieNodeTag[\"Sector\"] = 0] = \"Sector\";\n    PieNodeTag[PieNodeTag[\"Callout\"] = 1] = \"Callout\";\n    PieNodeTag[PieNodeTag[\"Label\"] = 2] = \"Label\";\n})(PieNodeTag || (PieNodeTag = {}));\nvar PieSeriesCalloutLabel = /** @class */ (function (_super) {\n    __extends(PieSeriesCalloutLabel, _super);\n    function PieSeriesCalloutLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.offset = 3; // from the callout line\n        _this.minAngle = 0; // in degrees\n        _this.formatter = undefined;\n        _this.minSpacing = 4;\n        _this.maxCollisionOffset = 50;\n        return _this;\n    }\n    __decorate([\n        Validate(NUMBER(0))\n    ], PieSeriesCalloutLabel.prototype, \"offset\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], PieSeriesCalloutLabel.prototype, \"minAngle\", void 0);\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], PieSeriesCalloutLabel.prototype, \"formatter\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], PieSeriesCalloutLabel.prototype, \"minSpacing\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], PieSeriesCalloutLabel.prototype, \"maxCollisionOffset\", void 0);\n    return PieSeriesCalloutLabel;\n}(Label));\nvar PieSeriesSectorLabel = /** @class */ (function (_super) {\n    __extends(PieSeriesSectorLabel, _super);\n    function PieSeriesSectorLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.positionOffset = 0;\n        _this.positionRatio = 0.5;\n        _this.formatter = undefined;\n        return _this;\n    }\n    __decorate([\n        Validate(NUMBER())\n    ], PieSeriesSectorLabel.prototype, \"positionOffset\", void 0);\n    __decorate([\n        Validate(NUMBER(0, 1))\n    ], PieSeriesSectorLabel.prototype, \"positionRatio\", void 0);\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], PieSeriesSectorLabel.prototype, \"formatter\", void 0);\n    return PieSeriesSectorLabel;\n}(Label));\nvar PieSeriesCalloutLine = /** @class */ (function () {\n    function PieSeriesCalloutLine() {\n        this.colors = undefined;\n        this.length = 10;\n        this.strokeWidth = 1;\n    }\n    __decorate([\n        Validate(OPT_COLOR_STRING_ARRAY)\n    ], PieSeriesCalloutLine.prototype, \"colors\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], PieSeriesCalloutLine.prototype, \"length\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], PieSeriesCalloutLine.prototype, \"strokeWidth\", void 0);\n    return PieSeriesCalloutLine;\n}());\nvar PieSeriesTooltip = /** @class */ (function (_super) {\n    __extends(PieSeriesTooltip, _super);\n    function PieSeriesTooltip() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderer = undefined;\n        return _this;\n    }\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], PieSeriesTooltip.prototype, \"renderer\", void 0);\n    return PieSeriesTooltip;\n}(SeriesTooltip));\nvar PieTitle = /** @class */ (function (_super) {\n    __extends(PieTitle, _super);\n    function PieTitle() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.showInLegend = false;\n        return _this;\n    }\n    __decorate([\n        Validate(BOOLEAN)\n    ], PieTitle.prototype, \"showInLegend\", void 0);\n    return PieTitle;\n}(Caption));\nexport { PieTitle };\nvar DoughnutInnerLabel = /** @class */ (function (_super) {\n    __extends(DoughnutInnerLabel, _super);\n    function DoughnutInnerLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.text = '';\n        _this.margin = 2;\n        return _this;\n    }\n    __decorate([\n        Validate(STRING)\n    ], DoughnutInnerLabel.prototype, \"text\", void 0);\n    __decorate([\n        Validate(NUMBER())\n    ], DoughnutInnerLabel.prototype, \"margin\", void 0);\n    return DoughnutInnerLabel;\n}(Label));\nexport { DoughnutInnerLabel };\nvar DoughnutInnerCircle = /** @class */ (function () {\n    function DoughnutInnerCircle() {\n        this.fill = 'transparent';\n        this.fillOpacity = 1;\n    }\n    __decorate([\n        Validate(COLOR_STRING)\n    ], DoughnutInnerCircle.prototype, \"fill\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0, 1))\n    ], DoughnutInnerCircle.prototype, \"fillOpacity\", void 0);\n    return DoughnutInnerCircle;\n}());\nexport { DoughnutInnerCircle };\nvar PieSeries = /** @class */ (function (_super) {\n    __extends(PieSeries, _super);\n    function PieSeries() {\n        var _this = _super.call(this, { useLabelLayer: true }) || this;\n        _this.radiusScale = new LinearScale();\n        _this.groupSelection = Selection.select(_this.contentGroup, Group);\n        _this.highlightSelection = Selection.select(_this.highlightGroup, Group);\n        /**\n         * The processed data that gets visualized.\n         */\n        _this.groupSelectionData = [];\n        _this.sectorFormatData = [];\n        _this.angleScale = (function () {\n            var scale = new LinearScale();\n            // Each sector is a ratio of the whole, where all ratios add up to 1.\n            scale.domain = [0, 1];\n            // Add 90 deg to start the first pie at 12 o'clock.\n            scale.range = [-Math.PI, Math.PI].map(function (angle) { return angle + Math.PI / 2; });\n            return scale;\n        })();\n        // When a user toggles a series item (e.g. from the legend), its boolean state is recorded here.\n        _this.seriesItemEnabled = [];\n        _this.calloutLabel = new PieSeriesCalloutLabel();\n        _this.label = _this.calloutLabel;\n        _this.sectorLabel = new PieSeriesSectorLabel();\n        _this.calloutLine = new PieSeriesCalloutLine();\n        _this.callout = _this.calloutLine;\n        _this.tooltip = new PieSeriesTooltip();\n        /**\n         * The key of the numeric field to use to determine the angle (for example,\n         * a pie sector angle).\n         */\n        _this.angleKey = '';\n        _this.angleName = '';\n        _this.innerLabels = [];\n        /**\n         * The key of the numeric field to use to determine the radii of pie sectors.\n         * The largest value will correspond to the full radius and smaller values to\n         * proportionally smaller radii.\n         */\n        _this.radiusKey = undefined;\n        _this.radiusName = undefined;\n        _this.radiusMin = undefined;\n        _this.radiusMax = undefined;\n        _this.calloutLabelKey = undefined;\n        _this.calloutLabelName = undefined;\n        _this.labelKey = undefined;\n        _this.labelName = undefined;\n        _this.sectorLabelKey = undefined;\n        _this.sectorLabelName = undefined;\n        _this.legendItemKey = undefined;\n        _this.fills = ['#c16068', '#a2bf8a', '#ebcc87', '#80a0c3', '#b58dae', '#85c0d1'];\n        _this.strokes = ['#874349', '#718661', '#a48f5f', '#5a7088', '#7f637a', '#5d8692'];\n        _this.fillOpacity = 1;\n        _this.strokeOpacity = 1;\n        _this.lineDash = [0];\n        _this.lineDashOffset = 0;\n        _this.formatter = undefined;\n        /**\n         * The series rotation in degrees.\n         */\n        _this.rotation = 0;\n        _this.outerRadiusOffset = 0;\n        _this.outerRadiusRatio = 1;\n        _this.innerRadiusOffset = 0;\n        _this.innerRadiusRatio = 1;\n        _this.strokeWidth = 1;\n        _this.shadow = undefined;\n        _this.highlightStyle = new HighlightStyle();\n        _this.datumSectorRefs = new WeakMap();\n        _this.backgroundGroup = _this.rootGroup.appendChild(new Group({\n            name: _this.id + \"-background\",\n            layer: true,\n            zIndex: Layers.SERIES_BACKGROUND_ZINDEX,\n        }));\n        var pieCalloutLabels = new Group({ name: 'pieCalloutLabels' });\n        var pieSectorLabels = new Group({ name: 'pieSectorLabels' });\n        var innerLabels = new Group({ name: 'innerLabels' });\n        _this.labelGroup.append(pieCalloutLabels);\n        _this.labelGroup.append(pieSectorLabels);\n        _this.labelGroup.append(innerLabels);\n        _this.calloutLabelSelection = Selection.select(pieCalloutLabels, Group);\n        _this.sectorLabelSelection = Selection.select(pieSectorLabels, Text);\n        _this.innerLabelsSelection = Selection.select(innerLabels, Text);\n        return _this;\n    }\n    Object.defineProperty(PieSeries.prototype, \"title\", {\n        get: function () {\n            return this._title;\n        },\n        set: function (value) {\n            var _a, _b;\n            var oldTitle = this._title;\n            if (oldTitle !== value) {\n                if (oldTitle) {\n                    (_a = this.labelGroup) === null || _a === void 0 ? void 0 : _a.removeChild(oldTitle.node);\n                }\n                if (value) {\n                    value.node.textBaseline = 'bottom';\n                    (_b = this.labelGroup) === null || _b === void 0 ? void 0 : _b.appendChild(value.node);\n                }\n                this._title = value;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PieSeries.prototype, \"data\", {\n        get: function () {\n            return this._data;\n        },\n        set: function (input) {\n            this._data = input;\n            this.processSeriesItemEnabled();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(PieSeries.prototype, \"innerCircle\", {\n        get: function () {\n            return this._innerCircleConfig;\n        },\n        set: function (value) {\n            var _a;\n            var oldCircleCfg = this._innerCircleConfig;\n            if (oldCircleCfg !== value) {\n                var oldNode = this._innerCircleNode;\n                var circle = void 0;\n                if (oldNode) {\n                    this.backgroundGroup.removeChild(oldNode);\n                }\n                if (value) {\n                    circle = new Circle();\n                    circle.fill = value.fill;\n                    circle.fillOpacity = (_a = value.fillOpacity) !== null && _a !== void 0 ? _a : 1;\n                    this.backgroundGroup.appendChild(circle);\n                }\n                this._innerCircleConfig = value;\n                this._innerCircleNode = circle;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PieSeries.prototype.visibleChanged = function () {\n        this.processSeriesItemEnabled();\n    };\n    PieSeries.prototype.processSeriesItemEnabled = function () {\n        var _a = this, data = _a.data, visible = _a.visible;\n        this.seriesItemEnabled = (data === null || data === void 0 ? void 0 : data.map(function () { return visible; })) || [];\n    };\n    PieSeries.prototype.getDomain = function (direction) {\n        if (direction === ChartAxisDirection.X) {\n            return this.angleScale.domain;\n        }\n        else {\n            return this.radiusScale.domain;\n        }\n    };\n    PieSeries.prototype.processData = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, angleKey, radiusKey, seriesItemEnabled, angleScale, groupSelectionData, sectorFormatData, calloutLabel, sectorLabel, seriesId, data, angleData, angleDataTotal, angleDataRatios, labelFormatter, labelKey, sectorLabelKey, labelData, sectorLabelData, radiusData, getLabelFormatterParams, showValueDeprecationWarning_1, sectorLabelFormatter, _b, radiusMin, radiusMax, radii, min_1, max, delta_1, rotation, halfPi, datumIndex, quadrantTextOpts, end;\n            var _this = this;\n            return __generator(this, function (_c) {\n                _a = this, angleKey = _a.angleKey, radiusKey = _a.radiusKey, seriesItemEnabled = _a.seriesItemEnabled, angleScale = _a.angleScale, groupSelectionData = _a.groupSelectionData, sectorFormatData = _a.sectorFormatData, calloutLabel = _a.calloutLabel, sectorLabel = _a.sectorLabel, seriesId = _a.id;\n                data = angleKey && this.data ? this.data : [];\n                angleData = data.map(function (datum, index) { return (seriesItemEnabled[index] && Math.abs(+datum[angleKey])) || 0; });\n                angleDataTotal = angleData.reduce(function (a, b) { return a + b; }, 0);\n                angleDataRatios = (function () {\n                    var sum = 0;\n                    return angleData.map(function (datum) { return (sum += datum / angleDataTotal); });\n                })();\n                labelFormatter = calloutLabel.formatter;\n                labelKey = calloutLabel.enabled ? this.calloutLabelKey : undefined;\n                sectorLabelKey = sectorLabel.enabled ? this.sectorLabelKey : undefined;\n                labelData = [];\n                sectorLabelData = [];\n                radiusData = [];\n                getLabelFormatterParams = function (datum) {\n                    return {\n                        datum: datum,\n                        angleKey: angleKey,\n                        angleValue: datum[angleKey],\n                        angleName: _this.angleName,\n                        radiusKey: radiusKey,\n                        radiusValue: radiusKey ? datum[radiusKey] : undefined,\n                        radiusName: _this.radiusName,\n                        labelKey: labelKey,\n                        labelValue: labelKey ? datum[labelKey] : undefined,\n                        labelName: _this.calloutLabelName,\n                        calloutLabelKey: labelKey,\n                        calloutLabelValue: labelKey ? datum[labelKey] : undefined,\n                        calloutLabelName: _this.calloutLabelName,\n                        sectorLabelKey: sectorLabelKey,\n                        sectorLabelValue: sectorLabelKey ? datum[sectorLabelKey] : undefined,\n                        sectorLabelName: _this.sectorLabelName,\n                        seriesId: seriesId,\n                    };\n                };\n                if (labelKey) {\n                    if (labelFormatter) {\n                        showValueDeprecationWarning_1 = function () {\n                            return Logger.warnOnce('the use of { value } in the pie chart label formatter function is deprecated. Please use { datum, labelKey, ... } instead.');\n                        };\n                        labelData = data.map(function (datum) {\n                            var deprecatedValue = datum[labelKey];\n                            var formatterParams = __assign(__assign({}, getLabelFormatterParams(datum)), { get value() {\n                                    showValueDeprecationWarning_1();\n                                    return deprecatedValue;\n                                },\n                                set value(v) {\n                                    showValueDeprecationWarning_1();\n                                    deprecatedValue = v;\n                                } });\n                            return labelFormatter(formatterParams);\n                        });\n                    }\n                    else {\n                        labelData = data.map(function (datum) { return String(datum[labelKey]); });\n                    }\n                }\n                sectorLabelFormatter = sectorLabel.formatter;\n                if (sectorLabelKey) {\n                    if (sectorLabelFormatter) {\n                        sectorLabelData = data.map(function (datum) {\n                            var formatterParams = getLabelFormatterParams(datum);\n                            return sectorLabelFormatter(formatterParams);\n                        });\n                    }\n                    else {\n                        sectorLabelData = data.map(function (datum) { return String(datum[sectorLabelKey]); });\n                    }\n                }\n                if (radiusKey) {\n                    _b = this, radiusMin = _b.radiusMin, radiusMax = _b.radiusMax;\n                    radii = data.map(function (datum) { return Math.abs(datum[radiusKey]); });\n                    min_1 = radiusMin !== null && radiusMin !== void 0 ? radiusMin : 0;\n                    max = radiusMax ? radiusMax : Math.max.apply(Math, __spread(radii));\n                    delta_1 = max - min_1;\n                    radiusData = radii.map(function (value) { return (delta_1 ? (value - min_1) / delta_1 : 1); });\n                }\n                groupSelectionData.length = 0;\n                sectorFormatData.length = 0;\n                sectorFormatData.push.apply(sectorFormatData, __spread(data.map(function (datum, datumIdx) { return _this.getSectorFormat(datum, datumIdx, datumIdx, false); })));\n                rotation = toRadians(this.rotation);\n                halfPi = Math.PI / 2;\n                datumIndex = 0;\n                quadrantTextOpts = [\n                    { textAlign: 'center', textBaseline: 'bottom' },\n                    { textAlign: 'left', textBaseline: 'middle' },\n                    { textAlign: 'center', textBaseline: 'hanging' },\n                    { textAlign: 'right', textBaseline: 'middle' },\n                ];\n                end = 0;\n                angleDataRatios.forEach(function (start) {\n                    if (isNaN(start)) {\n                        return;\n                    } // No sectors displayed - nothing to do.\n                    var radius = radiusKey ? radiusData[datumIndex] : 1;\n                    var startAngle = angleScale.convert(start) + rotation;\n                    var endAngle = angleScale.convert(end) + rotation;\n                    var midAngle = (startAngle + endAngle) / 2;\n                    var span = Math.abs(endAngle - startAngle);\n                    var midCos = Math.cos(midAngle);\n                    var midSin = Math.sin(midAngle);\n                    var labelMinAngle = toRadians(calloutLabel.minAngle);\n                    var labelVisible = labelKey && span > labelMinAngle;\n                    var midAngle180 = normalizeAngle180(midAngle);\n                    // Split the circle into quadrants like so: ⊗\n                    var quadrantStart = (-3 * Math.PI) / 4; // same as `normalizeAngle180(toRadians(-135))`\n                    var quadrantOffset = midAngle180 - quadrantStart;\n                    var quadrant = Math.floor(quadrantOffset / halfPi);\n                    var quadrantIndex = mod(quadrant, quadrantTextOpts.length);\n                    var _a = quadrantTextOpts[quadrantIndex], textAlign = _a.textAlign, textBaseline = _a.textBaseline;\n                    var datum = data[datumIndex];\n                    var itemId = datumIndex;\n                    groupSelectionData.push({\n                        series: _this,\n                        datum: datum,\n                        itemId: itemId,\n                        index: datumIndex,\n                        radius: radius,\n                        startAngle: startAngle,\n                        endAngle: endAngle,\n                        midAngle: midAngle,\n                        midCos: midCos,\n                        midSin: midSin,\n                        calloutLabel: labelVisible\n                            ? {\n                                text: labelData[datumIndex],\n                                textAlign: textAlign,\n                                textBaseline: textBaseline,\n                                hidden: false,\n                                collisionTextAlign: undefined,\n                                collisionOffsetY: 0,\n                                box: undefined,\n                            }\n                            : undefined,\n                        sectorLabel: sectorLabelKey\n                            ? {\n                                text: sectorLabelData[datumIndex],\n                            }\n                            : undefined,\n                        sectorFormat: sectorFormatData[datumIndex],\n                    });\n                    datumIndex++;\n                    end = start; // Update for next iteration.\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    PieSeries.prototype.getSectorFormat = function (datum, itemId, index, highlight) {\n        var _a, _b, _c, _d, _e;\n        var _f = this, angleKey = _f.angleKey, radiusKey = _f.radiusKey, fills = _f.fills, strokes = _f.strokes, seriesFillOpacity = _f.fillOpacity, formatter = _f.formatter, seriesId = _f.id;\n        var highlightedDatum = (_a = this.highlightManager) === null || _a === void 0 ? void 0 : _a.getActiveHighlight();\n        var isDatumHighlighted = highlight && (highlightedDatum === null || highlightedDatum === void 0 ? void 0 : highlightedDatum.series) === this && itemId === highlightedDatum.itemId;\n        var highlightedStyle = isDatumHighlighted ? this.highlightStyle.item : null;\n        var fill = (highlightedStyle === null || highlightedStyle === void 0 ? void 0 : highlightedStyle.fill) || fills[index % fills.length];\n        var fillOpacity = (_b = highlightedStyle === null || highlightedStyle === void 0 ? void 0 : highlightedStyle.fillOpacity) !== null && _b !== void 0 ? _b : seriesFillOpacity;\n        var stroke = (highlightedStyle === null || highlightedStyle === void 0 ? void 0 : highlightedStyle.stroke) || strokes[index % strokes.length];\n        var strokeWidth = (_c = highlightedStyle === null || highlightedStyle === void 0 ? void 0 : highlightedStyle.strokeWidth) !== null && _c !== void 0 ? _c : this.getStrokeWidth(this.strokeWidth);\n        var format;\n        if (formatter) {\n            format = formatter({\n                datum: datum,\n                angleKey: angleKey,\n                radiusKey: radiusKey,\n                fill: fill,\n                stroke: stroke,\n                strokeWidth: strokeWidth,\n                highlighted: isDatumHighlighted,\n                seriesId: seriesId,\n            });\n        }\n        return {\n            fill: (format === null || format === void 0 ? void 0 : format.fill) || fill,\n            fillOpacity: (_d = format === null || format === void 0 ? void 0 : format.fillOpacity) !== null && _d !== void 0 ? _d : fillOpacity,\n            stroke: (format === null || format === void 0 ? void 0 : format.stroke) || stroke,\n            strokeWidth: (_e = format === null || format === void 0 ? void 0 : format.strokeWidth) !== null && _e !== void 0 ? _e : strokeWidth,\n        };\n    };\n    PieSeries.prototype.createNodeData = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, []];\n            });\n        });\n    };\n    PieSeries.prototype.getInnerRadius = function () {\n        var _a = this, radius = _a.radius, innerRadiusRatio = _a.innerRadiusRatio, innerRadiusOffset = _a.innerRadiusOffset;\n        var innerRadius = radius * (innerRadiusRatio !== null && innerRadiusRatio !== void 0 ? innerRadiusRatio : 1) + (innerRadiusOffset ? innerRadiusOffset : 0);\n        if (innerRadius === radius || innerRadius < 0) {\n            return 0;\n        }\n        return innerRadius;\n    };\n    PieSeries.prototype.getOuterRadius = function () {\n        var _a = this, radius = _a.radius, outerRadiusRatio = _a.outerRadiusRatio, outerRadiusOffset = _a.outerRadiusOffset;\n        var outerRadius = radius * (outerRadiusRatio !== null && outerRadiusRatio !== void 0 ? outerRadiusRatio : 1) + (outerRadiusOffset ? outerRadiusOffset : 0);\n        if (outerRadius < 0) {\n            return 0;\n        }\n        return outerRadius;\n    };\n    PieSeries.prototype.updateRadiusScale = function () {\n        var innerRadius = this.getInnerRadius();\n        var outerRadius = this.getOuterRadius();\n        this.radiusScale.range = [innerRadius, outerRadius];\n    };\n    PieSeries.prototype.getTitleTranslationY = function () {\n        var _a, _b;\n        var outerRadius = Math.max(0, this.radiusScale.range[1]);\n        if (outerRadius === 0) {\n            return NaN;\n        }\n        var spacing = (_b = (_a = this.title) === null || _a === void 0 ? void 0 : _a.spacing) !== null && _b !== void 0 ? _b : 0;\n        var titleOffset = 2 + spacing;\n        var minLabelY = Math.min.apply(Math, __spread([0], this.groupSelectionData.map(function (d) { var _a, _b; return ((_b = (_a = d.calloutLabel) === null || _a === void 0 ? void 0 : _a.box) === null || _b === void 0 ? void 0 : _b.y) || 0; })));\n        var dy = Math.max(0, -outerRadius - minLabelY);\n        return -outerRadius - titleOffset - dy;\n    };\n    PieSeries.prototype.update = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var title, dy;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        title = this.title;\n                        this.updateRadiusScale();\n                        this.rootGroup.translationX = this.centerX;\n                        this.rootGroup.translationY = this.centerY;\n                        if (title) {\n                            dy = this.getTitleTranslationY();\n                            if (isFinite(dy)) {\n                                title.node.visible = title.enabled;\n                                title.node.translationY = dy;\n                            }\n                            else {\n                                title.node.visible = false;\n                            }\n                        }\n                        this.updateNodeMidPoint();\n                        return [4 /*yield*/, this.updateSelections()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.updateNodes()];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PieSeries.prototype.updateNodeMidPoint = function () {\n        var _this = this;\n        this.groupSelectionData.forEach(function (d) {\n            var radius = _this.radiusScale.convert(d.radius);\n            d.nodeMidPoint = {\n                x: d.midCos * Math.max(0, radius / 2),\n                y: d.midSin * Math.max(0, radius / 2),\n            };\n        });\n    };\n    PieSeries.prototype.updateSelections = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.updateGroupSelection()];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    PieSeries.prototype.updateGroupSelection = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, groupSelection, highlightSelection, calloutLabelSelection, sectorLabelSelection, innerLabelsSelection, update;\n            var _this = this;\n            return __generator(this, function (_b) {\n                _a = this, groupSelection = _a.groupSelection, highlightSelection = _a.highlightSelection, calloutLabelSelection = _a.calloutLabelSelection, sectorLabelSelection = _a.sectorLabelSelection, innerLabelsSelection = _a.innerLabelsSelection;\n                update = function (selection) {\n                    return selection.update(_this.groupSelectionData, function (group) {\n                        var sector = new Sector();\n                        sector.tag = PieNodeTag.Sector;\n                        group.appendChild(sector);\n                    });\n                };\n                this.groupSelection = update(groupSelection);\n                this.highlightSelection = update(highlightSelection);\n                calloutLabelSelection.update(this.groupSelectionData, function (group) {\n                    var line = new Line();\n                    line.tag = PieNodeTag.Callout;\n                    line.pointerEvents = PointerEvents.None;\n                    group.appendChild(line);\n                    var text = new Text();\n                    text.tag = PieNodeTag.Label;\n                    text.pointerEvents = PointerEvents.None;\n                    group.appendChild(text);\n                });\n                sectorLabelSelection.update(this.groupSelectionData, function (node) {\n                    node.pointerEvents = PointerEvents.None;\n                });\n                innerLabelsSelection.update(this.innerLabels, function (node) {\n                    node.pointerEvents = PointerEvents.None;\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    PieSeries.prototype.updateNodes = function () {\n        var _a;\n        return __awaiter(this, void 0, void 0, function () {\n            var highlightedDatum, isVisible, radiusScale, innerRadius, updateSectorFn;\n            var _this = this;\n            return __generator(this, function (_b) {\n                highlightedDatum = (_a = this.highlightManager) === null || _a === void 0 ? void 0 : _a.getActiveHighlight();\n                isVisible = this.seriesItemEnabled.indexOf(true) >= 0;\n                this.rootGroup.visible = isVisible;\n                this.backgroundGroup.visible = isVisible;\n                this.contentGroup.visible = isVisible;\n                this.highlightGroup.visible = isVisible && (highlightedDatum === null || highlightedDatum === void 0 ? void 0 : highlightedDatum.series) === this;\n                this.labelGroup.visible = isVisible;\n                this.contentGroup.opacity = this.getOpacity();\n                this.updateInnerCircle();\n                radiusScale = this.radiusScale;\n                innerRadius = radiusScale.convert(0);\n                updateSectorFn = function (sector, datum, index, isDatumHighlighted) {\n                    var radius = radiusScale.convert(datum.radius);\n                    // Bring highlighted sector's parent group to front.\n                    var sectorParent = sector.parent;\n                    var sectorGrandParent = sectorParent === null || sectorParent === void 0 ? void 0 : sectorParent.parent;\n                    if (isDatumHighlighted && sectorParent && sectorGrandParent) {\n                        sectorGrandParent.removeChild(sectorParent);\n                        sectorGrandParent.appendChild(sectorParent);\n                    }\n                    sector.innerRadius = Math.max(0, innerRadius);\n                    sector.outerRadius = Math.max(0, radius);\n                    sector.startAngle = datum.startAngle;\n                    sector.endAngle = datum.endAngle;\n                    var format = _this.getSectorFormat(datum.datum, datum.itemId, index, isDatumHighlighted);\n                    sector.fill = format.fill;\n                    sector.stroke = format.stroke;\n                    sector.strokeWidth = format.strokeWidth;\n                    sector.fillOpacity = format.fillOpacity;\n                    sector.strokeOpacity = _this.strokeOpacity;\n                    sector.lineDash = _this.lineDash;\n                    sector.lineDashOffset = _this.lineDashOffset;\n                    sector.fillShadow = _this.shadow;\n                    sector.lineJoin = 'round';\n                    sector.visible = _this.seriesItemEnabled[index];\n                    _this.datumSectorRefs.set(datum, sector);\n                };\n                this.groupSelection\n                    .selectByTag(PieNodeTag.Sector)\n                    .forEach(function (node, index) { return updateSectorFn(node, node.datum, index, false); });\n                this.highlightSelection.selectByTag(PieNodeTag.Sector).forEach(function (node, index) {\n                    var isDatumHighlighted = (highlightedDatum === null || highlightedDatum === void 0 ? void 0 : highlightedDatum.series) === _this && node.datum.itemId === highlightedDatum.itemId;\n                    node.visible = isDatumHighlighted;\n                    if (node.visible) {\n                        updateSectorFn(node, node.datum, index, isDatumHighlighted);\n                    }\n                });\n                this.updateCalloutLineNodes();\n                this.updateCalloutLabelNodes();\n                this.updateSectorLabelNodes();\n                this.updateInnerLabelNodes();\n                return [2 /*return*/];\n            });\n        });\n    };\n    PieSeries.prototype.updateCalloutLineNodes = function () {\n        var _a = this, radiusScale = _a.radiusScale, calloutLine = _a.calloutLine;\n        var calloutLength = calloutLine.length;\n        var calloutStrokeWidth = calloutLine.strokeWidth;\n        var calloutColors = calloutLine.colors || this.strokes;\n        var offset = this.calloutLabel.offset;\n        this.calloutLabelSelection.selectByTag(PieNodeTag.Callout).forEach(function (line, index) {\n            var datum = line.datum;\n            var radius = radiusScale.convert(datum.radius);\n            var outerRadius = Math.max(0, radius);\n            var label = datum.calloutLabel;\n            if (label && label.text && !label.hidden && outerRadius !== 0) {\n                line.visible = true;\n                line.strokeWidth = calloutStrokeWidth;\n                line.stroke = calloutColors[index % calloutColors.length];\n                line.fill = undefined;\n                var x1 = datum.midCos * outerRadius;\n                var y1 = datum.midSin * outerRadius;\n                var x2 = datum.midCos * (outerRadius + calloutLength);\n                var y2 = datum.midSin * (outerRadius + calloutLength);\n                if (label.collisionTextAlign || label.collisionOffsetY !== 0) {\n                    // Get the closest point to the text bounding box\n                    var box = label.box;\n                    var cx = x2 < box.x ? box.x : x2 > box.x + box.width ? box.x + box.width : x2;\n                    var cy = y2 < box.y ? box.y : y2 > box.y + box.height ? box.y + box.height : y2;\n                    // Apply label offset\n                    var dx = cx - x2;\n                    var dy = cy - y2;\n                    var length_1 = Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));\n                    var paddedLength = length_1 - offset;\n                    if (paddedLength > 0) {\n                        x2 = x2 + (dx * paddedLength) / length_1;\n                        y2 = y2 + (dy * paddedLength) / length_1;\n                    }\n                }\n                line.x1 = x1;\n                line.y1 = y1;\n                line.x2 = x2;\n                line.y2 = y2;\n            }\n            else {\n                line.visible = false;\n            }\n        });\n    };\n    PieSeries.prototype.getLabelOverflow = function (text, box) {\n        var seriesBox = this.chart.getSeriesRect();\n        var seriesLeft = seriesBox.x - this.centerX;\n        var seriesRight = seriesBox.x + seriesBox.width - this.centerX;\n        var seriesTop = seriesBox.y - this.centerY;\n        var seriesBottom = seriesBox.y + seriesBox.height - this.centerY;\n        var errPx = 1; // Prevents errors related to floating point calculations\n        var visibleTextPart = 1;\n        if (box.x + errPx < seriesLeft) {\n            visibleTextPart = (box.x + box.width - seriesLeft) / box.width;\n        }\n        else if (box.x + box.width - errPx > seriesRight) {\n            visibleTextPart = (seriesRight - box.x) / box.width;\n        }\n        var hasVerticalOverflow = box.y + errPx < seriesTop || box.y + box.height - errPx > seriesBottom;\n        var textLength = Math.floor(text.length * visibleTextPart) - 1;\n        return { visibleTextPart: visibleTextPart, textLength: textLength, hasVerticalOverflow: hasVerticalOverflow };\n    };\n    PieSeries.prototype.computeCalloutLabelCollisionOffsets = function () {\n        var _this = this;\n        var _a = this, radiusScale = _a.radiusScale, calloutLabel = _a.calloutLabel, calloutLine = _a.calloutLine;\n        var offset = calloutLabel.offset, minSpacing = calloutLabel.minSpacing;\n        var innerRadius = radiusScale.convert(0);\n        var shouldSkip = function (datum) {\n            var label = datum.calloutLabel;\n            var radius = radiusScale.convert(datum.radius);\n            var outerRadius = Math.max(0, radius);\n            return !label || outerRadius === 0;\n        };\n        var fullData = this.groupSelectionData;\n        var data = this.groupSelectionData.filter(function (text) { return !shouldSkip(text); });\n        data.forEach(function (datum) {\n            var label = datum.calloutLabel;\n            label.hidden = false;\n            label.collisionTextAlign = undefined;\n            label.collisionOffsetY = 0;\n        });\n        if (data.length <= 1) {\n            return;\n        }\n        var leftLabels = data.filter(function (d) { return d.midCos < 0; }).sort(function (a, b) { return a.midSin - b.midSin; });\n        var rightLabels = data.filter(function (d) { return d.midCos >= 0; }).sort(function (a, b) { return a.midSin - b.midSin; });\n        var topLabels = data\n            .filter(function (d) { return d.midSin < 0 && d.calloutLabel.textAlign === 'center'; })\n            .sort(function (a, b) { return a.midCos - b.midCos; });\n        var bottomLabels = data\n            .filter(function (d) { return d.midSin >= 0 && d.calloutLabel.textAlign === 'center'; })\n            .sort(function (a, b) { return a.midCos - b.midCos; });\n        var tempTextNode = new Text();\n        var getTextBBox = function (datum) {\n            var label = datum.calloutLabel;\n            var radius = radiusScale.convert(datum.radius);\n            var outerRadius = Math.max(0, radius);\n            var labelRadius = outerRadius + calloutLine.length + offset;\n            var x = datum.midCos * labelRadius;\n            var y = datum.midSin * labelRadius + label.collisionOffsetY;\n            _this.setTextDimensionalProps(tempTextNode, x, y, _this.calloutLabel, label);\n            return tempTextNode.computeBBox();\n        };\n        var avoidNeighbourYCollision = function (label, next, direction) {\n            var box = getTextBBox(label).grow(minSpacing / 2);\n            var other = getTextBBox(next).grow(minSpacing / 2);\n            // The full collision is not detected, because sometimes\n            // the next label can appear behind the label with offset\n            var collidesOrBehind = box.x < other.x + other.width &&\n                box.x + box.width > other.x &&\n                (direction === 'to-top' ? box.y < other.y + other.height : box.y + box.height > other.y);\n            if (collidesOrBehind) {\n                var dy = direction === 'to-top' ? box.y - other.y - other.height : box.y + box.height - other.y;\n                next.calloutLabel.collisionOffsetY = dy;\n            }\n        };\n        var avoidYCollisions = function (labels) {\n            var midLabel = labels.slice().sort(function (a, b) { return Math.abs(a.midSin) - Math.abs(b.midSin); })[0];\n            var midIndex = labels.indexOf(midLabel);\n            for (var i = midIndex - 1; i >= 0; i--) {\n                var prev = labels[i + 1];\n                var next = labels[i];\n                avoidNeighbourYCollision(prev, next, 'to-top');\n            }\n            for (var i = midIndex + 1; i < labels.length; i++) {\n                var prev = labels[i - 1];\n                var next = labels[i];\n                avoidNeighbourYCollision(prev, next, 'to-bottom');\n            }\n        };\n        var avoidXCollisions = function (labels) {\n            var labelsCollideLabelsByY = data.some(function (datum) { return datum.calloutLabel.collisionOffsetY !== 0; });\n            var boxes = labels.map(function (label) { return getTextBBox(label); });\n            var paddedBoxes = boxes.map(function (box) { return box.clone().grow(minSpacing / 2); });\n            var labelsCollideLabelsByX = false;\n            loop: for (var i = 0; i < paddedBoxes.length; i++) {\n                var box = paddedBoxes[i];\n                for (var j = i + 1; j < labels.length; j++) {\n                    var other = paddedBoxes[j];\n                    if (box.collidesBBox(other)) {\n                        labelsCollideLabelsByX = true;\n                        break loop;\n                    }\n                }\n            }\n            var sectors = fullData.map(function (datum) {\n                var startAngle = datum.startAngle, endAngle = datum.endAngle;\n                var radius = radiusScale.convert(datum.radius);\n                var outerRadius = Math.max(0, radius);\n                return { startAngle: startAngle, endAngle: endAngle, innerRadius: innerRadius, outerRadius: outerRadius };\n            });\n            var labelsCollideSectors = boxes.some(function (box) {\n                return sectors.some(function (sector) { return boxCollidesSector(box, sector); });\n            });\n            if (!labelsCollideLabelsByX && !labelsCollideLabelsByY && !labelsCollideSectors) {\n                return;\n            }\n            labels\n                .filter(function (datum) { return datum.calloutLabel.textAlign === 'center'; })\n                .forEach(function (datum) {\n                var label = datum.calloutLabel;\n                label.collisionTextAlign = datum.midCos < 0 ? 'right' : datum.midCos > 0 ? 'left' : 'center';\n            });\n        };\n        avoidYCollisions(leftLabels);\n        avoidYCollisions(rightLabels);\n        avoidXCollisions(topLabels);\n        avoidXCollisions(bottomLabels);\n    };\n    PieSeries.prototype.updateCalloutLabelNodes = function () {\n        var _this = this;\n        var _a = this, radiusScale = _a.radiusScale, calloutLabel = _a.calloutLabel, calloutLine = _a.calloutLine;\n        var calloutLength = calloutLine.length;\n        var offset = calloutLabel.offset, color = calloutLabel.color;\n        var tempTextNode = new Text();\n        this.calloutLabelSelection.selectByTag(PieNodeTag.Label).forEach(function (text) {\n            var datum = text.datum;\n            var label = datum.calloutLabel;\n            var radius = radiusScale.convert(datum.radius);\n            var outerRadius = Math.max(0, radius);\n            if (!label || !label.text || outerRadius === 0 || label.hidden) {\n                text.visible = false;\n                return;\n            }\n            var labelRadius = outerRadius + calloutLength + offset;\n            var x = datum.midCos * labelRadius;\n            var y = datum.midSin * labelRadius + label.collisionOffsetY;\n            // Detect text overflow\n            _this.setTextDimensionalProps(tempTextNode, x, y, _this.calloutLabel, label);\n            var box = tempTextNode.computeBBox();\n            var _a = _this.getLabelOverflow(label.text, box), visibleTextPart = _a.visibleTextPart, textLength = _a.textLength, hasVerticalOverflow = _a.hasVerticalOverflow;\n            var displayText = visibleTextPart === 1 ? label.text : label.text.substring(0, textLength) + \"\\u2026\";\n            _this.setTextDimensionalProps(text, x, y, _this.calloutLabel, __assign(__assign({}, label), { text: displayText }));\n            text.fill = color;\n            text.visible = !hasVerticalOverflow;\n        });\n    };\n    PieSeries.prototype.computeLabelsBBox = function (options) {\n        var _this = this;\n        var _a = this, radiusScale = _a.radiusScale, calloutLabel = _a.calloutLabel, calloutLine = _a.calloutLine;\n        var calloutLength = calloutLine.length;\n        var offset = calloutLabel.offset, maxCollisionOffset = calloutLabel.maxCollisionOffset;\n        this.updateRadiusScale();\n        this.computeCalloutLabelCollisionOffsets();\n        var text = new Text();\n        var textBoxes = this.groupSelectionData\n            .map(function (datum) {\n            var label = datum.calloutLabel;\n            var radius = radiusScale.convert(datum.radius);\n            var outerRadius = Math.max(0, radius);\n            if (!label || outerRadius === 0) {\n                return null;\n            }\n            var labelRadius = outerRadius + calloutLength + offset;\n            var x = datum.midCos * labelRadius;\n            var y = datum.midSin * labelRadius + label.collisionOffsetY;\n            _this.setTextDimensionalProps(text, x, y, _this.calloutLabel, label);\n            var box = text.computeBBox();\n            label.box = box;\n            if (Math.abs(label.collisionOffsetY) > maxCollisionOffset) {\n                label.hidden = true;\n                return null;\n            }\n            if (options.hideWhenNecessary) {\n                var _a = _this.getLabelOverflow(label.text, box), textLength = _a.textLength, hasVerticalOverflow = _a.hasVerticalOverflow;\n                var isTooShort = label.text.length > 2 && textLength < 2;\n                if (hasVerticalOverflow || isTooShort) {\n                    label.hidden = true;\n                    return null;\n                }\n            }\n            label.hidden = false;\n            return box;\n        })\n            .filter(function (box) { return box != null; });\n        if (this.title && this.title.text) {\n            var dy = this.getTitleTranslationY();\n            if (isFinite(dy)) {\n                this.setTextDimensionalProps(text, 0, dy, this.title, {\n                    text: this.title.text,\n                    textBaseline: 'bottom',\n                    textAlign: 'center',\n                    hidden: false,\n                    collisionTextAlign: undefined,\n                    collisionOffsetY: 0,\n                });\n                var box = text.computeBBox();\n                textBoxes.push(box);\n            }\n        }\n        if (textBoxes.length === 0) {\n            return null;\n        }\n        return BBox.merge(textBoxes);\n    };\n    PieSeries.prototype.setTextDimensionalProps = function (textNode, x, y, style, label) {\n        var fontStyle = style.fontStyle, fontWeight = style.fontWeight, fontSize = style.fontSize, fontFamily = style.fontFamily;\n        textNode.fontStyle = fontStyle;\n        textNode.fontWeight = fontWeight;\n        textNode.fontSize = fontSize;\n        textNode.fontFamily = fontFamily;\n        textNode.text = label.text;\n        textNode.x = x;\n        textNode.y = y;\n        textNode.textAlign = label.collisionTextAlign || label.textAlign;\n        textNode.textBaseline = label.textBaseline;\n    };\n    PieSeries.prototype.updateSectorLabelNodes = function () {\n        var _this = this;\n        var radiusScale = this.radiusScale;\n        var innerRadius = radiusScale.convert(0);\n        var _a = this.sectorLabel, fontSize = _a.fontSize, fontStyle = _a.fontStyle, fontWeight = _a.fontWeight, fontFamily = _a.fontFamily, positionOffset = _a.positionOffset, positionRatio = _a.positionRatio, color = _a.color;\n        var isDoughnut = innerRadius > 0;\n        var singleVisibleSector = this.seriesItemEnabled.filter(Boolean).length === 1;\n        this.sectorLabelSelection.each(function (text, datum) {\n            var sectorLabel = datum.sectorLabel;\n            var radius = radiusScale.convert(datum.radius);\n            var outerRadius = Math.max(0, radius);\n            var isTextVisible = false;\n            if (sectorLabel && outerRadius !== 0) {\n                var labelRadius = innerRadius * (1 - positionRatio) + radius * positionRatio + positionOffset;\n                text.fill = color;\n                text.fontStyle = fontStyle;\n                text.fontWeight = fontWeight;\n                text.fontSize = fontSize;\n                text.fontFamily = fontFamily;\n                text.text = sectorLabel.text;\n                var shouldPutTextInCenter = !isDoughnut && singleVisibleSector;\n                if (shouldPutTextInCenter) {\n                    text.x = 0;\n                    text.y = 0;\n                }\n                else {\n                    text.x = datum.midCos * labelRadius;\n                    text.y = datum.midSin * labelRadius;\n                }\n                text.textAlign = 'center';\n                text.textBaseline = 'middle';\n                var sector = _this.datumSectorRefs.get(datum);\n                if (sector) {\n                    var bbox = text.computeBBox();\n                    var corners = [\n                        [bbox.x, bbox.y],\n                        [bbox.x + bbox.width, bbox.y],\n                        [bbox.x + bbox.width, bbox.y + bbox.height],\n                        [bbox.x, bbox.y + bbox.height],\n                    ];\n                    var startAngle = datum.startAngle, endAngle = datum.endAngle;\n                    var sectorBounds_1 = { startAngle: startAngle, endAngle: endAngle, innerRadius: innerRadius, outerRadius: outerRadius };\n                    if (corners.every(function (_a) {\n                        var _b = __read(_a, 2), x = _b[0], y = _b[1];\n                        return isPointInSector(x, y, sectorBounds_1);\n                    })) {\n                        isTextVisible = true;\n                    }\n                }\n            }\n            text.visible = isTextVisible;\n        });\n    };\n    PieSeries.prototype.updateInnerCircle = function () {\n        var circle = this._innerCircleNode;\n        if (!circle) {\n            return;\n        }\n        var innerRadius = this.getInnerRadius();\n        if (innerRadius === 0) {\n            circle.size = 0;\n        }\n        else {\n            var circleRadius = Math.min(innerRadius, this.getOuterRadius());\n            var antiAliasingPadding = 1;\n            circle.size = Math.ceil(circleRadius * 2 + antiAliasingPadding);\n        }\n    };\n    PieSeries.prototype.updateInnerLabelNodes = function () {\n        var textBBoxes = [];\n        var margins = [];\n        this.innerLabelsSelection.each(function (text, datum) {\n            var fontStyle = datum.fontStyle, fontWeight = datum.fontWeight, fontSize = datum.fontSize, fontFamily = datum.fontFamily, color = datum.color;\n            text.fontStyle = fontStyle;\n            text.fontWeight = fontWeight;\n            text.fontSize = fontSize;\n            text.fontFamily = fontFamily;\n            text.text = datum.text;\n            text.x = 0;\n            text.y = 0;\n            text.fill = color;\n            text.textAlign = 'center';\n            text.textBaseline = 'alphabetic';\n            textBBoxes.push(text.computeBBox());\n            margins.push(datum.margin);\n        });\n        var getMarginTop = function (index) { return (index === 0 ? 0 : margins[index]); };\n        var getMarginBottom = function (index) { return (index === margins.length - 1 ? 0 : margins[index]); };\n        var totalHeight = textBBoxes.reduce(function (sum, bbox, i) {\n            return sum + bbox.height + getMarginTop(i) + getMarginBottom(i);\n        }, 0);\n        var totalWidth = Math.max.apply(Math, __spread(textBBoxes.map(function (bbox) { return bbox.width; })));\n        var innerRadius = this.getInnerRadius();\n        var labelRadius = Math.sqrt(Math.pow(totalWidth / 2, 2) + Math.pow(totalHeight / 2, 2));\n        var labelsVisible = labelRadius <= (innerRadius > 0 ? innerRadius : this.getOuterRadius());\n        var textBottoms = [];\n        for (var i = 0, prev = -totalHeight / 2; i < textBBoxes.length; i++) {\n            var bbox = textBBoxes[i];\n            var bottom = bbox.height + prev + getMarginTop(i);\n            textBottoms.push(bottom);\n            prev = bottom + getMarginBottom(i);\n        }\n        this.innerLabelsSelection.each(function (text, _datum, index) {\n            text.y = textBottoms[index];\n            text.visible = labelsVisible;\n        });\n    };\n    PieSeries.prototype.getNodeClickEvent = function (event, datum) {\n        return new PieSeriesNodeClickEvent(this.angleKey, this.calloutLabelKey, this.sectorLabelKey, this.radiusKey, event, datum, this);\n    };\n    PieSeries.prototype.getNodeDoubleClickEvent = function (event, datum) {\n        return new PieSeriesNodeDoubleClickEvent(this.angleKey, this.calloutLabelKey, this.sectorLabelKey, this.radiusKey, event, datum, this);\n    };\n    PieSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var angleKey = this.angleKey;\n        if (!angleKey) {\n            return '';\n        }\n        var _a = this, tooltip = _a.tooltip, angleName = _a.angleName, radiusKey = _a.radiusKey, radiusName = _a.radiusName, calloutLabelKey = _a.calloutLabelKey, sectorLabelKey = _a.sectorLabelKey, calloutLabelName = _a.calloutLabelName, sectorLabelName = _a.sectorLabelName, seriesId = _a.id;\n        var tooltipRenderer = tooltip.renderer;\n        var color = nodeDatum.sectorFormat.fill;\n        var datum = nodeDatum.datum;\n        var label = calloutLabelKey ? datum[calloutLabelKey] + \": \" : '';\n        var angleValue = datum[angleKey];\n        var formattedAngleValue = typeof angleValue === 'number' ? toFixed(angleValue) : angleValue.toString();\n        var title = this.title ? this.title.text : undefined;\n        var content = label + formattedAngleValue;\n        var defaults = {\n            title: title,\n            backgroundColor: color,\n            content: content,\n        };\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum: datum,\n                angleKey: angleKey,\n                angleValue: angleValue,\n                angleName: angleName,\n                radiusKey: radiusKey,\n                radiusValue: radiusKey ? datum[radiusKey] : undefined,\n                radiusName: radiusName,\n                labelKey: calloutLabelKey,\n                labelName: calloutLabelName,\n                calloutLabelKey: calloutLabelKey,\n                calloutLabelName: calloutLabelName,\n                sectorLabelKey: sectorLabelKey,\n                sectorLabelName: sectorLabelName,\n                title: title,\n                color: color,\n                seriesId: seriesId,\n            }), defaults);\n        }\n        return toTooltipHtml(defaults);\n    };\n    PieSeries.prototype.getLegendData = function () {\n        var _this = this;\n        var _a = this, calloutLabelKey = _a.calloutLabelKey, legendItemKey = _a.legendItemKey, data = _a.data, id = _a.id, sectorFormatData = _a.sectorFormatData;\n        if (!data || data.length === 0 || (!legendItemKey && !calloutLabelKey))\n            return [];\n        var titleText = this.title && this.title.showInLegend && this.title.text;\n        var legendData = data.map(function (datum, index) {\n            var labelParts = [];\n            titleText && labelParts.push(titleText);\n            if (legendItemKey) {\n                labelParts.push(String(datum[legendItemKey]));\n            }\n            else if (calloutLabelKey) {\n                labelParts.push(String(datum[calloutLabelKey]));\n            }\n            return {\n                id: id,\n                itemId: index,\n                seriesId: id,\n                enabled: _this.seriesItemEnabled[index],\n                label: {\n                    text: labelParts.join(' - '),\n                },\n                marker: {\n                    fill: sectorFormatData[index].fill,\n                    stroke: sectorFormatData[index].stroke,\n                    fillOpacity: _this.fillOpacity,\n                    strokeOpacity: _this.strokeOpacity,\n                },\n            };\n        });\n        return legendData;\n    };\n    PieSeries.prototype.toggleSeriesItem = function (itemId, enabled) {\n        this.seriesItemEnabled[itemId] = enabled;\n        this.nodeDataRefresh = true;\n    };\n    PieSeries.prototype.toggleOtherSeriesItems = function (seriesToggled, datumToggled, enabled, suggestedEnabled) {\n        var _this = this;\n        var _a, _b;\n        var legendItemKey = this.legendItemKey;\n        if (seriesToggled.type !== 'pie')\n            return;\n        if (legendItemKey === undefined)\n            return;\n        var pieSeriesToggled = seriesToggled;\n        var datumToggledLegendItemValue = datumToggled &&\n            pieSeriesToggled.legendItemKey && ((_a = pieSeriesToggled.data) === null || _a === void 0 ? void 0 : _a.find(function (_, index) { return index === datumToggled.itemId; })[pieSeriesToggled.legendItemKey]);\n        if (!datumToggledLegendItemValue)\n            return;\n        (_b = this.data) === null || _b === void 0 ? void 0 : _b.forEach(function (d, itemId) {\n            if (enabled !== undefined && d[legendItemKey] === datumToggledLegendItemValue) {\n                _this.toggleSeriesItem(itemId, enabled);\n            }\n            else if (suggestedEnabled !== undefined) {\n                _this.toggleSeriesItem(itemId, suggestedEnabled || d[legendItemKey] === datumToggledLegendItemValue);\n            }\n        });\n    };\n    PieSeries.className = 'PieSeries';\n    PieSeries.type = 'pie';\n    __decorate([\n        DeprecatedAndRenamedTo('calloutLabel')\n    ], PieSeries.prototype, \"label\", void 0);\n    __decorate([\n        DeprecatedAndRenamedTo('calloutLine')\n    ], PieSeries.prototype, \"callout\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], PieSeries.prototype, \"angleKey\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], PieSeries.prototype, \"angleName\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], PieSeries.prototype, \"radiusKey\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], PieSeries.prototype, \"radiusName\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0))\n    ], PieSeries.prototype, \"radiusMin\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0))\n    ], PieSeries.prototype, \"radiusMax\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], PieSeries.prototype, \"calloutLabelKey\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], PieSeries.prototype, \"calloutLabelName\", void 0);\n    __decorate([\n        DeprecatedAndRenamedTo('calloutLabelKey')\n    ], PieSeries.prototype, \"labelKey\", void 0);\n    __decorate([\n        DeprecatedAndRenamedTo('calloutLabelName')\n    ], PieSeries.prototype, \"labelName\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], PieSeries.prototype, \"sectorLabelKey\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], PieSeries.prototype, \"sectorLabelName\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], PieSeries.prototype, \"legendItemKey\", void 0);\n    __decorate([\n        Validate(COLOR_STRING_ARRAY)\n    ], PieSeries.prototype, \"fills\", void 0);\n    __decorate([\n        Validate(COLOR_STRING_ARRAY)\n    ], PieSeries.prototype, \"strokes\", void 0);\n    __decorate([\n        Validate(NUMBER(0, 1))\n    ], PieSeries.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        Validate(NUMBER(0, 1))\n    ], PieSeries.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        Validate(OPT_LINE_DASH)\n    ], PieSeries.prototype, \"lineDash\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], PieSeries.prototype, \"lineDashOffset\", void 0);\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], PieSeries.prototype, \"formatter\", void 0);\n    __decorate([\n        Validate(NUMBER(-360, 360))\n    ], PieSeries.prototype, \"rotation\", void 0);\n    __decorate([\n        Validate(NUMBER())\n    ], PieSeries.prototype, \"outerRadiusOffset\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], PieSeries.prototype, \"outerRadiusRatio\", void 0);\n    __decorate([\n        Validate(NUMBER())\n    ], PieSeries.prototype, \"innerRadiusOffset\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], PieSeries.prototype, \"innerRadiusRatio\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], PieSeries.prototype, \"strokeWidth\", void 0);\n    return PieSeries;\n}(PolarSeries));\nexport { PieSeries };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Series, SeriesNodePickMode } from '../series';\nvar HierarchySeries = /** @class */ (function (_super) {\n    __extends(HierarchySeries, _super);\n    function HierarchySeries() {\n        return _super.call(this, { pickModes: [SeriesNodePickMode.EXACT_SHAPE_MATCH] }) || this;\n    }\n    HierarchySeries.prototype.getLabelData = function () {\n        return [];\n    };\n    return HierarchySeries;\n}(Series));\nexport { HierarchySeries };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { BOOLEAN, COLOR_STRING, NUMBER, Validate } from '../util/validation';\nimport { ChangeDetectable, RedrawType } from './changeDetectable';\nimport { SceneChangeDetection } from './node';\nvar DropShadow = /** @class */ (function (_super) {\n    __extends(DropShadow, _super);\n    function DropShadow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.enabled = true;\n        _this.color = 'rgba(0, 0, 0, 0.5)';\n        _this.xOffset = 0;\n        _this.yOffset = 0;\n        _this.blur = 5;\n        return _this;\n    }\n    __decorate([\n        Validate(BOOLEAN),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], DropShadow.prototype, \"enabled\", void 0);\n    __decorate([\n        Validate(COLOR_STRING),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], DropShadow.prototype, \"color\", void 0);\n    __decorate([\n        Validate(NUMBER()),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], DropShadow.prototype, \"xOffset\", void 0);\n    __decorate([\n        Validate(NUMBER()),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], DropShadow.prototype, \"yOffset\", void 0);\n    __decorate([\n        Validate(NUMBER(0)),\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], DropShadow.prototype, \"blur\", void 0);\n    return DropShadow;\n}(ChangeDetectable));\nexport { DropShadow };\n", "export default function (a, b) {\n    a = +a;\n    b = +b;\n    return function (t) { return a * (1 - t) + b * t; };\n}\n", "import number from './number';\nimport { Color } from '../util/color';\nexport default function (a, b) {\n    if (typeof a === 'string') {\n        try {\n            a = Color.fromString(a);\n        }\n        catch (e) {\n            a = Color.fromArray([0, 0, 0]);\n        }\n    }\n    if (typeof b === 'string') {\n        try {\n            b = Color.fromString(b);\n        }\n        catch (e) {\n            b = Color.fromArray([0, 0, 0]);\n        }\n    }\n    var red = number(a.r, b.r);\n    var green = number(a.g, b.g);\n    var blue = number(a.b, b.b);\n    var alpha = number(a.a, b.a);\n    return function (t) {\n        return Color.fromArray([red(t), green(t), blue(t), alpha(t)]).toRgbaString();\n    };\n}\n", "import { Color } from '../util/color';\nimport interpolateColor from '../interpolate/color';\nvar ColorScale = /** @class */ (function () {\n    function ColorScale() {\n        this.domain = [0, 1];\n        this._range = ['red', 'green'];\n        this.parsedRange = this._range.map(function (v) { return Color.fromString(v); });\n    }\n    Object.defineProperty(ColorScale.prototype, \"range\", {\n        get: function () {\n            return this._range;\n        },\n        set: function (values) {\n            this._range = values;\n            this.parsedRange = values.map(function (v) { return Color.fromString(v); });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ColorScale.prototype.convert = function (x) {\n        var _a = this, domain = _a.domain, range = _a.range, parsedRange = _a.parsedRange;\n        var d0 = domain[0];\n        var d1 = domain[domain.length - 1];\n        var r0 = range[0];\n        var r1 = range[range.length - 1];\n        if (x <= d0) {\n            return r0;\n        }\n        if (x >= d1) {\n            return r1;\n        }\n        var index;\n        var q;\n        if (domain.length === 2) {\n            var t = (x - d0) / (d1 - d0);\n            var step = 1 / (range.length - 1);\n            index = range.length <= 2 ? 0 : Math.min(Math.floor(t * (range.length - 1)), range.length - 2);\n            q = (t - index * step) / step;\n        }\n        else {\n            for (index = 0; index < domain.length - 2; index++) {\n                if (x < domain[index + 1]) {\n                    break;\n                }\n            }\n            var a = domain[index];\n            var b = domain[index + 1];\n            q = (x - a) / (b - a);\n        }\n        var c0 = parsedRange[index];\n        var c1 = parsedRange[index + 1];\n        return interpolateColor(c0, c1)(q);\n    };\n    return ColorScale;\n}());\nexport { ColorScale };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { Selection } from '../../../scene/selection';\nimport { HdpiCanvas } from '../../../canvas/hdpiCanvas';\nimport { Label } from '../../label';\nimport { SeriesTooltip, HighlightStyle, SeriesNodeBaseClickEvent } from '../series';\nimport { HierarchySeries } from './hierarchySeries';\nimport { toTooltipHtml } from '../../tooltip/tooltip';\nimport { Group } from '../../../scene/group';\nimport { Text } from '../../../scene/shape/text';\nimport { Rect } from '../../../scene/shape/rect';\nimport { DropShadow } from '../../../scene/dropShadow';\nimport { ColorScale } from '../../../scale/colorScale';\nimport { toFixed } from '../../../util/number';\nimport { Path2D } from '../../../scene/path2D';\nimport { BBox } from '../../../scene/bbox';\nimport { Color } from '../../../util/color';\nimport { BOOLEAN, NUMBER, NUMBER_ARRAY, OPT_BOOLEAN, OPT_COLOR_STRING, OPT_FUNCTION, OPT_NUMBER, OPT_STRING, STRING, COLOR_STRING_ARRAY, Validate, } from '../../../util/validation';\nimport { Logger } from '../../../util/logger';\nvar TreemapSeriesTooltip = /** @class */ (function (_super) {\n    __extends(TreemapSeriesTooltip, _super);\n    function TreemapSeriesTooltip() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderer = undefined;\n        return _this;\n    }\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], TreemapSeriesTooltip.prototype, \"renderer\", void 0);\n    return TreemapSeriesTooltip;\n}(SeriesTooltip));\nvar TreemapSeriesNodeBaseClickEvent = /** @class */ (function (_super) {\n    __extends(TreemapSeriesNodeBaseClickEvent, _super);\n    function TreemapSeriesNodeBaseClickEvent(labelKey, sizeKey, colorKey, nativeEvent, datum, series) {\n        var _this = _super.call(this, nativeEvent, datum, series) || this;\n        _this.labelKey = labelKey;\n        _this.sizeKey = sizeKey;\n        _this.colorKey = colorKey;\n        return _this;\n    }\n    return TreemapSeriesNodeBaseClickEvent;\n}(SeriesNodeBaseClickEvent));\nvar TreemapSeriesNodeClickEvent = /** @class */ (function (_super) {\n    __extends(TreemapSeriesNodeClickEvent, _super);\n    function TreemapSeriesNodeClickEvent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'nodeClick';\n        return _this;\n    }\n    return TreemapSeriesNodeClickEvent;\n}(TreemapSeriesNodeBaseClickEvent));\nvar TreemapSeriesNodeDoubleClickEvent = /** @class */ (function (_super) {\n    __extends(TreemapSeriesNodeDoubleClickEvent, _super);\n    function TreemapSeriesNodeDoubleClickEvent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.type = 'nodeDoubleClick';\n        return _this;\n    }\n    return TreemapSeriesNodeDoubleClickEvent;\n}(TreemapSeriesNodeBaseClickEvent));\nvar TreemapSeriesLabel = /** @class */ (function (_super) {\n    __extends(TreemapSeriesLabel, _super);\n    function TreemapSeriesLabel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.padding = 10;\n        return _this;\n    }\n    __decorate([\n        Validate(NUMBER(0))\n    ], TreemapSeriesLabel.prototype, \"padding\", void 0);\n    return TreemapSeriesLabel;\n}(Label));\nvar TreemapValueLabel = /** @class */ (function () {\n    function TreemapValueLabel() {\n        this.style = (function () {\n            var label = new Label();\n            label.color = 'white';\n            return label;\n        })();\n    }\n    __decorate([\n        Validate(OPT_STRING)\n    ], TreemapValueLabel.prototype, \"key\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], TreemapValueLabel.prototype, \"name\", void 0);\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], TreemapValueLabel.prototype, \"formatter\", void 0);\n    return TreemapValueLabel;\n}());\nvar TextNodeTag;\n(function (TextNodeTag) {\n    TextNodeTag[TextNodeTag[\"Name\"] = 0] = \"Name\";\n    TextNodeTag[TextNodeTag[\"Value\"] = 1] = \"Value\";\n})(TextNodeTag || (TextNodeTag = {}));\nfunction getTextSize(text, style) {\n    return HdpiCanvas.getTextSize(text, [style.fontWeight, style.fontSize + \"px\", style.fontFamily].join(' '));\n}\nfunction validateColor(color) {\n    if (typeof color === 'string' && !Color.validColorString(color)) {\n        var fallbackColor = 'black';\n        Logger.warnOnce(\"invalid Treemap tile colour string \\\"\" + color + \"\\\". Affected treemap tiles will be coloured \" + fallbackColor + \".\");\n        return 'black';\n    }\n    return color;\n}\nvar TreemapTextHighlightStyle = /** @class */ (function () {\n    function TreemapTextHighlightStyle() {\n        this.color = 'black';\n    }\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], TreemapTextHighlightStyle.prototype, \"color\", void 0);\n    return TreemapTextHighlightStyle;\n}());\nvar TreemapHighlightStyle = /** @class */ (function (_super) {\n    __extends(TreemapHighlightStyle, _super);\n    function TreemapHighlightStyle() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.text = new TreemapTextHighlightStyle();\n        return _this;\n    }\n    return TreemapHighlightStyle;\n}(HighlightStyle));\nexport { TreemapHighlightStyle };\nvar TreemapSeries = /** @class */ (function (_super) {\n    __extends(TreemapSeries, _super);\n    function TreemapSeries() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.groupSelection = Selection.select(_this.contentGroup, Group);\n        _this.highlightSelection = Selection.select(_this.highlightGroup, Group);\n        _this.title = (function () {\n            var label = new TreemapSeriesLabel();\n            label.color = 'white';\n            label.fontWeight = 'bold';\n            label.fontSize = 12;\n            label.fontFamily = 'Verdana, sans-serif';\n            label.padding = 15;\n            return label;\n        })();\n        _this.subtitle = (function () {\n            var label = new TreemapSeriesLabel();\n            label.color = 'white';\n            label.fontSize = 9;\n            label.fontFamily = 'Verdana, sans-serif';\n            label.padding = 13;\n            return label;\n        })();\n        _this.labels = {\n            large: (function () {\n                var label = new Label();\n                label.color = 'white';\n                label.fontWeight = 'bold';\n                label.fontSize = 18;\n                return label;\n            })(),\n            medium: (function () {\n                var label = new Label();\n                label.color = 'white';\n                label.fontWeight = 'bold';\n                label.fontSize = 14;\n                return label;\n            })(),\n            small: (function () {\n                var label = new Label();\n                label.color = 'white';\n                label.fontWeight = 'bold';\n                label.fontSize = 10;\n                return label;\n            })(),\n            value: new TreemapValueLabel(),\n        };\n        _this.nodePadding = 2;\n        _this.labelKey = 'label';\n        _this.sizeKey = 'size';\n        _this.colorKey = 'color';\n        _this.colorDomain = [-5, 5];\n        _this.colorRange = ['#cb4b3f', '#6acb64'];\n        _this.groupFill = '#272931';\n        _this.groupStroke = 'black';\n        _this.groupStrokeWidth = 1;\n        _this.tileStroke = 'black';\n        _this.tileStrokeWidth = 1;\n        _this.gradient = true;\n        _this.formatter = undefined;\n        _this.colorName = 'Change';\n        _this.rootName = 'Root';\n        _this.highlightGroups = true;\n        _this.tileShadow = new DropShadow();\n        _this.labelShadow = new DropShadow();\n        _this.tooltip = new TreemapSeriesTooltip();\n        _this.highlightStyle = new TreemapHighlightStyle();\n        return _this;\n    }\n    TreemapSeries.prototype.getNodePaddingTop = function (nodeDatum, bbox) {\n        var _a = this, title = _a.title, subtitle = _a.subtitle, nodePadding = _a.nodePadding;\n        var label = nodeDatum.label;\n        if (nodeDatum.isLeaf || !label || nodeDatum.depth === 0) {\n            return nodePadding;\n        }\n        var font = nodeDatum.depth > 1 ? subtitle : title;\n        var textSize = getTextSize(label, font);\n        var heightRatioThreshold = 3;\n        if (font.fontSize > bbox.width / heightRatioThreshold || font.fontSize > bbox.height / heightRatioThreshold) {\n            return nodePadding;\n        }\n        if (textSize.height >= bbox.height) {\n            return nodePadding;\n        }\n        return textSize.height + nodePadding * 2;\n    };\n    TreemapSeries.prototype.getNodePadding = function (nodeDatum, bbox) {\n        var nodePadding = this.nodePadding;\n        var top = this.getNodePaddingTop(nodeDatum, bbox);\n        return {\n            top: top,\n            right: nodePadding,\n            bottom: nodePadding,\n            left: nodePadding,\n        };\n    };\n    /**\n     * Squarified Treemap algorithm\n     * https://www.win.tue.nl/~vanwijk/stm.pdf\n     */\n    TreemapSeries.prototype.squarify = function (nodeDatum, bbox, outputNodesBoxes) {\n        if (outputNodesBoxes === void 0) { outputNodesBoxes = new Map(); }\n        var targetTileAspectRatio = 1; // The width and height will tend to this ratio\n        var padding = this.getNodePadding(nodeDatum, bbox);\n        outputNodesBoxes.set(nodeDatum, bbox);\n        var width = bbox.width - padding.left - padding.right;\n        var height = bbox.height - padding.top - padding.bottom;\n        if (width <= 0 || height <= 0 || nodeDatum.value <= 0) {\n            return outputNodesBoxes;\n        }\n        var stackSum = 0;\n        var startIndex = 0;\n        var minRatioDiff = Infinity;\n        var partitionSum = nodeDatum.value;\n        var children = nodeDatum.children;\n        var partition = new BBox(bbox.x + padding.left, bbox.y + padding.top, width, height);\n        for (var i = 0; i < children.length; i++) {\n            var value = children[i].value;\n            var firstValue = children[startIndex].value;\n            var isVertical_1 = partition.width < partition.height;\n            stackSum += value;\n            var partThickness = isVertical_1 ? partition.height : partition.width;\n            var partLength = isVertical_1 ? partition.width : partition.height;\n            var firstTileLength = (partLength * firstValue) / stackSum;\n            var stackThickness = (partThickness * stackSum) / partitionSum;\n            var ratio = Math.max(firstTileLength, stackThickness) / Math.min(firstTileLength, stackThickness);\n            var diff = Math.abs(targetTileAspectRatio - ratio);\n            if (diff < minRatioDiff) {\n                minRatioDiff = diff;\n                continue;\n            }\n            // Go one step back and process the best match\n            stackSum -= value;\n            stackThickness = (partThickness * stackSum) / partitionSum;\n            var start_1 = isVertical_1 ? partition.x : partition.y;\n            for (var j = startIndex; j < i; j++) {\n                var child = children[j];\n                var x = isVertical_1 ? start_1 : partition.x;\n                var y = isVertical_1 ? partition.y : start_1;\n                var length_1 = (partLength * child.value) / stackSum;\n                var width_1 = isVertical_1 ? length_1 : stackThickness;\n                var height_1 = isVertical_1 ? stackThickness : length_1;\n                var childBox = new BBox(x, y, width_1, height_1);\n                this.squarify(child, childBox, outputNodesBoxes);\n                partitionSum -= child.value;\n                start_1 += length_1;\n            }\n            if (isVertical_1) {\n                partition.y += stackThickness;\n                partition.height -= stackThickness;\n            }\n            else {\n                partition.x += stackThickness;\n                partition.width -= stackThickness;\n            }\n            startIndex = i;\n            stackSum = 0;\n            minRatioDiff = Infinity;\n            i--;\n        }\n        // Process remaining space\n        var isVertical = partition.width < partition.height;\n        var start = isVertical ? partition.x : partition.y;\n        for (var i = startIndex; i < children.length; i++) {\n            var x = isVertical ? start : partition.x;\n            var y = isVertical ? partition.y : start;\n            var part = children[i].value / partitionSum;\n            var width_2 = partition.width * (isVertical ? part : 1);\n            var height_2 = partition.height * (isVertical ? 1 : part);\n            var childBox = new BBox(x, y, width_2, height_2);\n            this.squarify(children[i], childBox, outputNodesBoxes);\n            start += isVertical ? width_2 : height_2;\n        }\n        return outputNodesBoxes;\n    };\n    TreemapSeries.prototype.processData = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, data, sizeKey, labelKey, colorKey, colorDomain, colorRange, groupFill, colorScale, createTreeNodeDatum;\n            var _this = this;\n            return __generator(this, function (_b) {\n                if (!this.data) {\n                    return [2 /*return*/];\n                }\n                _a = this, data = _a.data, sizeKey = _a.sizeKey, labelKey = _a.labelKey, colorKey = _a.colorKey, colorDomain = _a.colorDomain, colorRange = _a.colorRange, groupFill = _a.groupFill;\n                colorScale = new ColorScale();\n                colorScale.domain = colorDomain;\n                colorScale.range = colorRange;\n                createTreeNodeDatum = function (datum, depth, parent) {\n                    var _a, _b;\n                    if (depth === void 0) { depth = 0; }\n                    var label = (labelKey && datum[labelKey]) || '';\n                    var colorScaleValue = colorKey ? (_a = datum[colorKey]) !== null && _a !== void 0 ? _a : depth : depth;\n                    colorScaleValue = validateColor(colorScaleValue);\n                    var isLeaf = !datum.children;\n                    var fill = typeof colorScaleValue === 'string'\n                        ? colorScaleValue\n                        : isLeaf || !groupFill\n                            ? colorScale.convert(colorScaleValue)\n                            : groupFill;\n                    var nodeDatum = {\n                        datum: datum,\n                        depth: depth,\n                        parent: parent,\n                        value: 0,\n                        label: label,\n                        fill: fill,\n                        series: _this,\n                        isLeaf: isLeaf,\n                        children: [],\n                    };\n                    if (isLeaf) {\n                        nodeDatum.value = sizeKey ? (_b = datum[sizeKey]) !== null && _b !== void 0 ? _b : 1 : 1;\n                    }\n                    else {\n                        datum.children.forEach(function (child) {\n                            var childNodeDatum = createTreeNodeDatum(child, depth + 1, nodeDatum);\n                            var value = childNodeDatum.value;\n                            if (isNaN(value) || !isFinite(value) || value === 0) {\n                                return;\n                            }\n                            nodeDatum.value += value;\n                            nodeDatum.children.push(childNodeDatum);\n                        });\n                        nodeDatum.children.sort(function (a, b) {\n                            return b.value - a.value;\n                        });\n                    }\n                    return nodeDatum;\n                };\n                this.dataRoot = createTreeNodeDatum(data);\n                return [2 /*return*/];\n            });\n        });\n    };\n    TreemapSeries.prototype.createNodeData = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, []];\n            });\n        });\n    };\n    TreemapSeries.prototype.update = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.updateSelections()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.updateNodes()];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    TreemapSeries.prototype.updateSelections = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, chart, dataRoot, seriesRect, descendants, traverse, _b, groupSelection, highlightSelection, update;\n            return __generator(this, function (_c) {\n                if (!this.nodeDataRefresh) {\n                    return [2 /*return*/];\n                }\n                this.nodeDataRefresh = false;\n                _a = this, chart = _a.chart, dataRoot = _a.dataRoot;\n                if (!chart || !dataRoot) {\n                    return [2 /*return*/];\n                }\n                seriesRect = chart.getSeriesRect();\n                if (!seriesRect) {\n                    return [2 /*return*/];\n                }\n                descendants = [];\n                traverse = function (datum) {\n                    var _a;\n                    descendants.push(datum);\n                    (_a = datum.children) === null || _a === void 0 ? void 0 : _a.forEach(traverse);\n                };\n                traverse(this.dataRoot);\n                _b = this, groupSelection = _b.groupSelection, highlightSelection = _b.highlightSelection;\n                update = function (selection) {\n                    return selection.update(descendants, function (group) {\n                        var rect = new Rect();\n                        var nameLabel = new Text();\n                        nameLabel.tag = TextNodeTag.Name;\n                        var valueLabel = new Text();\n                        valueLabel.tag = TextNodeTag.Value;\n                        group.append([rect, nameLabel, valueLabel]);\n                    });\n                };\n                this.groupSelection = update(groupSelection);\n                this.highlightSelection = update(highlightSelection);\n                return [2 /*return*/];\n            });\n        });\n    };\n    TreemapSeries.prototype.isDatumHighlighted = function (datum) {\n        var _a;\n        var highlightedDatum = (_a = this.highlightManager) === null || _a === void 0 ? void 0 : _a.getActiveHighlight();\n        return datum === highlightedDatum && (datum.isLeaf || this.highlightGroups);\n    };\n    TreemapSeries.prototype.getTileFormat = function (datum, isHighlighted) {\n        var _a;\n        var formatter = this.formatter;\n        if (!formatter) {\n            return {};\n        }\n        var _b = this, gradient = _b.gradient, colorKey = _b.colorKey, labelKey = _b.labelKey, sizeKey = _b.sizeKey, tileStroke = _b.tileStroke, tileStrokeWidth = _b.tileStrokeWidth, groupStroke = _b.groupStroke, groupStrokeWidth = _b.groupStrokeWidth;\n        var stroke = datum.isLeaf ? tileStroke : groupStroke;\n        var strokeWidth = datum.isLeaf ? tileStrokeWidth : groupStrokeWidth;\n        return formatter({\n            seriesId: this.id,\n            datum: datum.datum,\n            depth: datum.depth,\n            parent: (_a = datum.parent) === null || _a === void 0 ? void 0 : _a.datum,\n            colorKey: colorKey,\n            sizeKey: sizeKey,\n            labelKey: labelKey,\n            fill: datum.fill,\n            stroke: stroke,\n            strokeWidth: strokeWidth,\n            gradient: gradient,\n            highlighted: isHighlighted,\n        });\n    };\n    TreemapSeries.prototype.updateNodes = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, gradient, _b, _c, highlightedFill, highlightedFillOpacity, highlightedStroke, highlightedDatumStrokeWidth, highlightedTextColor, tileStroke, tileStrokeWidth, groupStroke, groupStrokeWidth, tileShadow, labelShadow, seriesRect, boxes, labelMeta, updateRectFn, updateLabelFn;\n            var _this = this;\n            return __generator(this, function (_d) {\n                if (!this.chart) {\n                    return [2 /*return*/];\n                }\n                _a = this, gradient = _a.gradient, _b = _a.highlightStyle, _c = _b.item, highlightedFill = _c.fill, highlightedFillOpacity = _c.fillOpacity, highlightedStroke = _c.stroke, highlightedDatumStrokeWidth = _c.strokeWidth, highlightedTextColor = _b.text.color, tileStroke = _a.tileStroke, tileStrokeWidth = _a.tileStrokeWidth, groupStroke = _a.groupStroke, groupStrokeWidth = _a.groupStrokeWidth, tileShadow = _a.tileShadow, labelShadow = _a.labelShadow;\n                seriesRect = this.chart.getSeriesRect();\n                boxes = this.squarify(this.dataRoot, new BBox(0, 0, seriesRect.width, seriesRect.height));\n                labelMeta = this.buildLabelMeta(boxes);\n                this.updateNodeMidPoint(boxes);\n                updateRectFn = function (rect, datum, isDatumHighlighted) {\n                    var _a, _b, _c, _d, _e, _f;\n                    var box = boxes.get(datum);\n                    if (!box) {\n                        rect.visible = false;\n                        return;\n                    }\n                    var fill = isDatumHighlighted && highlightedFill !== undefined ? highlightedFill : datum.fill;\n                    var fillOpacity = (_a = (isDatumHighlighted ? highlightedFillOpacity : 1)) !== null && _a !== void 0 ? _a : 1;\n                    var stroke = isDatumHighlighted && highlightedStroke !== undefined\n                        ? highlightedStroke\n                        : datum.isLeaf\n                            ? tileStroke\n                            : groupStroke;\n                    var strokeWidth = isDatumHighlighted && highlightedDatumStrokeWidth !== undefined\n                        ? highlightedDatumStrokeWidth\n                        : datum.isLeaf\n                            ? tileStrokeWidth\n                            : groupStrokeWidth;\n                    var format = _this.getTileFormat(datum, isDatumHighlighted);\n                    var fillColor = validateColor((_b = format === null || format === void 0 ? void 0 : format.fill) !== null && _b !== void 0 ? _b : fill);\n                    if ((_c = format === null || format === void 0 ? void 0 : format.gradient) !== null && _c !== void 0 ? _c : gradient) {\n                        var start = Color.tryParseFromString(fill).brighter().toString();\n                        var end = Color.tryParseFromString(fill).darker().toString();\n                        rect.fill = \"linear-gradient(180deg, \" + start + \", \" + end + \")\";\n                    }\n                    else {\n                        rect.fill = fillColor;\n                    }\n                    rect.fillOpacity = (_d = format === null || format === void 0 ? void 0 : format.fillOpacity) !== null && _d !== void 0 ? _d : fillOpacity;\n                    rect.stroke = validateColor((_e = format === null || format === void 0 ? void 0 : format.stroke) !== null && _e !== void 0 ? _e : stroke);\n                    rect.strokeWidth = (_f = format === null || format === void 0 ? void 0 : format.strokeWidth) !== null && _f !== void 0 ? _f : strokeWidth;\n                    rect.fillShadow = tileShadow;\n                    rect.crisp = true;\n                    rect.x = box.x;\n                    rect.y = box.y;\n                    rect.width = box.width;\n                    rect.height = box.height;\n                    rect.visible = true;\n                    if (isDatumHighlighted && !datum.isLeaf) {\n                        var padding = _this.getNodePadding(datum, box);\n                        var x0 = box.x + padding.left;\n                        var x1 = box.x + box.width - padding.right;\n                        var y0 = box.y + padding.top;\n                        var y1 = box.y + box.height - padding.bottom;\n                        if (rect.clipPath) {\n                            rect.clipPath.clear();\n                        }\n                        else {\n                            rect.clipPath = new Path2D();\n                        }\n                        rect.clipMode = 'punch-out';\n                        rect.clipPath.moveTo(x0, y0);\n                        rect.clipPath.lineTo(x1, y0);\n                        rect.clipPath.lineTo(x1, y1);\n                        rect.clipPath.lineTo(x0, y1);\n                        rect.clipPath.lineTo(x0, y0);\n                        rect.clipPath.closePath();\n                    }\n                };\n                this.groupSelection.selectByClass(Rect).forEach(function (rect) { return updateRectFn(rect, rect.datum, false); });\n                this.highlightSelection.selectByClass(Rect).forEach(function (rect) {\n                    var isDatumHighlighted = _this.isDatumHighlighted(rect.datum);\n                    rect.visible = isDatumHighlighted;\n                    if (rect.visible) {\n                        updateRectFn(rect, rect.datum, isDatumHighlighted);\n                    }\n                });\n                updateLabelFn = function (text, datum, highlighted, key) {\n                    var meta = labelMeta.get(datum);\n                    var label = meta === null || meta === void 0 ? void 0 : meta[key];\n                    if (!label) {\n                        text.visible = false;\n                        return;\n                    }\n                    text.text = label.text;\n                    text.fontFamily = label.style.fontFamily;\n                    text.fontSize = label.style.fontSize;\n                    text.fontWeight = label.style.fontWeight;\n                    text.fill = highlighted ? highlightedTextColor !== null && highlightedTextColor !== void 0 ? highlightedTextColor : label.style.color : label.style.color;\n                    text.fillShadow = highlighted ? undefined : labelShadow;\n                    text.textAlign = label.hAlign;\n                    text.textBaseline = label.vAlign;\n                    text.x = label.x;\n                    text.y = label.y;\n                    text.visible = true;\n                };\n                this.groupSelection\n                    .selectByTag(TextNodeTag.Name)\n                    .forEach(function (text) { return updateLabelFn(text, text.datum, false, 'label'); });\n                this.highlightSelection.selectByTag(TextNodeTag.Name).forEach(function (text) {\n                    var isDatumHighlighted = _this.isDatumHighlighted(text.datum);\n                    text.visible = isDatumHighlighted;\n                    if (text.visible) {\n                        updateLabelFn(text, text.datum, isDatumHighlighted, 'label');\n                    }\n                });\n                this.groupSelection\n                    .selectByTag(TextNodeTag.Value)\n                    .forEach(function (text) { return updateLabelFn(text, text.datum, false, 'value'); });\n                this.highlightSelection.selectByTag(TextNodeTag.Value).forEach(function (text) {\n                    var isDatumHighlighted = _this.isDatumHighlighted(text.datum);\n                    text.visible = isDatumHighlighted;\n                    if (text.visible) {\n                        updateLabelFn(text, text.datum, isDatumHighlighted, 'value');\n                    }\n                });\n                return [2 /*return*/];\n            });\n        });\n    };\n    TreemapSeries.prototype.updateNodeMidPoint = function (boxes) {\n        boxes.forEach(function (box, treeNodeDatum) {\n            treeNodeDatum.nodeMidPoint = {\n                x: box.x + box.width / 2,\n                y: box.y,\n            };\n        });\n    };\n    TreemapSeries.prototype.buildLabelMeta = function (boxes) {\n        var _a = this, labels = _a.labels, title = _a.title, subtitle = _a.subtitle, nodePadding = _a.nodePadding, labelKey = _a.labelKey;\n        var labelMeta = new Map();\n        boxes.forEach(function (box, datum) {\n            if (!labelKey || datum.depth === 0) {\n                return;\n            }\n            var labelText = datum.isLeaf ? datum.label : datum.label.toUpperCase();\n            var labelStyle;\n            if (datum.isLeaf) {\n                // Choose the font size that fits\n                labelStyle =\n                    [labels.large, labels.medium, labels.small].find(function (s) {\n                        var _a = getTextSize(labelText, s), width = _a.width, height = _a.height;\n                        return width < box.width && height < box.height;\n                    }) || labels.small;\n            }\n            else if (datum.depth === 1) {\n                labelStyle = title;\n            }\n            else {\n                labelStyle = subtitle;\n            }\n            var labelSize = getTextSize(labelText, labelStyle);\n            var availTextWidth = box.width - 2 * nodePadding;\n            var availTextHeight = box.height - 2 * nodePadding;\n            var minSizeRatio = 3;\n            if (labelStyle.fontSize > box.width / minSizeRatio || labelStyle.fontSize > box.height / minSizeRatio) {\n                // Avoid labels on too small tiles\n                return;\n            }\n            // Crop text if not enough space\n            if (labelSize.width > availTextWidth) {\n                var textLength = Math.floor((labelText.length * availTextWidth) / labelSize.width) - 1;\n                labelText = labelText.substring(0, textLength) + \"\\u2026\";\n            }\n            var valueConfig = labels.value;\n            var valueStyle = valueConfig.style;\n            var valueMargin = (labelStyle.fontSize + valueStyle.fontSize) / 8;\n            var valueText = String(datum.isLeaf\n                ? valueConfig.formatter\n                    ? valueConfig.formatter({ datum: datum.datum })\n                    : valueConfig.key\n                        ? datum.datum[valueConfig.key]\n                        : ''\n                : '');\n            var valueSize = getTextSize(valueText, valueStyle);\n            var hasValueText = valueText &&\n                valueSize.width < availTextWidth &&\n                valueSize.height + labelSize.height + valueMargin < availTextHeight;\n            labelMeta.set(datum, {\n                label: __assign({ text: labelText, style: labelStyle }, (datum.isLeaf\n                    ? {\n                        hAlign: 'center',\n                        vAlign: 'middle',\n                        x: box.x + box.width / 2,\n                        y: box.y + box.height / 2 - (hasValueText ? valueSize.height / 2 + valueMargin / 2 : 0),\n                    }\n                    : {\n                        hAlign: 'left',\n                        vAlign: 'top',\n                        x: box.x + nodePadding,\n                        y: box.y + nodePadding,\n                    })),\n                value: hasValueText\n                    ? {\n                        text: valueText,\n                        style: valueStyle,\n                        hAlign: 'center',\n                        vAlign: 'middle',\n                        x: box.x + box.width / 2,\n                        y: box.y + box.height / 2 + labelSize.height / 2 + valueMargin / 2,\n                    }\n                    : undefined,\n            });\n        });\n        return labelMeta;\n    };\n    TreemapSeries.prototype.getDomain = function (_direction) {\n        return [0, 1];\n    };\n    TreemapSeries.prototype.getNodeClickEvent = function (event, datum) {\n        return new TreemapSeriesNodeClickEvent(this.labelKey, this.sizeKey, this.colorKey, event, datum, this);\n    };\n    TreemapSeries.prototype.getNodeDoubleClickEvent = function (event, datum) {\n        return new TreemapSeriesNodeDoubleClickEvent(this.labelKey, this.sizeKey, this.colorKey, event, datum, this);\n    };\n    TreemapSeries.prototype.getTooltipHtml = function (nodeDatum) {\n        var _a;\n        if (!this.highlightGroups && !nodeDatum.isLeaf) {\n            return '';\n        }\n        var _b = this, tooltip = _b.tooltip, sizeKey = _b.sizeKey, labelKey = _b.labelKey, colorKey = _b.colorKey, rootName = _b.rootName, seriesId = _b.id, labels = _b.labels;\n        var datum = nodeDatum.datum;\n        var tooltipRenderer = tooltip.renderer;\n        var title = nodeDatum.depth ? datum[labelKey] : rootName || datum[labelKey];\n        var content = '';\n        var format = this.getTileFormat(nodeDatum, false);\n        var color = (format === null || format === void 0 ? void 0 : format.fill) || nodeDatum.fill || 'gray';\n        var valueKey = labels.value.key;\n        var valueFormatter = labels.value.formatter;\n        if (valueKey || valueFormatter) {\n            var valueText = '';\n            if (valueFormatter) {\n                valueText = valueFormatter({ datum: datum });\n            }\n            else {\n                var value = datum[valueKey];\n                if (typeof value === 'number' && isFinite(value)) {\n                    valueText = toFixed(value);\n                }\n            }\n            if (valueText) {\n                if (labels.value.name) {\n                    content += \"<b>\" + labels.value.name + \":</b> \";\n                }\n                content += valueText;\n            }\n        }\n        var defaults = {\n            title: title,\n            backgroundColor: color,\n            content: content,\n        };\n        if (tooltipRenderer) {\n            return toTooltipHtml(tooltipRenderer({\n                datum: nodeDatum.datum,\n                parent: (_a = nodeDatum.parent) === null || _a === void 0 ? void 0 : _a.datum,\n                depth: nodeDatum.depth,\n                sizeKey: sizeKey,\n                labelKey: labelKey,\n                colorKey: colorKey,\n                title: title,\n                color: color,\n                seriesId: seriesId,\n            }), defaults);\n        }\n        if (!title && !content) {\n            return '';\n        }\n        return toTooltipHtml(defaults);\n    };\n    TreemapSeries.prototype.getLegendData = function () {\n        // Override point for subclasses.\n        return [];\n    };\n    TreemapSeries.className = 'TreemapSeries';\n    TreemapSeries.type = 'treemap';\n    __decorate([\n        Validate(NUMBER(0))\n    ], TreemapSeries.prototype, \"nodePadding\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], TreemapSeries.prototype, \"labelKey\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], TreemapSeries.prototype, \"sizeKey\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], TreemapSeries.prototype, \"colorKey\", void 0);\n    __decorate([\n        Validate(NUMBER_ARRAY)\n    ], TreemapSeries.prototype, \"colorDomain\", void 0);\n    __decorate([\n        Validate(COLOR_STRING_ARRAY)\n    ], TreemapSeries.prototype, \"colorRange\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], TreemapSeries.prototype, \"groupFill\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], TreemapSeries.prototype, \"groupStroke\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0))\n    ], TreemapSeries.prototype, \"groupStrokeWidth\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], TreemapSeries.prototype, \"tileStroke\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0))\n    ], TreemapSeries.prototype, \"tileStrokeWidth\", void 0);\n    __decorate([\n        Validate(BOOLEAN)\n    ], TreemapSeries.prototype, \"gradient\", void 0);\n    __decorate([\n        Validate(OPT_FUNCTION)\n    ], TreemapSeries.prototype, \"formatter\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], TreemapSeries.prototype, \"colorName\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], TreemapSeries.prototype, \"rootName\", void 0);\n    __decorate([\n        Validate(OPT_BOOLEAN)\n    ], TreemapSeries.prototype, \"highlightGroups\", void 0);\n    return TreemapSeries;\n}(HierarchySeries));\nexport { TreemapSeries };\n", "var types = {\n    area: 'cartesian',\n    bar: 'cartesian',\n    column: 'cartesian',\n    histogram: 'cartesian',\n    line: 'cartesian',\n    scatter: 'cartesian',\n    treemap: 'hierarchy',\n    pie: 'polar',\n};\nexport var CHART_TYPES = {\n    add: function (seriesType, chartType) {\n        types[seriesType] = chartType;\n    },\n    delete: function (seriesType) {\n        delete types[seriesType];\n    },\n    has: function (seriesType) {\n        return Object.prototype.hasOwnProperty.call(types, seriesType);\n    },\n    isCartesian: function (seriesType) {\n        return types[seriesType] === 'cartesian';\n    },\n    isPolar: function (seriesType) {\n        return types[seriesType] === 'polar';\n    },\n    isHierarchy: function (seriesType) {\n        return types[seriesType] === 'hierarchy';\n    },\n    get seriesTypes() {\n        return Object.keys(types);\n    },\n    get cartesianTypes() {\n        var _this = this;\n        return this.seriesTypes.filter(function (t) { return _this.isCartesian(t); });\n    },\n    get polarTypes() {\n        var _this = this;\n        return this.seriesTypes.filter(function (t) { return _this.isPolar(t); });\n    },\n    get hierarchyTypes() {\n        var _this = this;\n        return this.seriesTypes.filter(function (t) { return _this.isHierarchy(t); });\n    },\n};\n", "export function deepMerge(target, source) {\n    if (isPlainObject(target) && isPlainObject(source)) {\n        var result_1 = {};\n        Object.keys(target).forEach(function (key) {\n            if (key in source) {\n                result_1[key] = deepMerge(target[key], source[key]);\n            }\n            else {\n                result_1[key] = target[key];\n            }\n        });\n        Object.keys(source).forEach(function (key) {\n            if (!(key in target)) {\n                result_1[key] = source[key];\n            }\n        });\n        return result_1;\n    }\n    if ((Array.isArray(target) && !Array.isArray(source)) || (isObject(target) && !isObject(source))) {\n        return target;\n    }\n    return source;\n}\nfunction isObject(value) {\n    return value && typeof value === 'object';\n}\nfunction isPlainObject(x) {\n    return isObject(x) && x.constructor === Object;\n}\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { deepMerge } from '../../util/object';\nimport { CHART_TYPES } from '../chartTypes';\nvar palette = {\n    fills: ['#f3622d', '#fba71b', '#57b757', '#41a9c9', '#4258c9', '#9a42c8', '#c84164', '#888888'],\n    strokes: ['#aa4520', '#b07513', '#3d803d', '#2d768d', '#2e3e8d', '#6c2e8c', '#8c2d46', '#5f5f5f'],\n};\nvar BOLD = 'bold';\nvar INSIDE = 'inside';\nvar RIGHT = 'right';\nvar ChartTheme = /** @class */ (function () {\n    function ChartTheme(options) {\n        options = deepMerge({}, options || {});\n        var _a = options.overrides, overrides = _a === void 0 ? null : _a, _b = options.palette, palette = _b === void 0 ? null : _b;\n        var defaults = this.createChartConfigPerChartType(this.getDefaults());\n        if (overrides) {\n            var common = overrides.common, cartesian = overrides.cartesian, polar = overrides.polar, hierarchy = overrides.hierarchy;\n            var applyOverrides = function (type, seriesTypes, overrideOpts) {\n                if (overrideOpts) {\n                    defaults[type] = deepMerge(defaults[type], overrideOpts);\n                    seriesTypes.forEach(function (s) {\n                        var seriesType = s;\n                        defaults[seriesType] = deepMerge(defaults[seriesType], overrideOpts);\n                    });\n                }\n            };\n            applyOverrides('common', Object.keys(defaults), common);\n            applyOverrides('cartesian', CHART_TYPES.cartesianTypes, cartesian);\n            applyOverrides('polar', CHART_TYPES.polarTypes, polar);\n            applyOverrides('hierarchy', CHART_TYPES.hierarchyTypes, hierarchy);\n            CHART_TYPES.seriesTypes.forEach(function (s) {\n                var _a;\n                var seriesType = s;\n                var chartConfig = overrides[seriesType];\n                if (chartConfig) {\n                    if (chartConfig.series) {\n                        chartConfig.series = (_a = {}, _a[seriesType] = chartConfig.series, _a);\n                    }\n                    defaults[seriesType] = deepMerge(defaults[seriesType], chartConfig);\n                }\n            });\n        }\n        this.palette = palette !== null && palette !== void 0 ? palette : this.getPalette();\n        this.config = Object.freeze(defaults);\n    }\n    ChartTheme.prototype.getPalette = function () {\n        return palette;\n    };\n    ChartTheme.getAxisDefaults = function () {\n        return {\n            top: {},\n            right: {},\n            bottom: {},\n            left: {},\n            thickness: 0,\n            title: {\n                enabled: false,\n                text: 'Axis Title',\n                fontStyle: undefined,\n                fontWeight: BOLD,\n                fontSize: 12,\n                fontFamily: this.fontFamily,\n                color: 'rgb(70, 70, 70)',\n            },\n            label: {\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: this.fontFamily,\n                padding: 5,\n                rotation: undefined,\n                color: 'rgb(87, 87, 87)',\n                formatter: undefined,\n                autoRotate: false,\n                avoidCollisions: true,\n            },\n            line: {\n                width: 1,\n                color: 'rgb(195, 195, 195)',\n            },\n            tick: {\n                width: 1,\n                size: 6,\n                color: 'rgb(195, 195, 195)',\n            },\n            gridStyle: [\n                {\n                    stroke: 'rgb(219, 219, 219)',\n                    lineDash: [4, 2],\n                },\n            ],\n            crossLines: {\n                enabled: false,\n                fill: 'rgb(187,221,232)',\n                stroke: 'rgb(70,162,192)',\n                strokeWidth: 1,\n                label: {\n                    enabled: false,\n                    fontStyle: undefined,\n                    fontWeight: undefined,\n                    fontSize: 12,\n                    fontFamily: this.fontFamily,\n                    padding: 5,\n                    color: 'rgb(87, 87, 87)',\n                    rotation: undefined,\n                },\n            },\n        };\n    };\n    ChartTheme.getSeriesDefaults = function () {\n        return {\n            tooltip: {\n                enabled: true,\n                renderer: undefined,\n            },\n            visible: true,\n            showInLegend: true,\n            highlightStyle: {\n                item: {\n                    fill: 'yellow',\n                    fillOpacity: 1,\n                },\n                series: {\n                    dimOpacity: 1,\n                },\n                text: {\n                    color: 'black',\n                },\n            },\n            nodeClickRange: 'exact',\n        };\n    };\n    ChartTheme.getBarSeriesDefaults = function () {\n        return __assign(__assign({}, this.getSeriesDefaults()), { flipXY: false, fillOpacity: 1, strokeOpacity: 1, xKey: '', xName: '', normalizedTo: undefined, strokeWidth: 1, lineDash: [0], lineDashOffset: 0, label: {\n                enabled: false,\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: this.fontFamily,\n                color: 'rgb(70, 70, 70)',\n                formatter: undefined,\n                placement: INSIDE,\n            }, shadow: {\n                enabled: false,\n                color: 'rgba(0, 0, 0, 0.5)',\n                xOffset: 3,\n                yOffset: 3,\n                blur: 5,\n            } });\n    };\n    ChartTheme.getLineSeriesDefaults = function () {\n        var seriesDefaults = this.getSeriesDefaults();\n        return __assign(__assign({}, seriesDefaults), { tooltip: __assign(__assign({}, seriesDefaults.tooltip), { format: undefined, position: {\n                    type: 'node',\n                } }) });\n    };\n    ChartTheme.getAreaSeriesDefaults = function () {\n        var seriesDefaults = this.getSeriesDefaults();\n        return __assign(__assign({}, seriesDefaults), { nodeClickRange: 'nearest', tooltip: __assign(__assign({}, seriesDefaults.tooltip), { position: {\n                    type: 'node',\n                } }) });\n    };\n    ChartTheme.getScatterSeriesDefaults = function () {\n        var seriesDefaults = this.getSeriesDefaults();\n        return __assign(__assign({}, seriesDefaults), { tooltip: __assign(__assign({}, seriesDefaults.tooltip), { position: {\n                    type: 'node',\n                } }) });\n    };\n    ChartTheme.getCartesianSeriesMarkerDefaults = function () {\n        return {\n            enabled: true,\n            shape: 'circle',\n            size: 6,\n            maxSize: 30,\n            strokeWidth: 1,\n            formatter: undefined,\n        };\n    };\n    ChartTheme.getChartDefaults = function () {\n        return {\n            background: {\n                visible: true,\n                fill: 'white',\n            },\n            padding: {\n                top: 20,\n                right: 20,\n                bottom: 20,\n                left: 20,\n            },\n            title: {\n                enabled: false,\n                text: 'Title',\n                fontStyle: undefined,\n                fontWeight: BOLD,\n                fontSize: 16,\n                fontFamily: this.fontFamily,\n                color: 'rgb(70, 70, 70)',\n            },\n            subtitle: {\n                enabled: false,\n                text: 'Subtitle',\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: this.fontFamily,\n                color: 'rgb(140, 140, 140)',\n            },\n            footnote: {\n                enabled: false,\n                text: 'Footnote',\n                fontStyle: undefined,\n                fontWeight: undefined,\n                fontSize: 12,\n                fontFamily: this.fontFamily,\n                color: 'rgb(140, 140, 140)',\n                spacing: 30,\n            },\n            legend: {\n                enabled: true,\n                position: RIGHT,\n                spacing: 20,\n                listeners: {},\n                item: {\n                    paddingX: 16,\n                    paddingY: 8,\n                    marker: {\n                        shape: undefined,\n                        size: 15,\n                        strokeWidth: 1,\n                        padding: 8,\n                    },\n                    label: {\n                        color: 'black',\n                        fontStyle: undefined,\n                        fontWeight: undefined,\n                        fontSize: 12,\n                        fontFamily: this.fontFamily,\n                        formatter: undefined,\n                    },\n                },\n                reverseOrder: false,\n                pagination: {\n                    marker: {\n                        size: 12,\n                    },\n                    activeStyle: {\n                        fill: 'rgb(70, 70, 70)',\n                    },\n                    inactiveStyle: {\n                        fill: 'rgb(219, 219, 219)',\n                    },\n                    highlightStyle: {\n                        fill: 'rgb(70, 70, 70)',\n                    },\n                    label: {\n                        color: 'rgb(70, 70, 70)',\n                    },\n                },\n            },\n            tooltip: {\n                enabled: true,\n                range: 'nearest',\n                delay: 0,\n            },\n            listeners: {},\n        };\n    };\n    ChartTheme.prototype.createChartConfigPerChartType = function (config) {\n        var typeToAliases = {\n            cartesian: CHART_TYPES.cartesianTypes,\n            polar: CHART_TYPES.polarTypes,\n            hierarchy: CHART_TYPES.hierarchyTypes,\n            groupedCategory: [],\n        };\n        Object.entries(typeToAliases).forEach(function (_a) {\n            var _b = __read(_a, 2), type = _b[0], aliases = _b[1];\n            aliases.forEach(function (alias) {\n                if (!config[alias]) {\n                    config[alias] = deepMerge({}, config[type]);\n                }\n            });\n        });\n        return config;\n    };\n    /**\n     * Meant to be overridden in subclasses. For example:\n     * ```\n     *     getDefaults() {\n     *         const subclassDefaults = { ... };\n     *         return this.mergeWithParentDefaults(subclassDefaults);\n     *     }\n     * ```\n     */\n    ChartTheme.prototype.getDefaults = function () {\n        var defaults = deepMerge({}, ChartTheme.defaults);\n        var getOverridesByType = function (seriesTypes) {\n            var result = {};\n            result.series = seriesTypes.reduce(function (obj, seriesType) {\n                if (Object.prototype.hasOwnProperty.call(ChartTheme.seriesThemeOverrides, seriesType)) {\n                    obj[seriesType] = ChartTheme.seriesThemeOverrides[seriesType]({\n                        seriesDefaults: ChartTheme.getSeriesDefaults(),\n                        defaultFontFamily: ChartTheme.fontFamily,\n                    });\n                }\n                return obj;\n            }, {});\n            return result;\n        };\n        var extension = {\n            cartesian: getOverridesByType(CHART_TYPES.cartesianTypes),\n            groupedCategory: getOverridesByType(CHART_TYPES.cartesianTypes),\n            polar: getOverridesByType(CHART_TYPES.polarTypes),\n            hierarchy: getOverridesByType(CHART_TYPES.hierarchyTypes),\n        };\n        return deepMerge(defaults, extension);\n    };\n    ChartTheme.prototype.mergeWithParentDefaults = function (parentDefaults, defaults) {\n        return deepMerge(parentDefaults, defaults);\n    };\n    ChartTheme.fontFamily = 'Verdana, sans-serif';\n    ChartTheme.seriesThemeOverrides = {};\n    ChartTheme.cartesianDefaults = __assign(__assign({}, ChartTheme.getChartDefaults()), { axes: {\n            number: __assign({}, ChartTheme.getAxisDefaults()),\n            log: __assign(__assign({}, ChartTheme.getAxisDefaults()), { base: 10 }),\n            category: __assign(__assign({}, ChartTheme.getAxisDefaults()), { groupPaddingInner: 0.1, label: __assign(__assign({}, ChartTheme.getAxisDefaults().label), { autoRotate: true }) }),\n            groupedCategory: __assign({}, ChartTheme.getAxisDefaults()),\n            time: __assign({}, ChartTheme.getAxisDefaults()),\n        }, series: {\n            column: __assign(__assign({}, ChartTheme.getBarSeriesDefaults()), { flipXY: false }),\n            bar: __assign(__assign({}, ChartTheme.getBarSeriesDefaults()), { flipXY: true }),\n            line: __assign(__assign({}, ChartTheme.getLineSeriesDefaults()), { title: undefined, xKey: '', xName: '', yKey: '', yName: '', strokeWidth: 2, strokeOpacity: 1, lineDash: [0], lineDashOffset: 0, marker: __assign(__assign({}, ChartTheme.getCartesianSeriesMarkerDefaults()), { fillOpacity: 1, strokeOpacity: 1 }), label: {\n                    enabled: false,\n                    fontStyle: undefined,\n                    fontWeight: undefined,\n                    fontSize: 12,\n                    fontFamily: ChartTheme.fontFamily,\n                    color: 'rgb(70, 70, 70)',\n                    formatter: undefined,\n                } }),\n            scatter: __assign(__assign({}, ChartTheme.getScatterSeriesDefaults()), { title: undefined, xKey: '', yKey: '', sizeKey: undefined, labelKey: undefined, xName: '', yName: '', sizeName: 'Size', labelName: 'Label', marker: __assign({}, ChartTheme.getCartesianSeriesMarkerDefaults()), label: {\n                    enabled: false,\n                    fontStyle: undefined,\n                    fontWeight: undefined,\n                    fontSize: 12,\n                    fontFamily: ChartTheme.fontFamily,\n                    color: 'rgb(70, 70, 70)',\n                } }),\n            area: __assign(__assign({}, ChartTheme.getAreaSeriesDefaults()), { xKey: '', xName: '', normalizedTo: undefined, fillOpacity: 0.8, strokeOpacity: 1, strokeWidth: 2, lineDash: [0], lineDashOffset: 0, shadow: {\n                    enabled: false,\n                    color: 'rgba(0, 0, 0, 0.5)',\n                    xOffset: 3,\n                    yOffset: 3,\n                    blur: 5,\n                }, marker: __assign(__assign({}, ChartTheme.getCartesianSeriesMarkerDefaults()), { fillOpacity: 1, strokeOpacity: 1, enabled: false }), label: {\n                    enabled: false,\n                    fontStyle: undefined,\n                    fontWeight: undefined,\n                    fontSize: 12,\n                    fontFamily: ChartTheme.fontFamily,\n                    color: 'rgb(70, 70, 70)',\n                    formatter: undefined,\n                } }),\n            histogram: __assign(__assign({}, ChartTheme.getSeriesDefaults()), { xKey: '', yKey: '', xName: '', yName: '', strokeWidth: 1, fillOpacity: 1, strokeOpacity: 1, lineDash: [0], lineDashOffset: 0, areaPlot: false, bins: undefined, aggregation: 'sum', label: {\n                    enabled: false,\n                    fontStyle: undefined,\n                    fontWeight: undefined,\n                    fontSize: 12,\n                    fontFamily: ChartTheme.fontFamily,\n                    color: 'rgb(70, 70, 70)',\n                    formatter: undefined,\n                }, shadow: {\n                    enabled: true,\n                    color: 'rgba(0, 0, 0, 0.5)',\n                    xOffset: 0,\n                    yOffset: 0,\n                    blur: 5,\n                } }),\n        }, navigator: {\n            enabled: false,\n            height: 30,\n            mask: {\n                fill: '#999999',\n                stroke: '#999999',\n                strokeWidth: 1,\n                fillOpacity: 0.2,\n            },\n            minHandle: {\n                fill: '#f2f2f2',\n                stroke: '#999999',\n                strokeWidth: 1,\n                width: 8,\n                height: 16,\n                gripLineGap: 2,\n                gripLineLength: 8,\n            },\n            maxHandle: {\n                fill: '#f2f2f2',\n                stroke: '#999999',\n                strokeWidth: 1,\n                width: 8,\n                height: 16,\n                gripLineGap: 2,\n                gripLineLength: 8,\n            },\n        } });\n    ChartTheme.polarDefaults = __assign(__assign({}, ChartTheme.getChartDefaults()), { series: {\n            pie: __assign(__assign({}, ChartTheme.getSeriesDefaults()), { title: {\n                    enabled: true,\n                    text: '',\n                    fontStyle: undefined,\n                    fontWeight: 'bold',\n                    fontSize: 14,\n                    fontFamily: ChartTheme.fontFamily,\n                    color: 'rgb(70, 70, 70)',\n                }, angleKey: '', angleName: '', radiusKey: undefined, radiusName: undefined, calloutLabelKey: undefined, calloutLabelName: undefined, sectorLabelKey: undefined, sectorLabelName: undefined, calloutLabel: {\n                    enabled: true,\n                    fontStyle: undefined,\n                    fontWeight: undefined,\n                    fontSize: 12,\n                    fontFamily: ChartTheme.fontFamily,\n                    color: 'rgb(70, 70, 70)',\n                    offset: 3,\n                    minAngle: 0,\n                }, sectorLabel: {\n                    enabled: true,\n                    fontStyle: undefined,\n                    fontWeight: undefined,\n                    fontSize: 12,\n                    fontFamily: ChartTheme.fontFamily,\n                    color: 'rgb(70, 70, 70)',\n                    positionOffset: 0,\n                    positionRatio: 0.5,\n                }, calloutLine: {\n                    length: 10,\n                    strokeWidth: 2,\n                }, fillOpacity: 1, strokeOpacity: 1, strokeWidth: 1, lineDash: [0], lineDashOffset: 0, rotation: 0, outerRadiusOffset: 0, innerRadiusOffset: 0, shadow: {\n                    enabled: false,\n                    color: 'rgba(0, 0, 0, 0.5)',\n                    xOffset: 3,\n                    yOffset: 3,\n                    blur: 5,\n                }, innerLabels: {\n                    fontStyle: undefined,\n                    fontWeight: undefined,\n                    fontSize: 12,\n                    fontFamily: ChartTheme.fontFamily,\n                    color: 'rgb(70, 70, 70)',\n                    margin: 2,\n                } }),\n        } });\n    ChartTheme.hierarchyDefaults = __assign(__assign({}, ChartTheme.getChartDefaults()), { series: {\n            treemap: __assign(__assign({}, ChartTheme.getSeriesDefaults()), { showInLegend: false, labelKey: 'label', sizeKey: 'size', colorKey: 'color', colorDomain: [-5, 5], colorRange: ['#cb4b3f', '#6acb64'], groupFill: '#272931', groupStroke: 'black', groupStrokeWidth: 1, tileStroke: 'black', tileStrokeWidth: 1, gradient: true, tileShadow: {\n                    enabled: false,\n                    color: 'rgba(0, 0, 0, 0.5)',\n                    xOffset: 3,\n                    yOffset: 3,\n                    blur: 5,\n                }, labelShadow: {\n                    enabled: true,\n                    color: 'rgba(0, 0, 0, 0.4)',\n                    xOffset: 1.5,\n                    yOffset: 1.5,\n                    blur: 5,\n                }, highlightGroups: true, nodePadding: 2, title: {\n                    enabled: true,\n                    color: 'white',\n                    fontStyle: undefined,\n                    fontWeight: 'bold',\n                    fontSize: 12,\n                    fontFamily: 'Verdana, sans-serif',\n                    padding: 15,\n                }, subtitle: {\n                    enabled: true,\n                    color: 'white',\n                    fontStyle: undefined,\n                    fontWeight: undefined,\n                    fontSize: 9,\n                    fontFamily: 'Verdana, sans-serif',\n                    padding: 13,\n                }, labels: {\n                    large: {\n                        enabled: true,\n                        fontStyle: undefined,\n                        fontWeight: 'bold',\n                        fontSize: 18,\n                        fontFamily: 'Verdana, sans-serif',\n                        color: 'white',\n                    },\n                    medium: {\n                        enabled: true,\n                        fontStyle: undefined,\n                        fontWeight: 'bold',\n                        fontSize: 14,\n                        fontFamily: 'Verdana, sans-serif',\n                        color: 'white',\n                    },\n                    small: {\n                        enabled: true,\n                        fontStyle: undefined,\n                        fontWeight: 'bold',\n                        fontSize: 10,\n                        fontFamily: 'Verdana, sans-serif',\n                        color: 'white',\n                    },\n                    value: {\n                        style: {\n                            enabled: true,\n                            fontStyle: undefined,\n                            fontWeight: undefined,\n                            fontSize: 12,\n                            fontFamily: 'Verdana, sans-serif',\n                            color: 'white',\n                        },\n                    },\n                } }),\n        } });\n    ChartTheme.defaults = {\n        cartesian: ChartTheme.cartesianDefaults,\n        groupedCategory: ChartTheme.cartesianDefaults,\n        polar: ChartTheme.polarDefaults,\n        hierarchy: ChartTheme.hierarchyDefaults,\n    };\n    return ChartTheme;\n}());\nexport { ChartTheme };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { ChartTheme } from './chartTheme';\nimport { CHART_TYPES } from '../chartTypes';\nvar DarkTheme = /** @class */ (function (_super) {\n    __extends(DarkTheme, _super);\n    function DarkTheme(options) {\n        return _super.call(this, options) || this;\n    }\n    DarkTheme.prototype.getDefaults = function () {\n        var fontColor = DarkTheme.fontColor;\n        var mutedFontColor = DarkTheme.mutedFontColor;\n        var axisDefaults = {\n            title: {\n                color: fontColor,\n            },\n            label: {\n                color: fontColor,\n            },\n            gridStyle: [\n                {\n                    stroke: 'rgb(88, 88, 88)',\n                    lineDash: [4, 2],\n                },\n            ],\n        };\n        var seriesLabelDefaults = {\n            label: {\n                color: fontColor,\n            },\n        };\n        var chartAxesDefaults = {\n            axes: {\n                number: __assign({}, axisDefaults),\n                category: __assign({}, axisDefaults),\n                time: __assign({}, axisDefaults),\n            },\n        };\n        var chartDefaults = {\n            background: {\n                fill: 'rgb(34, 38, 41)',\n            },\n            title: {\n                color: fontColor,\n            },\n            subtitle: {\n                color: mutedFontColor,\n            },\n            legend: {\n                item: {\n                    label: {\n                        color: fontColor,\n                    },\n                },\n                pagination: {\n                    activeStyle: {\n                        fill: fontColor,\n                    },\n                    inactiveStyle: {\n                        fill: mutedFontColor,\n                    },\n                    highlightStyle: {\n                        fill: fontColor,\n                    },\n                    label: {\n                        color: fontColor,\n                    },\n                },\n            },\n        };\n        var getOverridesByType = function (seriesTypes) {\n            return seriesTypes.reduce(function (obj, seriesType) {\n                if (Object.prototype.hasOwnProperty.call(DarkTheme.seriesDarkThemeOverrides, seriesType)) {\n                    obj[seriesType] = DarkTheme.seriesDarkThemeOverrides[seriesType]({\n                        seriesLabelDefaults: DarkTheme.seriesLabelDefaults,\n                    });\n                }\n                return obj;\n            }, {});\n        };\n        return this.mergeWithParentDefaults(_super.prototype.getDefaults.call(this), {\n            cartesian: __assign(__assign(__assign({}, chartDefaults), chartAxesDefaults), { series: __assign({ bar: __assign({}, seriesLabelDefaults), column: __assign({}, seriesLabelDefaults), histogram: __assign({}, seriesLabelDefaults) }, getOverridesByType(CHART_TYPES.cartesianTypes)) }),\n            groupedCategory: __assign(__assign(__assign({}, chartDefaults), chartAxesDefaults), { series: __assign({ bar: __assign({}, seriesLabelDefaults), column: __assign({}, seriesLabelDefaults), histogram: __assign({}, seriesLabelDefaults) }, getOverridesByType(CHART_TYPES.cartesianTypes)) }),\n            polar: __assign(__assign({}, chartDefaults), { series: __assign({ pie: {\n                        calloutLabel: {\n                            color: fontColor,\n                        },\n                        sectorLabel: {\n                            color: fontColor,\n                        },\n                        title: {\n                            color: fontColor,\n                        },\n                        innerLabels: {\n                            color: fontColor,\n                        },\n                    } }, getOverridesByType(CHART_TYPES.polarTypes)) }),\n            hierarchy: __assign(__assign({}, chartDefaults), { series: __assign({ treemap: {\n                        tileStroke: 'white',\n                        groupStroke: 'white',\n                        title: {\n                            color: fontColor,\n                        },\n                        subtitle: {\n                            color: mutedFontColor,\n                        },\n                        labels: {\n                            large: {\n                                color: fontColor,\n                            },\n                            medium: {\n                                color: fontColor,\n                            },\n                            small: {\n                                color: fontColor,\n                            },\n                            value: {\n                                style: {\n                                    color: fontColor,\n                                },\n                            },\n                        },\n                    } }, getOverridesByType(CHART_TYPES.hierarchyTypes)) }),\n        });\n    };\n    DarkTheme.fontColor = 'rgb(200, 200, 200)';\n    DarkTheme.mutedFontColor = 'rgb(150, 150, 150)';\n    DarkTheme.seriesLabelDefaults = {\n        label: {\n            color: DarkTheme.fontColor,\n        },\n    };\n    DarkTheme.seriesDarkThemeOverrides = {};\n    return DarkTheme;\n}(ChartTheme));\nexport { DarkTheme };\n", "var __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar BaseModuleInstance = /** @class */ (function () {\n    function BaseModuleInstance() {\n        this.destroyFns = [];\n    }\n    BaseModuleInstance.prototype.destroy = function () {\n        var e_1, _a;\n        try {\n            for (var _b = __values(this.destroyFns), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var destroyFn = _c.value;\n                destroyFn();\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    return BaseModuleInstance;\n}());\nexport { BaseModuleInstance };\nexport var REGISTERED_MODULES = [];\nexport function registerModule(module) {\n    var otherModule = REGISTERED_MODULES.find(function (other) {\n        return module.type === other.type && module.optionsKey === other.optionsKey;\n    });\n    if (otherModule) {\n        if (module.packageType === 'enterprise' && otherModule.packageType === 'community') {\n            // Replace the community module with an enterprise version\n            var index = REGISTERED_MODULES.indexOf(otherModule);\n            REGISTERED_MODULES.splice(index, 1, module);\n        }\n        else {\n            // Skip if the module is already registered\n        }\n    }\n    else {\n        // Simply register the module\n        REGISTERED_MODULES.push(module);\n    }\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Path } from '../../scene/shape/path';\nimport { BBox } from '../../scene/bbox';\nimport { LINE_CAP, NUMBER, COLOR_STRING, Validate } from '../../util/validation';\nvar RangeHandle = /** @class */ (function (_super) {\n    __extends(RangeHandle, _super);\n    function RangeHandle() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._fill = '#f2f2f2';\n        _this._stroke = '#999999';\n        _this._strokeWidth = 1;\n        _this._lineCap = 'square';\n        _this._centerX = 0;\n        _this._centerY = 0;\n        // Use an even number for better looking results.\n        _this._width = 8;\n        // Use an even number for better looking results.\n        _this._gripLineGap = 2;\n        // Use an even number for better looking results.\n        _this._gripLineLength = 8;\n        _this._height = 16;\n        return _this;\n    }\n    Object.defineProperty(RangeHandle.prototype, \"centerX\", {\n        get: function () {\n            return this._centerX;\n        },\n        set: function (value) {\n            if (this._centerX !== value) {\n                this._centerX = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"centerY\", {\n        get: function () {\n            return this._centerY;\n        },\n        set: function (value) {\n            if (this._centerY !== value) {\n                this._centerY = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        set: function (value) {\n            if (this._width !== value) {\n                this._width = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"gripLineGap\", {\n        get: function () {\n            return this._gripLineGap;\n        },\n        set: function (value) {\n            if (this._gripLineGap !== value) {\n                this._gripLineGap = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"gripLineLength\", {\n        get: function () {\n            return this._gripLineLength;\n        },\n        set: function (value) {\n            if (this._gripLineLength !== value) {\n                this._gripLineLength = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeHandle.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        set: function (value) {\n            if (this._height !== value) {\n                this._height = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RangeHandle.prototype.computeBBox = function () {\n        var _a = this, centerX = _a.centerX, centerY = _a.centerY, width = _a.width, height = _a.height;\n        var x = centerX - width / 2;\n        var y = centerY - height / 2;\n        return new BBox(x, y, width, height);\n    };\n    RangeHandle.prototype.isPointInPath = function (x, y) {\n        var point = this.transformPoint(x, y);\n        var bbox = this.computeBBox();\n        return bbox.containsPoint(point.x, point.y);\n    };\n    RangeHandle.prototype.updatePath = function () {\n        var _a = this, path = _a.path, centerX = _a.centerX, centerY = _a.centerY, width = _a.width, height = _a.height;\n        path.clear();\n        var x = centerX - width / 2;\n        var y = centerY - height / 2;\n        var ax = this.align(x);\n        var ay = this.align(y);\n        var axw = ax + this.align(x, width);\n        var ayh = ay + this.align(y, height);\n        // Handle.\n        path.moveTo(ax, ay);\n        path.lineTo(axw, ay);\n        path.lineTo(axw, ayh);\n        path.lineTo(ax, ayh);\n        path.lineTo(ax, ay);\n        // Grip lines.\n        var dx = this.gripLineGap / 2;\n        var dy = this.gripLineLength / 2;\n        path.moveTo(this.align(centerX - dx), this.align(centerY - dy));\n        path.lineTo(this.align(centerX - dx), this.align(centerY + dy));\n        path.moveTo(this.align(centerX + dx), this.align(centerY - dy));\n        path.lineTo(this.align(centerX + dx), this.align(centerY + dy));\n    };\n    RangeHandle.className = 'RangeHandle';\n    __decorate([\n        Validate(COLOR_STRING)\n    ], RangeHandle.prototype, \"_fill\", void 0);\n    __decorate([\n        Validate(COLOR_STRING)\n    ], RangeHandle.prototype, \"_stroke\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], RangeHandle.prototype, \"_strokeWidth\", void 0);\n    __decorate([\n        Validate(LINE_CAP)\n    ], RangeHandle.prototype, \"_lineCap\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], RangeHandle.prototype, \"_width\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], RangeHandle.prototype, \"_gripLineGap\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], RangeHandle.prototype, \"_gripLineLength\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], RangeHandle.prototype, \"_height\", void 0);\n    return RangeHandle;\n}(Path));\nexport { RangeHandle };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Path } from '../../scene/shape/path';\nimport { BBox } from '../../scene/bbox';\nimport { LINE_CAP, NUMBER, COLOR_STRING, Validate } from '../../util/validation';\nvar RangeMask = /** @class */ (function (_super) {\n    __extends(RangeMask, _super);\n    function RangeMask() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this._stroke = '#999999';\n        _this._strokeWidth = 1;\n        _this._fill = '#999999';\n        _this._fillOpacity = 0.2;\n        _this._lineCap = 'square';\n        _this._x = 0;\n        _this._y = 0;\n        _this._width = 200;\n        _this._height = 30;\n        _this.minRange = 0.05;\n        _this._min = 0;\n        _this._max = 1;\n        return _this;\n    }\n    Object.defineProperty(RangeMask.prototype, \"x\", {\n        get: function () {\n            return this._x;\n        },\n        set: function (value) {\n            if (this._x !== value) {\n                this._x = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"y\", {\n        get: function () {\n            return this._y;\n        },\n        set: function (value) {\n            if (this._y !== value) {\n                this._y = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"width\", {\n        get: function () {\n            return this._width;\n        },\n        set: function (value) {\n            if (this._width !== value) {\n                this._width = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"height\", {\n        get: function () {\n            return this._height;\n        },\n        set: function (value) {\n            if (this._height !== value) {\n                this._height = value;\n                this.dirtyPath = true;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"min\", {\n        get: function () {\n            return this._min;\n        },\n        set: function (value) {\n            var _a;\n            value = Math.min(Math.max(value, 0), this.max - this.minRange);\n            if (isNaN(value)) {\n                return;\n            }\n            if (this._min !== value) {\n                this._min = value;\n                this.dirtyPath = true;\n                (_a = this.onRangeChange) === null || _a === void 0 ? void 0 : _a.call(this);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeMask.prototype, \"max\", {\n        get: function () {\n            return this._max;\n        },\n        set: function (value) {\n            var _a;\n            value = Math.max(Math.min(value, 1), this.min + this.minRange);\n            if (isNaN(value)) {\n                return;\n            }\n            if (this._max !== value) {\n                this._max = value;\n                this.dirtyPath = true;\n                (_a = this.onRangeChange) === null || _a === void 0 ? void 0 : _a.call(this);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RangeMask.prototype.computeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n        return new BBox(x, y, width, height);\n    };\n    RangeMask.prototype.computeVisibleRangeBBox = function () {\n        var _a = this, x = _a.x, y = _a.y, width = _a.width, height = _a.height, min = _a.min, max = _a.max;\n        var minX = x + width * min;\n        var maxX = x + width * max;\n        return new BBox(minX, y, maxX - minX, height);\n    };\n    RangeMask.prototype.updatePath = function () {\n        var _a = this, path = _a.path, x = _a.x, y = _a.y, width = _a.width, height = _a.height, min = _a.min, max = _a.max;\n        path.clear();\n        var ax = this.align(x);\n        var ay = this.align(y);\n        var axw = ax + this.align(x, width);\n        var ayh = ay + this.align(y, height);\n        // Whole range.\n        path.moveTo(ax, ay);\n        path.lineTo(axw, ay);\n        path.lineTo(axw, ayh);\n        path.lineTo(ax, ayh);\n        path.lineTo(ax, ay);\n        var minX = this.align(x + width * min);\n        var maxX = this.align(x + width * max);\n        // Visible range.\n        path.moveTo(minX, ay);\n        path.lineTo(minX, ayh);\n        path.lineTo(maxX, ayh);\n        path.lineTo(maxX, ay);\n        path.lineTo(minX, ay);\n    };\n    RangeMask.className = 'RangeMask';\n    __decorate([\n        Validate(COLOR_STRING)\n    ], RangeMask.prototype, \"_stroke\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], RangeMask.prototype, \"_strokeWidth\", void 0);\n    __decorate([\n        Validate(COLOR_STRING)\n    ], RangeMask.prototype, \"_fill\", void 0);\n    __decorate([\n        Validate(NUMBER(0, 1))\n    ], RangeMask.prototype, \"_fillOpacity\", void 0);\n    __decorate([\n        Validate(LINE_CAP)\n    ], RangeMask.prototype, \"_lineCap\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], RangeMask.prototype, \"_width\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], RangeMask.prototype, \"_height\", void 0);\n    __decorate([\n        Validate(NUMBER())\n    ], RangeMask.prototype, \"_min\", void 0);\n    __decorate([\n        Validate(NUMBER())\n    ], RangeMask.prototype, \"_max\", void 0);\n    return RangeMask;\n}(Path));\nexport { RangeMask };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { Group } from '../../scene/group';\nimport { RangeHandle } from './rangeHandle';\nimport { RangeMask } from './rangeMask';\nimport { RedrawType } from '../../scene/node';\nvar RangeSelector = /** @class */ (function (_super) {\n    __extends(RangeSelector, _super);\n    function RangeSelector() {\n        var _this = _super.call(this, { name: 'rangeSelectorGroup' }) || this;\n        _this.minHandle = new RangeHandle();\n        _this.maxHandle = new RangeHandle();\n        _this.mask = (function () {\n            var _a = RangeSelector.defaults, x = _a.x, y = _a.y, width = _a.width, height = _a.height, min = _a.min, max = _a.max;\n            var mask = new RangeMask();\n            mask.x = x;\n            mask.y = y;\n            mask.width = width;\n            mask.height = height;\n            mask.min = min;\n            mask.max = max;\n            var _b = _this, minHandle = _b.minHandle, maxHandle = _b.maxHandle;\n            minHandle.centerX = x;\n            maxHandle.centerX = x + width;\n            minHandle.centerY = maxHandle.centerY = y + height / 2;\n            _this.append([mask, minHandle, maxHandle]);\n            mask.onRangeChange = function () {\n                var _a;\n                _this.updateHandles();\n                (_a = _this.onRangeChange) === null || _a === void 0 ? void 0 : _a.call(_this);\n            };\n            return mask;\n        })();\n        _this._x = RangeSelector.defaults.x;\n        _this._y = RangeSelector.defaults.y;\n        _this._width = RangeSelector.defaults.width;\n        _this._height = RangeSelector.defaults.height;\n        _this._min = RangeSelector.defaults.min;\n        _this._max = RangeSelector.defaults.max;\n        _this.isContainerNode = true;\n        return _this;\n    }\n    Object.defineProperty(RangeSelector.prototype, \"x\", {\n        get: function () {\n            return this.mask.x;\n        },\n        set: function (value) {\n            this.mask.x = value;\n            this.updateHandles();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"y\", {\n        get: function () {\n            return this.mask.y;\n        },\n        set: function (value) {\n            this.mask.y = value;\n            this.updateHandles();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"width\", {\n        get: function () {\n            return this.mask.width;\n        },\n        set: function (value) {\n            this.mask.width = value;\n            this.updateHandles();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"height\", {\n        get: function () {\n            return this.mask.height;\n        },\n        set: function (value) {\n            this.mask.height = value;\n            this.updateHandles();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"min\", {\n        get: function () {\n            return this.mask.min;\n        },\n        set: function (value) {\n            this.mask.min = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RangeSelector.prototype, \"max\", {\n        get: function () {\n            return this.mask.max;\n        },\n        set: function (value) {\n            this.mask.max = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RangeSelector.prototype.updateHandles = function () {\n        var _a = this, minHandle = _a.minHandle, maxHandle = _a.maxHandle, x = _a.x, y = _a.y, width = _a.width, height = _a.height, mask = _a.mask;\n        minHandle.centerX = x + width * mask.min;\n        maxHandle.centerX = x + width * mask.max;\n        minHandle.centerY = maxHandle.centerY = y + height / 2;\n    };\n    RangeSelector.prototype.computeBBox = function () {\n        return this.mask.computeBBox();\n    };\n    RangeSelector.prototype.computeVisibleRangeBBox = function () {\n        return this.mask.computeVisibleRangeBBox();\n    };\n    RangeSelector.prototype.render = function (renderCtx) {\n        var ctx = renderCtx.ctx, forceRender = renderCtx.forceRender, stats = renderCtx.stats;\n        if (this.dirty === RedrawType.NONE && !forceRender) {\n            if (stats)\n                stats.nodesSkipped++;\n            return;\n        }\n        this.computeTransformMatrix();\n        this.matrix.toContext(ctx);\n        var _a = this, mask = _a.mask, minHandle = _a.minHandle, maxHandle = _a.maxHandle;\n        [mask, minHandle, maxHandle].forEach(function (child) {\n            if (child.visible && (forceRender || child.dirty > RedrawType.NONE)) {\n                ctx.save();\n                child.render(__assign(__assign({}, renderCtx), { ctx: ctx, forceRender: forceRender }));\n                ctx.restore();\n            }\n        });\n        this.markClean({ force: true });\n        if (stats)\n            stats.nodesRendered++;\n    };\n    RangeSelector.className = 'Range';\n    RangeSelector.defaults = {\n        x: 0,\n        y: 0,\n        width: 200,\n        height: 30,\n        min: 0,\n        max: 1,\n    };\n    return RangeSelector;\n}(Group));\nexport { RangeSelector };\n", "var NavigatorMask = /** @class */ (function () {\n    function NavigatorMask(rangeMask) {\n        this.rm = rangeMask;\n    }\n    Object.defineProperty(NavigatorMask.prototype, \"fill\", {\n        get: function () {\n            return this.rm.fill;\n        },\n        set: function (value) {\n            this.rm.fill = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorMask.prototype, \"stroke\", {\n        get: function () {\n            return this.rm.stroke;\n        },\n        set: function (value) {\n            this.rm.stroke = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorMask.prototype, \"strokeWidth\", {\n        get: function () {\n            return this.rm.strokeWidth;\n        },\n        set: function (value) {\n            this.rm.strokeWidth = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorMask.prototype, \"fillOpacity\", {\n        get: function () {\n            return this.rm.fillOpacity;\n        },\n        set: function (value) {\n            this.rm.fillOpacity = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NavigatorMask;\n}());\nexport { NavigatorMask };\n", "var NavigatorHandle = /** @class */ (function () {\n    function NavigatorHandle(rangeHandle) {\n        this.rh = rangeHandle;\n    }\n    Object.defineProperty(NavigatorHandle.prototype, \"fill\", {\n        get: function () {\n            return this.rh.fill;\n        },\n        set: function (value) {\n            this.rh.fill = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"stroke\", {\n        get: function () {\n            return this.rh.stroke;\n        },\n        set: function (value) {\n            this.rh.stroke = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"strokeWidth\", {\n        get: function () {\n            return this.rh.strokeWidth;\n        },\n        set: function (value) {\n            this.rh.strokeWidth = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"width\", {\n        get: function () {\n            return this.rh.width;\n        },\n        set: function (value) {\n            this.rh.width = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"height\", {\n        get: function () {\n            return this.rh.height;\n        },\n        set: function (value) {\n            this.rh.height = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"gripLineGap\", {\n        get: function () {\n            return this.rh.gripLineGap;\n        },\n        set: function (value) {\n            this.rh.gripLineGap = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NavigatorHandle.prototype, \"gripLineLength\", {\n        get: function () {\n            return this.rh.gripLineLength;\n        },\n        set: function (value) {\n            this.rh.gripLineLength = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NavigatorHandle;\n}());\nexport { NavigatorHandle };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { RangeSelector } from '../shapes/rangeSelector';\nimport { NavigatorMask } from './navigatorMask';\nimport { NavigatorHandle } from './navigatorHandle';\nimport { BaseModuleInstance } from '../../util/module';\nimport { BOOLEAN, NUMBER, Validate } from '../../util/validation';\nimport { BBox } from '../../scene/bbox';\nvar Navigator = /** @class */ (function (_super) {\n    __extends(Navigator, _super);\n    function Navigator(ctx) {\n        var _this = _super.call(this) || this;\n        _this.ctx = ctx;\n        _this.rs = new RangeSelector();\n        // Wrappers to allow option application to the scene graph nodes.\n        _this.mask = new NavigatorMask(_this.rs.mask);\n        _this.minHandle = new NavigatorHandle(_this.rs.minHandle);\n        _this.maxHandle = new NavigatorHandle(_this.rs.maxHandle);\n        _this.minHandleDragging = false;\n        _this.maxHandleDragging = false;\n        _this.panHandleOffset = NaN;\n        _this._enabled = false;\n        _this.margin = 10;\n        _this._visible = true;\n        _this.rs.onRangeChange = function () {\n            return _this.ctx.zoomManager.updateZoom('navigator', { x: { min: _this.rs.min, max: _this.rs.max } });\n        };\n        [\n            ctx.interactionManager.addListener('drag-start', function (event) { return _this.onDragStart(event); }),\n            ctx.interactionManager.addListener('drag', function (event) { return _this.onDrag(event); }),\n            ctx.interactionManager.addListener('hover', function (event) { return _this.onDrag(event); }),\n            ctx.interactionManager.addListener('drag-end', function () { return _this.onDragStop(); }),\n        ].forEach(function (s) { return _this.destroyFns.push(function () { return ctx.interactionManager.removeListener(s); }); });\n        [\n            ctx.layoutService.addListener('before-series', function (event) { return _this.layout(event); }),\n            ctx.layoutService.addListener('layout-complete', function (event) { return _this.layoutComplete(event); }),\n        ].forEach(function (s) { return _this.destroyFns.push(function () { return ctx.layoutService.removeListener(s); }); });\n        ctx.scene.root.appendChild(_this.rs);\n        _this.destroyFns.push(function () { var _a; return (_a = ctx.scene.root) === null || _a === void 0 ? void 0 : _a.removeChild(_this.rs); });\n        _this.updateGroupVisibility();\n        return _this;\n    }\n    Object.defineProperty(Navigator.prototype, \"enabled\", {\n        get: function () {\n            return this._enabled;\n        },\n        set: function (value) {\n            this._enabled = value;\n            this.updateGroupVisibility();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"width\", {\n        get: function () {\n            return this.rs.width;\n        },\n        set: function (value) {\n            this.rs.width = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"height\", {\n        get: function () {\n            return this.rs.height;\n        },\n        set: function (value) {\n            this.rs.height = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"min\", {\n        get: function () {\n            return this.rs.min;\n        },\n        set: function (value) {\n            this.rs.min = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"max\", {\n        get: function () {\n            return this.rs.max;\n        },\n        set: function (value) {\n            this.rs.max = value;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Navigator.prototype, \"visible\", {\n        get: function () {\n            return this._visible;\n        },\n        set: function (value) {\n            this._visible = value;\n            this.updateGroupVisibility();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Navigator.prototype.updateGroupVisibility = function () {\n        this.rs.visible = this.enabled && this.visible;\n    };\n    Navigator.prototype.layout = function (_a) {\n        var shrinkRect = _a.shrinkRect;\n        if (this.enabled) {\n            var navigatorTotalHeight = this.rs.height + this.margin;\n            shrinkRect.shrink(navigatorTotalHeight, 'bottom');\n            this.rs.y = shrinkRect.y + shrinkRect.height + this.margin;\n        }\n        return { shrinkRect: shrinkRect };\n    };\n    Navigator.prototype.layoutComplete = function (_a) {\n        var _b = _a.series, rect = _b.rect, visible = _b.visible;\n        if (this.enabled && visible) {\n            this.rs.x = rect.x;\n            this.rs.width = rect.width;\n        }\n        this.visible = visible;\n    };\n    Navigator.prototype.update = function () {\n        // Nothing to do!\n    };\n    Navigator.prototype.onDragStart = function (offset) {\n        if (!this.enabled) {\n            return;\n        }\n        var offsetX = offset.offsetX, offsetY = offset.offsetY;\n        var rs = this.rs;\n        var minHandle = rs.minHandle, maxHandle = rs.maxHandle, x = rs.x, width = rs.width, min = rs.min;\n        var visibleRange = rs.computeVisibleRangeBBox();\n        if (!(this.minHandleDragging || this.maxHandleDragging)) {\n            if (minHandle.containsPoint(offsetX, offsetY)) {\n                this.minHandleDragging = true;\n            }\n            else if (maxHandle.containsPoint(offsetX, offsetY)) {\n                this.maxHandleDragging = true;\n            }\n            else if (visibleRange.containsPoint(offsetX, offsetY)) {\n                this.panHandleOffset = (offsetX - x) / width - min;\n            }\n        }\n    };\n    Navigator.prototype.onDrag = function (offset) {\n        if (!this.enabled) {\n            return;\n        }\n        var _a = this, rs = _a.rs, panHandleOffset = _a.panHandleOffset;\n        var x = rs.x, y = rs.y, width = rs.width, height = rs.height, minHandle = rs.minHandle, maxHandle = rs.maxHandle;\n        var offsetX = offset.offsetX, offsetY = offset.offsetY;\n        var minX = x + width * rs.min;\n        var maxX = x + width * rs.max;\n        var visibleRange = new BBox(minX, y, maxX - minX, height);\n        var getRatio = function () { return Math.min(Math.max((offsetX - x) / width, 0), 1); };\n        if (minHandle.containsPoint(offsetX, offsetY) || maxHandle.containsPoint(offsetX, offsetY)) {\n            this.ctx.cursorManager.updateCursor('navigator', 'ew-resize');\n        }\n        else if (visibleRange.containsPoint(offsetX, offsetY)) {\n            this.ctx.cursorManager.updateCursor('navigator', 'grab');\n        }\n        else {\n            this.ctx.cursorManager.updateCursor('navigator');\n        }\n        if (this.minHandleDragging) {\n            rs.min = getRatio();\n        }\n        else if (this.maxHandleDragging) {\n            rs.max = getRatio();\n        }\n        else if (!isNaN(panHandleOffset)) {\n            var span = rs.max - rs.min;\n            var min = Math.min(getRatio() - panHandleOffset, 1 - span);\n            if (min <= rs.min) {\n                // pan left\n                rs.min = min;\n                rs.max = rs.min + span;\n            }\n            else {\n                // pan right\n                rs.max = min + span;\n                rs.min = rs.max - span;\n            }\n        }\n    };\n    Navigator.prototype.onDragStop = function () {\n        this.stopHandleDragging();\n    };\n    Navigator.prototype.stopHandleDragging = function () {\n        this.minHandleDragging = this.maxHandleDragging = false;\n        this.panHandleOffset = NaN;\n    };\n    __decorate([\n        Validate(BOOLEAN)\n    ], Navigator.prototype, \"_enabled\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], Navigator.prototype, \"margin\", void 0);\n    return Navigator;\n}(BaseModuleInstance));\nexport { Navigator };\n", "import { Navigator } from '../chart/navigator/navigator';\nimport { registerModule } from './module';\nexport var CHART_NAVIGATOR_MODULE = {\n    type: 'root',\n    optionsKey: 'navigator',\n    packageType: 'community',\n    chartTypes: ['cartesian'],\n    initialiseModule: function (ctx) {\n        return {\n            instance: new Navigator(ctx),\n        };\n    },\n};\nregisterModule(CHART_NAVIGATOR_MODULE);\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Rect } from '../../scene/shape/rect';\nimport { Group } from '../../scene/group';\nimport { BaseModuleInstance } from '../../util/module';\nimport { ProxyPropertyOnWrite } from '../../util/proxy';\nimport { BOOLEAN, OPT_COLOR_STRING, Validate } from '../../util/validation';\nimport { Layers } from '../layers';\nvar Background = /** @class */ (function (_super) {\n    __extends(Background, _super);\n    function Background(ctx) {\n        var _a;\n        var _this = _super.call(this) || this;\n        _this.onLayoutComplete = function (e) {\n            var _a = e.chart, width = _a.width, height = _a.height;\n            _this.rectNode.width = width;\n            _this.rectNode.height = height;\n        };\n        _this.node = new Group({ name: 'background' });\n        _this.node.zIndex = Layers.SERIES_BACKGROUND_ZINDEX;\n        _this.rectNode = new Rect();\n        _this.node.appendChild(_this.rectNode);\n        _this.fill = 'white';\n        _this.visible = true;\n        (_a = ctx.scene.root) === null || _a === void 0 ? void 0 : _a.appendChild(_this.node);\n        _this.destroyFns.push(function () { var _a; return (_a = ctx.scene.root) === null || _a === void 0 ? void 0 : _a.removeChild(_this.node); });\n        var layoutHandle = ctx.layoutService.addListener('layout-complete', _this.onLayoutComplete);\n        _this.destroyFns.push(function () { return ctx.layoutService.removeListener(layoutHandle); });\n        return _this;\n    }\n    Background.prototype.update = function () { };\n    __decorate([\n        Validate(BOOLEAN),\n        ProxyPropertyOnWrite('node', 'visible')\n    ], Background.prototype, \"visible\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING),\n        ProxyPropertyOnWrite('rectNode', 'fill')\n    ], Background.prototype, \"fill\", void 0);\n    return Background;\n}(BaseModuleInstance));\nexport { Background };\n", "import { Background } from './background';\nimport { registerModule } from '../../util/module';\nexport var CHART_BACKGROUND_MODULE = {\n    type: 'root',\n    optionsKey: 'background',\n    packageType: 'community',\n    chartTypes: ['cartesian', 'polar', 'hierarchy'],\n    initialiseModule: function (ctx) {\n        return {\n            instance: new Background(ctx),\n        };\n    },\n};\nregisterModule(CHART_BACKGROUND_MODULE);\n", "export * from './util/validation';\nexport * from './util/module';\nexport * from './util/navigator-module';\nexport * from './util/proxy';\nexport * from './chart/background/backgroundModule';\nexport * from './chart/chartAxisDirection';\nexport * from './chart/data/dataModel';\nexport * from './chart/updateService';\nexport * from './chart/layout/layoutService';\nexport * from './chart/interaction/cursorManager';\nexport * from './chart/interaction/highlightManager';\nexport * from './chart/interaction/interactionManager';\nexport * from './chart/interaction/tooltipManager';\nexport * from './chart/interaction/zoomManager';\nexport * from './chart/layers';\nexport * from './chart/series/series';\nexport * from './chart/series/cartesian/cartesianSeries';\nexport { ChartUpdateType } from './chart/chartUpdateType';\n", "import { AreaSeries } from './cartesian/areaSeries';\nimport { BarSeries } from './cartesian/barSeries';\nimport { HistogramSeries } from './cartesian/histogramSeries';\nimport { LineSeries } from './cartesian/lineSeries';\nimport { ScatterSeries } from './cartesian/scatterSeries';\nimport { PieSeries } from './polar/pieSeries';\nimport { TreemapSeries } from './hierarchy/treemapSeries';\nimport { CHART_TYPES } from '../chartTypes';\nimport { ChartTheme } from '../themes/chartTheme';\nimport { DarkTheme } from '../themes/darkTheme';\nimport { REGISTERED_MODULES } from '../../module-support';\nvar builtinSeriesTypes = {\n    area: AreaSeries,\n    bar: BarSeries,\n    column: BarSeries,\n    histogram: HistogramSeries,\n    line: LineSeries,\n    pie: PieSeries,\n    scatter: ScatterSeries,\n    treemap: TreemapSeries,\n};\nvar extraSeriesFactories = {};\nvar initialisedSeriesModules = new Map();\nexport function initialiseSeriesModules() {\n    REGISTERED_MODULES.filter(function (m) { return m.type === 'series'; })\n        .filter(function (m) { return !initialisedSeriesModules.has(m); })\n        .forEach(function (m) { return initialiseSeriesModule(m); });\n}\nexport var seriesDefaults = {};\nfunction initialiseSeriesModule(mod) {\n    var seriesType = mod.optionsKey;\n    var instance = mod.initialiseModule({\n        seriesFactory: {\n            add: function (factory) {\n                extraSeriesFactories[seriesType] = factory;\n            },\n            delete: function () {\n                delete extraSeriesFactories[seriesType];\n            },\n        },\n        defaults: {\n            add: function (defaultOptions) {\n                seriesDefaults[seriesType] = defaultOptions;\n            },\n            delete: function () {\n                delete seriesDefaults[seriesType];\n            },\n        },\n        themes: {\n            chartTheme: {\n                add: function (fn) {\n                    ChartTheme.seriesThemeOverrides[seriesType] = fn;\n                },\n                delete: function () {\n                    delete ChartTheme.seriesThemeOverrides[seriesType];\n                },\n            },\n            darkTheme: {\n                add: function (fn) {\n                    DarkTheme.seriesDarkThemeOverrides[seriesType] = fn;\n                },\n                delete: function () {\n                    delete DarkTheme.seriesDarkThemeOverrides[seriesType];\n                },\n            },\n        },\n    });\n    initialisedSeriesModules.set(mod, instance);\n    var chartType = mod.chartTypes[0];\n    CHART_TYPES.add(seriesType, chartType);\n}\nexport function getSeries(chartType) {\n    if (Object.prototype.hasOwnProperty.call(extraSeriesFactories, chartType)) {\n        var factory = extraSeriesFactories[chartType];\n        return factory();\n    }\n    if (Object.prototype.hasOwnProperty.call(builtinSeriesTypes, chartType)) {\n        var SeriesConstructor = builtinSeriesTypes[chartType];\n        return new SeriesConstructor();\n    }\n    throw new Error(\"AG Charts - unknown series type: \" + chartType);\n}\n", "import { NumberAxis } from '../axis/numberAxis';\nimport { CategoryAxis } from '../axis/categoryAxis';\nexport var DEFAULT_CARTESIAN_CHART_OVERRIDES = {\n    axes: [\n        {\n            type: NumberAxis.type,\n            position: 'left',\n        },\n        {\n            type: CategoryAxis.type,\n            position: 'bottom',\n        },\n    ],\n};\nexport var DEFAULT_BAR_CHART_OVERRIDES = {\n    axes: [\n        {\n            type: 'number',\n            position: 'bottom',\n        },\n        {\n            type: 'category',\n            position: 'left',\n        },\n    ],\n};\nexport var DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES = {\n    axes: [\n        {\n            type: 'number',\n            position: 'bottom',\n        },\n        {\n            type: 'number',\n            position: 'left',\n        },\n    ],\n};\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nfunction transform(input, transforms) {\n    var result = {};\n    for (var p in input) {\n        var t = transforms[p] || (function (x) { return x; });\n        result[p] = t(input[p], input);\n    }\n    return result;\n}\nfunction is2dArray(input) {\n    return input != null && input instanceof Array && input[0] instanceof Array;\n}\nfunction yNamesMapping(p, src) {\n    if (p == null) {\n        return {};\n    }\n    if (!(p instanceof Array)) {\n        return p;\n    }\n    var yKeys = src.yKeys;\n    if (yKeys == null || is2dArray(yKeys)) {\n        throw new Error('AG Charts - yNames and yKeys mismatching configuration.');\n    }\n    var result = {};\n    yKeys.forEach(function (k, i) {\n        result[k] = p[i];\n    });\n    return result;\n}\nfunction yKeysMapping(p, src) {\n    if (p == null) {\n        return [[]];\n    }\n    if (is2dArray(p)) {\n        return p;\n    }\n    return src.grouped ? p.map(function (v) { return [v]; }) : [p];\n}\nfunction barSeriesTransform(options) {\n    var result = __assign({}, options);\n    delete result['yKey'];\n    delete result['yName'];\n    return transform(result, {\n        yNames: yNamesMapping,\n        yKeys: yKeysMapping,\n    });\n}\nfunction identityTransform(input) {\n    return input;\n}\nvar SERIES_TRANSFORMS = {\n    area: identityTransform,\n    bar: barSeriesTransform,\n    column: barSeriesTransform,\n    histogram: identityTransform,\n    line: identityTransform,\n    pie: identityTransform,\n    scatter: identityTransform,\n    treemap: identityTransform,\n};\nexport function applySeriesTransform(options) {\n    var type = options.type || 'line';\n    var transform = SERIES_TRANSFORMS[type];\n    return (transform !== null && transform !== void 0 ? transform : identityTransform)(options);\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ChartTheme } from './chartTheme';\nvar palette = {\n    fills: [\n        '#f44336',\n        '#e91e63',\n        '#9c27b0',\n        '#673ab7',\n        '#3f51b5',\n        '#2196f3',\n        '#03a9f4',\n        '#00bcd4',\n        '#009688',\n        '#4caf50',\n        '#8bc34a',\n        '#cddc39',\n        '#ffeb3b',\n        '#ffc107',\n        '#ff9800',\n        '#ff5722',\n    ],\n    strokes: [\n        '#ab2f26',\n        '#a31545',\n        '#6d1b7b',\n        '#482980',\n        '#2c397f',\n        '#1769aa',\n        '#0276ab',\n        '#008494',\n        '#00695f',\n        '#357a38',\n        '#618834',\n        '#909a28',\n        '#b3a429',\n        '#b38705',\n        '#b36a00',\n        '#b33d18',\n    ],\n};\nvar MaterialLight = /** @class */ (function (_super) {\n    __extends(MaterialLight, _super);\n    function MaterialLight() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MaterialLight.prototype.getPalette = function () {\n        return palette;\n    };\n    return MaterialLight;\n}(ChartTheme));\nexport { MaterialLight };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DarkTheme } from './darkTheme';\nvar palette = {\n    fills: [\n        '#f44336',\n        '#e91e63',\n        '#9c27b0',\n        '#673ab7',\n        '#3f51b5',\n        '#2196f3',\n        '#03a9f4',\n        '#00bcd4',\n        '#009688',\n        '#4caf50',\n        '#8bc34a',\n        '#cddc39',\n        '#ffeb3b',\n        '#ffc107',\n        '#ff9800',\n        '#ff5722',\n    ],\n    strokes: [\n        '#ab2f26',\n        '#a31545',\n        '#6d1b7b',\n        '#482980',\n        '#2c397f',\n        '#1769aa',\n        '#0276ab',\n        '#008494',\n        '#00695f',\n        '#357a38',\n        '#618834',\n        '#909a28',\n        '#b3a429',\n        '#b38705',\n        '#b36a00',\n        '#b33d18',\n    ],\n};\nvar MaterialDark = /** @class */ (function (_super) {\n    __extends(MaterialDark, _super);\n    function MaterialDark() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MaterialDark.prototype.getPalette = function () {\n        return palette;\n    };\n    return MaterialDark;\n}(DarkTheme));\nexport { MaterialDark };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ChartTheme } from './chartTheme';\nvar palette = {\n    fills: ['#c16068', '#a2bf8a', '#ebcc87', '#80a0c3', '#b58dae', '#85c0d1'],\n    strokes: ['#874349', '#718661', '#a48f5f', '#5a7088', '#7f637a', '#5d8692'],\n};\nvar PastelLight = /** @class */ (function (_super) {\n    __extends(PastelLight, _super);\n    function PastelLight() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PastelLight.prototype.getPalette = function () {\n        return palette;\n    };\n    return PastelLight;\n}(ChartTheme));\nexport { PastelLight };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DarkTheme } from './darkTheme';\nvar palette = {\n    fills: ['#c16068', '#a2bf8a', '#ebcc87', '#80a0c3', '#b58dae', '#85c0d1'],\n    strokes: ['#874349', '#718661', '#a48f5f', '#5a7088', '#7f637a', '#5d8692'],\n};\nvar PastelDark = /** @class */ (function (_super) {\n    __extends(PastelDark, _super);\n    function PastelDark() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PastelDark.prototype.getPalette = function () {\n        return palette;\n    };\n    return PastelDark;\n}(DarkTheme));\nexport { PastelDark };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ChartTheme } from './chartTheme';\nvar palette = {\n    fills: [\n        '#febe76',\n        '#ff7979',\n        '#badc58',\n        '#f9ca23',\n        '#f0932b',\n        '#eb4c4b',\n        '#6ab04c',\n        '#7ed6df',\n        '#e056fd',\n        '#686de0',\n    ],\n    strokes: [\n        '#b28553',\n        '#b35555',\n        '#829a3e',\n        '#ae8d19',\n        '#a8671e',\n        '#a43535',\n        '#4a7b35',\n        '#58969c',\n        '#9d3cb1',\n        '#494c9d',\n    ],\n};\nvar SolarLight = /** @class */ (function (_super) {\n    __extends(SolarLight, _super);\n    function SolarLight() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SolarLight.prototype.getPalette = function () {\n        return palette;\n    };\n    return SolarLight;\n}(ChartTheme));\nexport { SolarLight };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DarkTheme } from './darkTheme';\nvar palette = {\n    fills: [\n        '#febe76',\n        '#ff7979',\n        '#badc58',\n        '#f9ca23',\n        '#f0932b',\n        '#eb4c4b',\n        '#6ab04c',\n        '#7ed6df',\n        '#e056fd',\n        '#686de0',\n    ],\n    strokes: [\n        '#b28553',\n        '#b35555',\n        '#829a3e',\n        '#ae8d19',\n        '#a8671e',\n        '#a43535',\n        '#4a7b35',\n        '#58969c',\n        '#9d3cb1',\n        '#494c9d',\n    ],\n};\nvar SolarDark = /** @class */ (function (_super) {\n    __extends(SolarDark, _super);\n    function SolarDark() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SolarDark.prototype.getPalette = function () {\n        return palette;\n    };\n    return SolarDark;\n}(DarkTheme));\nexport { SolarDark };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { ChartTheme } from './chartTheme';\nvar palette = {\n    fills: ['#5BC0EB', '#FDE74C', '#9BC53D', '#E55934', '#FA7921', '#fa3081'],\n    strokes: ['#4086a4', '#b1a235', '#6c8a2b', '#a03e24', '#af5517', '#af225a'],\n};\nvar VividLight = /** @class */ (function (_super) {\n    __extends(VividLight, _super);\n    function VividLight() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    VividLight.prototype.getPalette = function () {\n        return palette;\n    };\n    return VividLight;\n}(ChartTheme));\nexport { VividLight };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { DarkTheme } from './darkTheme';\nvar palette = {\n    fills: ['#5BC0EB', '#FDE74C', '#9BC53D', '#E55934', '#FA7921', '#fa3081'],\n    strokes: ['#4086a4', '#b1a235', '#6c8a2b', '#a03e24', '#af5517', '#af225a'],\n};\nvar VividDark = /** @class */ (function (_super) {\n    __extends(VividDark, _super);\n    function VividDark() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    VividDark.prototype.getPalette = function () {\n        return palette;\n    };\n    return VividDark;\n}(DarkTheme));\nexport { VividDark };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { ChartTheme } from '../themes/chartTheme';\nimport { DarkTheme } from '../themes/darkTheme';\nimport { MaterialLight } from '../themes/materialLight';\nimport { MaterialDark } from '../themes/materialDark';\nimport { PastelLight } from '../themes/pastelLight';\nimport { PastelDark } from '../themes/pastelDark';\nimport { SolarLight } from '../themes/solarLight';\nimport { SolarDark } from '../themes/solarDark';\nimport { VividLight } from '../themes/vividLight';\nimport { VividDark } from '../themes/vividDark';\nimport { jsonMerge } from '../../util/json';\nvar lightTheme = function () { return new ChartTheme(); };\nvar darkTheme = function () { return new DarkTheme(); };\nvar lightThemes = {\n    undefined: lightTheme,\n    null: lightTheme,\n    'ag-default': lightTheme,\n    'ag-material': function () { return new MaterialLight(); },\n    'ag-pastel': function () { return new PastelLight(); },\n    'ag-solar': function () { return new SolarLight(); },\n    'ag-vivid': function () { return new VividLight(); },\n};\nvar darkThemes = {\n    undefined: darkTheme,\n    null: darkTheme,\n    'ag-default-dark': darkTheme,\n    'ag-material-dark': function () { return new MaterialDark(); },\n    'ag-pastel-dark': function () { return new PastelDark(); },\n    'ag-solar-dark': function () { return new SolarDark(); },\n    'ag-vivid-dark': function () { return new VividDark(); },\n};\nexport var themes = __assign(__assign({}, darkThemes), lightThemes);\nexport function getChartTheme(value) {\n    var _a;\n    if (value instanceof ChartTheme) {\n        return value;\n    }\n    var stockTheme = themes[value];\n    if (stockTheme) {\n        return stockTheme();\n    }\n    value = value;\n    // Flatten recursive themes.\n    var overrides = [];\n    var palette;\n    while (typeof value === 'object') {\n        overrides.push((_a = value.overrides) !== null && _a !== void 0 ? _a : {});\n        // Use first palette found, they can't be merged.\n        if (value.palette && palette == null) {\n            palette = value.palette;\n        }\n        value = value.baseTheme;\n    }\n    overrides.reverse();\n    var flattenedTheme = __assign({ baseTheme: value, overrides: jsonMerge(overrides) }, (palette ? { palette: palette } : {}));\n    if (flattenedTheme.baseTheme || flattenedTheme.overrides) {\n        var baseTheme = getChartTheme(flattenedTheme.baseTheme);\n        return new baseTheme.constructor(flattenedTheme);\n    }\n    return lightTheme();\n}\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { Logger } from '../../util/logger';\n/**\n * Groups the series options objects if they are of type `column` or `bar` and places them in an array at the index where the first instance of this series type was found.\n * Returns an array of arrays containing the ordered and grouped series options objects.\n */\nexport function groupSeriesByType(seriesOptions) {\n    var e_1, _a;\n    var indexMap = {};\n    var result = [];\n    try {\n        for (var seriesOptions_1 = __values(seriesOptions), seriesOptions_1_1 = seriesOptions_1.next(); !seriesOptions_1_1.done; seriesOptions_1_1 = seriesOptions_1.next()) {\n            var s = seriesOptions_1_1.value;\n            if (s.type !== 'column' && s.type !== 'bar' && (s.type !== 'area' || s.stacked !== true)) {\n                // No need to use index for these cases.\n                result.push([s]);\n                continue;\n            }\n            var seriesType = s.type || 'line';\n            var groupingKey = s.stacked ? 'stacked' : 'grouped';\n            var indexKey = seriesType + \"-\" + s.xKey + \"-\" + groupingKey;\n            if (indexMap[indexKey] == null) {\n                // Add indexed array to result on first addition.\n                indexMap[indexKey] = [];\n                result.push(indexMap[indexKey]);\n            }\n            indexMap[indexKey].push(s);\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (seriesOptions_1_1 && !seriesOptions_1_1.done && (_a = seriesOptions_1.return)) _a.call(seriesOptions_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return result;\n}\nvar FAIL = Symbol();\nvar SKIP = Symbol();\nvar ARRAY_REDUCER = function (prop) { return function (result, next) {\n    var _a;\n    return result.concat.apply(result, __spread(((_a = next[prop]) !== null && _a !== void 0 ? _a : [])));\n}; };\nvar BOOLEAN_OR_REDUCER = function (prop, defaultValue) { return function (result, next) {\n    if (typeof next[prop] === 'boolean') {\n        return (result !== null && result !== void 0 ? result : false) || next[prop];\n    }\n    return result !== null && result !== void 0 ? result : defaultValue;\n}; };\nvar DEFAULTING_ARRAY_REDUCER = function (prop, defaultValue) { return function (result, next, idx, length) {\n    var _a;\n    var sparse = defaultValue === SKIP || defaultValue === FAIL;\n    var nextValue = (_a = next[prop]) !== null && _a !== void 0 ? _a : defaultValue;\n    if (nextValue === FAIL) {\n        throw new Error(\"AG Charts - missing value for property [\" + prop + \"] on series config.\");\n    }\n    else if (nextValue === SKIP) {\n        return result;\n    }\n    if (result.length === 0 && !sparse) {\n        // Pre-populate values on first invocation as we will only be invoked for series with a\n        // value specified.\n        while (result.length < length) {\n            result = result.concat(defaultValue);\n        }\n    }\n    if (!sparse) {\n        result[idx] = nextValue;\n        return result;\n    }\n    return result.concat(nextValue);\n}; };\nvar YKEYS_REDUCER = function (prop, activationValue) { return function (result, next) {\n    if (next[prop] === activationValue) {\n        return result.concat.apply(result, __spread((next.yKey ? [next.yKey] : next.yKeys)));\n    }\n    return result;\n}; };\nvar STACK_GROUPS_REDUCER = function () { return function (result, next) {\n    var _a;\n    return __assign(__assign({}, result), (_a = {}, _a[next.stackGroup] = __spread((result[next.stackGroup] || []), [next.yKey]), _a));\n}; };\nvar REDUCE_CONFIG = {\n    hideInChart: { outputProp: 'hideInChart', reducer: ARRAY_REDUCER('hideInChart'), start: [] },\n    hideInLegend: { outputProp: 'hideInLegend', reducer: ARRAY_REDUCER('hideInLegend'), start: [] },\n    yKey: { outputProp: 'yKeys', reducer: DEFAULTING_ARRAY_REDUCER('yKey', SKIP), start: [] },\n    fill: { outputProp: 'fills', reducer: DEFAULTING_ARRAY_REDUCER('fill', SKIP), start: [] },\n    stroke: { outputProp: 'strokes', reducer: DEFAULTING_ARRAY_REDUCER('stroke', SKIP), start: [] },\n    yName: { outputProp: 'yNames', reducer: DEFAULTING_ARRAY_REDUCER('yName', SKIP), start: [] },\n    visible: { outputProp: 'visibles', reducer: DEFAULTING_ARRAY_REDUCER('visible', true), start: [] },\n    grouped: {\n        outputProp: 'grouped',\n        reducer: BOOLEAN_OR_REDUCER('grouped'),\n        seriesType: ['bar', 'column'],\n        start: undefined,\n    },\n    showInLegend: {\n        outputProp: 'hideInLegend',\n        reducer: YKEYS_REDUCER('showInLegend', false),\n        seriesType: ['bar', 'column'],\n        start: [],\n    },\n    stackGroup: {\n        outputProp: 'stackGroups',\n        reducer: STACK_GROUPS_REDUCER(),\n        seriesType: ['bar', 'column'],\n        start: {},\n    },\n};\n/**\n * Takes an array of bar or area series options objects and returns a single object with the combined area series options.\n */\nexport function reduceSeries(series) {\n    var options = {};\n    series.forEach(function (s, idx) {\n        Object.keys(s).forEach(function (prop) {\n            var _a;\n            var reducerConfig = REDUCE_CONFIG[prop];\n            var defaultReduce = function () {\n                var _a, _b;\n                options[prop] = (_b = (_a = s[prop]) !== null && _a !== void 0 ? _a : options[prop]) !== null && _b !== void 0 ? _b : undefined;\n            };\n            if (!reducerConfig) {\n                defaultReduce();\n                return;\n            }\n            var outputProp = reducerConfig.outputProp, reducer = reducerConfig.reducer, _b = reducerConfig.start, start = _b === void 0 ? undefined : _b, _c = reducerConfig.seriesType, seriesType = _c === void 0 ? [s.type] : _c;\n            if (!seriesType.includes(s.type)) {\n                defaultReduce();\n                return;\n            }\n            var result = reducer((_a = options[outputProp]) !== null && _a !== void 0 ? _a : start, s, idx, series.length);\n            if (result !== undefined) {\n                options[outputProp] = result;\n            }\n        });\n    });\n    return options;\n}\n/**\n * Transforms provided series options array into an array containing series options which are compatible with standalone charts series options.\n */\nexport function processSeriesOptions(seriesOptions) {\n    var e_2, _a;\n    var result = [];\n    var preprocessed = seriesOptions.map(function (series) {\n        // Change the default for bar/columns when yKey is used to be grouped rather than stacked.\n        if ((series.type === 'bar' || series.type === 'column') && series.yKey != null && !series.stacked) {\n            return __assign(__assign({}, series), { grouped: series.grouped != null ? series.grouped : true });\n        }\n        return series;\n    });\n    try {\n        for (var _b = __values(groupSeriesByType(preprocessed)), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var series = _c.value;\n            switch (series[0].type) {\n                case 'column':\n                case 'bar':\n                case 'area':\n                    result.push(reduceSeries(series));\n                    break;\n                case 'line':\n                default:\n                    if (series.length > 1) {\n                        Logger.warn('unexpected grouping of series type: ' + series[0].type);\n                    }\n                    result.push(series[0]);\n                    break;\n            }\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return result;\n}\n", "var types = {\n    number: 'number',\n    time: 'time',\n    log: 'log',\n    category: 'category',\n    groupedCategory: 'groupedCategory',\n};\nexport var CHART_AXES_TYPES = {\n    has: function (axisType) {\n        return Object.prototype.hasOwnProperty.call(types, axisType);\n    },\n    get axesTypes() {\n        return Object.keys(types);\n    },\n};\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { DEFAULT_CARTESIAN_CHART_OVERRIDES, DEFAULT_BAR_CHART_OVERRIDES, DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES, } from './defaults';\nimport { jsonMerge, DELETE, jsonWalk } from '../../util/json';\nimport { applySeriesTransform } from './transforms';\nimport { getChartTheme } from './themes';\nimport { processSeriesOptions } from './prepareSeries';\nimport { Logger } from '../../util/logger';\nimport { CHART_TYPES } from '../chartTypes';\nimport { CHART_AXES_TYPES } from '../chartAxesTypes';\nexport function optionsType(input) {\n    var _a, _b, _c, _d;\n    return (_d = (_a = input.type) !== null && _a !== void 0 ? _a : (_c = (_b = input.series) === null || _b === void 0 ? void 0 : _b[0]) === null || _c === void 0 ? void 0 : _c.type) !== null && _d !== void 0 ? _d : 'line';\n}\nexport function isAgCartesianChartOptions(input) {\n    var specifiedType = optionsType(input);\n    if (specifiedType == null) {\n        return true;\n    }\n    if (specifiedType === 'cartesian') {\n        Logger.warnOnce(\"type '\" + specifiedType + \"' is deprecated, use a series type instead\");\n        return true;\n    }\n    return CHART_TYPES.isCartesian(specifiedType);\n}\nexport function isAgHierarchyChartOptions(input) {\n    var specifiedType = optionsType(input);\n    if (specifiedType == null) {\n        return false;\n    }\n    if (specifiedType === 'hierarchy') {\n        Logger.warnOnce(\"type '\" + specifiedType + \"' is deprecated, use a series type instead\");\n        return true;\n    }\n    return CHART_TYPES.isHierarchy(specifiedType);\n}\nexport function isAgPolarChartOptions(input) {\n    var specifiedType = optionsType(input);\n    if (specifiedType == null) {\n        return false;\n    }\n    if (specifiedType === 'polar') {\n        Logger.warnOnce(\"type '\" + specifiedType + \"' is deprecated, use a series type instead\");\n        return true;\n    }\n    return CHART_TYPES.isPolar(specifiedType);\n}\nfunction isSeriesOptionType(input) {\n    if (input == null) {\n        return false;\n    }\n    return CHART_TYPES.has(input);\n}\nfunction isAxisOptionType(input) {\n    if (input == null) {\n        return false;\n    }\n    return CHART_AXES_TYPES.has(input);\n}\nfunction countArrayElements(input) {\n    var e_1, _a;\n    var count = 0;\n    try {\n        for (var input_1 = __values(input), input_1_1 = input_1.next(); !input_1_1.done; input_1_1 = input_1.next()) {\n            var next = input_1_1.value;\n            if (next instanceof Array) {\n                count += countArrayElements(next);\n            }\n            if (next != null) {\n                count++;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (input_1_1 && !input_1_1.done && (_a = input_1.return)) _a.call(input_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return count;\n}\nfunction takeColours(context, colours, maxCount) {\n    var result = [];\n    for (var count = 0; count < maxCount; count++) {\n        result.push(colours[(count + context.colourIndex) % colours.length]);\n    }\n    return result;\n}\nexport var noDataCloneMergeOptions = {\n    avoidDeepClone: ['data'],\n};\nexport function prepareOptions(newOptions, fallbackOptions, seriesDefaults) {\n    var e_2, _a, e_3, _b;\n    var _c, _d, _e, _f;\n    var options = jsonMerge([fallbackOptions, newOptions], noDataCloneMergeOptions);\n    sanityCheckOptions(options);\n    // Determine type and ensure it's explicit in the options config.\n    var userSuppliedOptionsType = options.type;\n    var type = optionsType(options);\n    var globalTooltipPositionOptions = ((_c = options.tooltip) === null || _c === void 0 ? void 0 : _c.position) || {};\n    var checkSeriesType = function (type) {\n        if (type != null && !(isSeriesOptionType(type) || (seriesDefaults === null || seriesDefaults === void 0 ? void 0 : seriesDefaults[type]))) {\n            throw new Error(\"AG Charts - unknown series type: \" + type + \"; expected one of: \" + CHART_TYPES.seriesTypes);\n        }\n    };\n    checkSeriesType(type);\n    try {\n        for (var _g = __values((_d = options.series) !== null && _d !== void 0 ? _d : []), _h = _g.next(); !_h.done; _h = _g.next()) {\n            var seriesType = _h.value.type;\n            if (seriesType == null)\n                continue;\n            checkSeriesType(seriesType);\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (_h && !_h.done && (_a = _g.return)) _a.call(_g);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    options = __assign(__assign({}, options), { type: type });\n    var defaultSeriesType = 'line';\n    if (isAgCartesianChartOptions(options)) {\n        defaultSeriesType = 'line';\n    }\n    else if (isAgHierarchyChartOptions(options)) {\n        defaultSeriesType = 'treemap';\n    }\n    else if (isAgPolarChartOptions(options)) {\n        defaultSeriesType = 'pie';\n    }\n    var defaultOverrides = {};\n    if (seriesDefaults && Object.prototype.hasOwnProperty.call(seriesDefaults, type)) {\n        defaultOverrides = seriesDefaults[type];\n    }\n    else if (type === 'bar') {\n        defaultOverrides = DEFAULT_BAR_CHART_OVERRIDES;\n    }\n    else if (type === 'scatter' || type === 'histogram') {\n        defaultOverrides = DEFAULT_SCATTER_HISTOGRAM_CHART_OVERRIDES;\n    }\n    else if (isAgCartesianChartOptions(options)) {\n        defaultOverrides = DEFAULT_CARTESIAN_CHART_OVERRIDES;\n    }\n    var _j = prepareMainOptions(defaultOverrides, options), context = _j.context, mergedOptions = _j.mergedOptions, axesThemes = _j.axesThemes, seriesThemes = _j.seriesThemes;\n    // Special cases where we have arrays of elements which need their own defaults.\n    // Apply series themes before calling processSeriesOptions() as it reduces and renames some\n    // properties, and in that case then cannot correctly have themes applied.\n    mergedOptions.series = processSeriesOptions((mergedOptions.series || []).map(function (s) {\n        var type = defaultSeriesType;\n        if (s.type) {\n            type = s.type;\n        }\n        else if (isSeriesOptionType(userSuppliedOptionsType)) {\n            type = userSuppliedOptionsType;\n        }\n        var mergedSeries = mergeSeriesOptions(s, type, seriesThemes, globalTooltipPositionOptions);\n        if (type === 'pie') {\n            preparePieOptions(seriesThemes.pie, s, mergedSeries);\n        }\n        return mergedSeries;\n    })).map(function (s) { return prepareSeries(context, s); });\n    var checkAxisType = function (type) {\n        var isAxisType = isAxisOptionType(type);\n        if (!isAxisType) {\n            Logger.warnOnce(\"AG Charts - unknown axis type: \" + type + \"; expected one of: \" + CHART_AXES_TYPES.axesTypes + \", ignoring.\");\n        }\n        return isAxisType;\n    };\n    if (isAgCartesianChartOptions(mergedOptions)) {\n        var validAxesTypes = true;\n        try {\n            for (var _k = __values((_e = mergedOptions.axes) !== null && _e !== void 0 ? _e : []), _l = _k.next(); !_l.done; _l = _k.next()) {\n                var axisType = _l.value.type;\n                if (!checkAxisType(axisType)) {\n                    validAxesTypes = false;\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_l && !_l.done && (_b = _k.return)) _b.call(_k);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        if (!validAxesTypes) {\n            mergedOptions.axes = defaultOverrides.axes;\n        }\n        else {\n            mergedOptions.axes = (_f = mergedOptions.axes) === null || _f === void 0 ? void 0 : _f.map(function (axis) {\n                var axisType = axis.type;\n                var axesTheme = jsonMerge([\n                    axesThemes[axisType],\n                    axesThemes[axisType][axis.position || 'unknown'] || {},\n                ]);\n                return prepareAxis(axis, axesTheme);\n            });\n        }\n    }\n    prepareEnabledOptions(options, mergedOptions);\n    return mergedOptions;\n}\nfunction sanityCheckOptions(options) {\n    var deprecatedArrayProps = {\n        yKeys: 'yKey',\n        yNames: 'yName',\n    };\n    Object.entries(deprecatedArrayProps).forEach(function (_a) {\n        var _b;\n        var _c = __read(_a, 2), oldProp = _c[0], newProp = _c[1];\n        if ((_b = options.series) === null || _b === void 0 ? void 0 : _b.some(function (s) { return s[oldProp] != null; })) {\n            Logger.warnOnce(\"property [series.\" + oldProp + \"] is deprecated, please use [series.\" + newProp + \"] and multiple series instead.\");\n        }\n    });\n}\nfunction mergeSeriesOptions(series, type, seriesThemes, globalTooltipPositionOptions) {\n    var _a;\n    var mergedTooltipPosition = jsonMerge([__assign({}, globalTooltipPositionOptions), (_a = series.tooltip) === null || _a === void 0 ? void 0 : _a.position], noDataCloneMergeOptions);\n    var mergedSeries = jsonMerge([\n        seriesThemes[type] || {},\n        __assign(__assign({}, series), { type: type, tooltip: __assign(__assign({}, series.tooltip), { position: mergedTooltipPosition }) }),\n    ], noDataCloneMergeOptions);\n    return mergedSeries;\n}\nfunction prepareMainOptions(defaultOverrides, options) {\n    var _a = prepareTheme(options), theme = _a.theme, cleanedTheme = _a.cleanedTheme, axesThemes = _a.axesThemes, seriesThemes = _a.seriesThemes;\n    var context = { colourIndex: 0, palette: theme.palette };\n    var mergedOptions = jsonMerge([defaultOverrides, cleanedTheme, options], noDataCloneMergeOptions);\n    return { context: context, mergedOptions: mergedOptions, axesThemes: axesThemes, seriesThemes: seriesThemes };\n}\nfunction prepareTheme(options) {\n    var theme = getChartTheme(options.theme);\n    var themeConfig = theme.config[optionsType(options) || 'cartesian'];\n    var seriesThemes = Object.entries(theme.config).reduce(function (result, _a) {\n        var _b = __read(_a, 2), seriesType = _b[0], series = _b[1].series;\n        result[seriesType] = series === null || series === void 0 ? void 0 : series[seriesType];\n        return result;\n    }, {});\n    return {\n        theme: theme,\n        axesThemes: themeConfig['axes'] || {},\n        seriesThemes: seriesThemes,\n        cleanedTheme: jsonMerge([themeConfig, { axes: DELETE, series: DELETE }]),\n    };\n}\nfunction prepareSeries(context, input) {\n    var defaults = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        defaults[_i - 2] = arguments[_i];\n    }\n    var paletteOptions = calculateSeriesPalette(context, input);\n    // Part of the options interface, but not directly consumed by the series implementations.\n    var removeOptions = { stacked: DELETE };\n    var mergedResult = jsonMerge(__spread(defaults, [paletteOptions, input, removeOptions]), noDataCloneMergeOptions);\n    return applySeriesTransform(mergedResult);\n}\nfunction calculateSeriesPalette(context, input) {\n    var paletteOptions = {};\n    var _a = context.palette, fills = _a.fills, strokes = _a.strokes;\n    var inputAny = input;\n    var colourCount = countArrayElements(inputAny['yKeys'] || []) || 1; // Defaults to 1 if no yKeys.\n    switch (input.type) {\n        case 'pie':\n            colourCount = Math.max(fills.length, strokes.length);\n        // eslint-disable-next-line no-fallthrough\n        case 'area':\n        case 'bar':\n        case 'column':\n            paletteOptions.fills = takeColours(context, fills, colourCount);\n            paletteOptions.strokes = takeColours(context, strokes, colourCount);\n            break;\n        case 'histogram':\n            paletteOptions.fill = takeColours(context, fills, 1)[0];\n            paletteOptions.stroke = takeColours(context, strokes, 1)[0];\n            break;\n        case 'scatter':\n            paletteOptions.marker = {\n                stroke: takeColours(context, strokes, 1)[0],\n                fill: takeColours(context, fills, 1)[0],\n            };\n            break;\n        case 'line':\n            paletteOptions.stroke = takeColours(context, fills, 1)[0];\n            paletteOptions.marker = {\n                stroke: takeColours(context, strokes, 1)[0],\n                fill: takeColours(context, fills, 1)[0],\n            };\n            break;\n    }\n    context.colourIndex += colourCount;\n    return paletteOptions;\n}\nfunction prepareAxis(axis, axisTheme) {\n    // Remove redundant theme overload keys.\n    var removeOptions = { top: DELETE, bottom: DELETE, left: DELETE, right: DELETE };\n    // Special cross lines case where we have an array of cross line elements which need their own defaults.\n    if (axis.crossLines) {\n        if (!Array.isArray(axis.crossLines)) {\n            Logger.warn('axis[].crossLines should be an array.');\n            axis.crossLines = [];\n        }\n        var crossLinesTheme_1 = axisTheme.crossLines;\n        axis.crossLines = axis.crossLines.map(function (crossLine) { return jsonMerge([crossLinesTheme_1, crossLine]); });\n    }\n    var cleanTheme = { crossLines: DELETE };\n    return jsonMerge([axisTheme, cleanTheme, axis, removeOptions], noDataCloneMergeOptions);\n}\nfunction prepareEnabledOptions(options, mergedOptions) {\n    // Set `enabled: true` for all option objects where the user has provided values.\n    jsonWalk(options, function (_, visitingUserOpts, visitingMergedOpts) {\n        if (!visitingMergedOpts)\n            return;\n        var _enabledFromTheme = visitingMergedOpts._enabledFromTheme;\n        if (_enabledFromTheme != null) {\n            // Do not apply special handling, base enablement on theme.\n            delete visitingMergedOpts._enabledFromTheme;\n        }\n        if (!('enabled' in visitingMergedOpts))\n            return;\n        if (_enabledFromTheme)\n            return;\n        if (visitingUserOpts.enabled == null) {\n            visitingMergedOpts.enabled = true;\n        }\n    }, { skip: ['data', 'theme'] }, mergedOptions);\n    // Cleanup any special properties.\n    jsonWalk(mergedOptions, function (_, visitingMergedOpts) {\n        if (visitingMergedOpts._enabledFromTheme != null) {\n            // Do not apply special handling, base enablement on theme.\n            delete visitingMergedOpts._enabledFromTheme;\n        }\n    }, { skip: ['data', 'theme'] });\n}\nfunction preparePieOptions(pieSeriesTheme, seriesOptions, mergedSeries) {\n    if (Array.isArray(seriesOptions.innerLabels)) {\n        mergedSeries.innerLabels = seriesOptions.innerLabels.map(function (ln) {\n            return jsonMerge([pieSeriesTheme.innerLabels, ln]);\n        });\n    }\n    else {\n        mergedSeries.innerLabels = DELETE;\n    }\n}\n", "var horizontalCrosslineTranslationDirections = {\n    top: { xTranslationDirection: 0, yTranslationDirection: -1 },\n    bottom: { xTranslationDirection: 0, yTranslationDirection: 1 },\n    left: { xTranslationDirection: -1, yTranslationDirection: 0 },\n    right: { xTranslationDirection: 1, yTranslationDirection: 0 },\n    topLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },\n    topRight: { xTranslationDirection: -1, yTranslationDirection: -1 },\n    bottomLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },\n    bottomRight: { xTranslationDirection: -1, yTranslationDirection: 1 },\n    inside: { xTranslationDirection: 0, yTranslationDirection: 0 },\n    insideLeft: { xTranslationDirection: 1, yTranslationDirection: 0 },\n    insideRight: { xTranslationDirection: -1, yTranslationDirection: 0 },\n    insideTop: { xTranslationDirection: 0, yTranslationDirection: 1 },\n    insideBottom: { xTranslationDirection: 0, yTranslationDirection: -1 },\n    insideTopLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },\n    insideBottomLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },\n    insideTopRight: { xTranslationDirection: -1, yTranslationDirection: 1 },\n    insideBottomRight: { xTranslationDirection: -1, yTranslationDirection: -1 },\n};\nvar verticalCrossLineTranslationDirections = {\n    top: { xTranslationDirection: 1, yTranslationDirection: 0 },\n    bottom: { xTranslationDirection: -1, yTranslationDirection: 0 },\n    left: { xTranslationDirection: 0, yTranslationDirection: -1 },\n    right: { xTranslationDirection: 0, yTranslationDirection: 1 },\n    topLeft: { xTranslationDirection: -1, yTranslationDirection: -1 },\n    topRight: { xTranslationDirection: -1, yTranslationDirection: 1 },\n    bottomLeft: { xTranslationDirection: 1, yTranslationDirection: -1 },\n    bottomRight: { xTranslationDirection: 1, yTranslationDirection: 1 },\n    inside: { xTranslationDirection: 0, yTranslationDirection: 0 },\n    insideLeft: { xTranslationDirection: 0, yTranslationDirection: 1 },\n    insideRight: { xTranslationDirection: 0, yTranslationDirection: -1 },\n    insideTop: { xTranslationDirection: -1, yTranslationDirection: 0 },\n    insideBottom: { xTranslationDirection: 1, yTranslationDirection: 0 },\n    insideTopLeft: { xTranslationDirection: -1, yTranslationDirection: 1 },\n    insideBottomLeft: { xTranslationDirection: 1, yTranslationDirection: 1 },\n    insideTopRight: { xTranslationDirection: -1, yTranslationDirection: -1 },\n    insideBottomRight: { xTranslationDirection: 1, yTranslationDirection: -1 },\n};\nexport var calculateLabelTranslation = function (_a) {\n    var _b;\n    var yDirection = _a.yDirection, _c = _a.padding, padding = _c === void 0 ? 0 : _c, position = _a.position, bbox = _a.bbox;\n    var crossLineTranslationDirections = yDirection\n        ? horizontalCrosslineTranslationDirections\n        : verticalCrossLineTranslationDirections;\n    var _d = (_b = crossLineTranslationDirections[position]) !== null && _b !== void 0 ? _b : crossLineTranslationDirections['top'], xTranslationDirection = _d.xTranslationDirection, yTranslationDirection = _d.yTranslationDirection;\n    var w = yDirection ? bbox.width : bbox.height;\n    var h = yDirection ? bbox.height : bbox.width;\n    var xTranslation = xTranslationDirection * (padding + w / 2);\n    var yTranslation = yTranslationDirection * (padding + h / 2);\n    return {\n        xTranslation: xTranslation,\n        yTranslation: yTranslation,\n    };\n};\nexport var POSITION_TOP_COORDINATES = function (_a) {\n    var yDirection = _a.yDirection, xEnd = _a.xEnd, yStart = _a.yStart, yEnd = _a.yEnd;\n    if (yDirection) {\n        return { x: xEnd / 2, y: yStart };\n    }\n    else {\n        return { x: xEnd, y: !isNaN(yEnd) ? (yStart + yEnd) / 2 : yStart };\n    }\n};\nvar POSITION_LEFT_COORDINATES = function (_a) {\n    var yDirection = _a.yDirection, xStart = _a.xStart, xEnd = _a.xEnd, yStart = _a.yStart, yEnd = _a.yEnd;\n    if (yDirection) {\n        return { x: xStart, y: !isNaN(yEnd) ? (yStart + yEnd) / 2 : yStart };\n    }\n    else {\n        return { x: xEnd / 2, y: yStart };\n    }\n};\nvar POSITION_RIGHT_COORDINATES = function (_a) {\n    var yDirection = _a.yDirection, xEnd = _a.xEnd, yStart = _a.yStart, yEnd = _a.yEnd;\n    if (yDirection) {\n        return { x: xEnd, y: !isNaN(yEnd) ? (yStart + yEnd) / 2 : yStart };\n    }\n    else {\n        return { x: xEnd / 2, y: !isNaN(yEnd) ? yEnd : yStart };\n    }\n};\nvar POSITION_BOTTOM_COORDINATES = function (_a) {\n    var yDirection = _a.yDirection, xStart = _a.xStart, xEnd = _a.xEnd, yStart = _a.yStart, yEnd = _a.yEnd;\n    if (yDirection) {\n        return { x: xEnd / 2, y: !isNaN(yEnd) ? yEnd : yStart };\n    }\n    else {\n        return { x: xStart, y: !isNaN(yEnd) ? (yStart + yEnd) / 2 : yStart };\n    }\n};\nvar POSITION_INSIDE_COORDINATES = function (_a) {\n    var xEnd = _a.xEnd, yStart = _a.yStart, yEnd = _a.yEnd;\n    return { x: xEnd / 2, y: !isNaN(yEnd) ? (yStart + yEnd) / 2 : yStart };\n};\nvar POSITION_TOP_LEFT_COORDINATES = function (_a) {\n    var yDirection = _a.yDirection, xStart = _a.xStart, xEnd = _a.xEnd, yStart = _a.yStart;\n    if (yDirection) {\n        return { x: xStart / 2, y: yStart };\n    }\n    else {\n        return { x: xEnd, y: yStart };\n    }\n};\nvar POSITION_BOTTOM_LEFT_COORDINATES = function (_a) {\n    var yDirection = _a.yDirection, xStart = _a.xStart, yStart = _a.yStart, yEnd = _a.yEnd;\n    if (yDirection) {\n        return { x: xStart, y: !isNaN(yEnd) ? yEnd : yStart };\n    }\n    else {\n        return { x: xStart, y: yStart };\n    }\n};\nvar POSITION_TOP_RIGHT_COORDINATES = function (_a) {\n    var yDirection = _a.yDirection, xEnd = _a.xEnd, yStart = _a.yStart, yEnd = _a.yEnd;\n    if (yDirection) {\n        return { x: xEnd, y: yStart };\n    }\n    else {\n        return { x: xEnd, y: !isNaN(yEnd) ? yEnd : yStart };\n    }\n};\nvar POSITION_BOTTOM_RIGHT_COORDINATES = function (_a) {\n    var yDirection = _a.yDirection, xStart = _a.xStart, xEnd = _a.xEnd, yStart = _a.yStart, yEnd = _a.yEnd;\n    if (yDirection) {\n        return { x: xEnd, y: !isNaN(yEnd) ? yEnd : yStart };\n    }\n    else {\n        return { x: xStart, y: !isNaN(yEnd) ? yEnd : yStart };\n    }\n};\nexport var labeldDirectionHandling = {\n    top: { c: POSITION_TOP_COORDINATES },\n    bottom: { c: POSITION_BOTTOM_COORDINATES },\n    left: { c: POSITION_LEFT_COORDINATES },\n    right: { c: POSITION_RIGHT_COORDINATES },\n    topLeft: { c: POSITION_TOP_LEFT_COORDINATES },\n    topRight: { c: POSITION_TOP_RIGHT_COORDINATES },\n    bottomLeft: { c: POSITION_BOTTOM_LEFT_COORDINATES },\n    bottomRight: { c: POSITION_BOTTOM_RIGHT_COORDINATES },\n    inside: { c: POSITION_INSIDE_COORDINATES },\n    insideLeft: { c: POSITION_LEFT_COORDINATES },\n    insideRight: { c: POSITION_RIGHT_COORDINATES },\n    insideTop: { c: POSITION_TOP_COORDINATES },\n    insideBottom: { c: POSITION_BOTTOM_COORDINATES },\n    insideTopLeft: { c: POSITION_TOP_LEFT_COORDINATES },\n    insideBottomLeft: { c: POSITION_BOTTOM_LEFT_COORDINATES },\n    insideTopRight: { c: POSITION_TOP_RIGHT_COORDINATES },\n    insideBottomRight: { c: POSITION_BOTTOM_RIGHT_COORDINATES },\n};\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Shape } from './shape';\nimport { BBox } from '../bbox';\nimport { RedrawType, SceneChangeDetection } from '../node';\nvar Range = /** @class */ (function (_super) {\n    __extends(Range, _super);\n    function Range() {\n        var _this = _super.call(this) || this;\n        _this.x1 = 0;\n        _this.y1 = 0;\n        _this.x2 = 0;\n        _this.y2 = 0;\n        _this.startLine = false;\n        _this.endLine = false;\n        _this.isRange = false;\n        _this.restoreOwnStyles();\n        return _this;\n    }\n    Range.prototype.computeBBox = function () {\n        return new BBox(this.x1, this.y1, this.x2 - this.x1, this.y2 - this.y1);\n    };\n    Range.prototype.isPointInPath = function (_x, _y) {\n        return false;\n    };\n    Range.prototype.render = function (renderCtx) {\n        var _a;\n        var ctx = renderCtx.ctx, forceRender = renderCtx.forceRender, stats = renderCtx.stats;\n        if (this.dirty === RedrawType.NONE && !forceRender) {\n            if (stats)\n                stats.nodesSkipped += this.nodeCount.count;\n            return;\n        }\n        this.computeTransformMatrix();\n        this.matrix.toContext(ctx);\n        var _b = this, x1 = _b.x1, y1 = _b.y1, x2 = _b.x2, y2 = _b.y2;\n        x1 = this.align(x1);\n        y1 = this.align(y1);\n        x2 = this.align(x2);\n        y2 = this.align(y2);\n        var _c = this, fill = _c.fill, opacity = _c.opacity, isRange = _c.isRange;\n        var fillActive = !!(isRange && fill);\n        if (fillActive) {\n            var fillOpacity = this.fillOpacity;\n            ctx.fillStyle = fill;\n            ctx.globalAlpha = opacity * fillOpacity;\n            ctx.beginPath();\n            ctx.moveTo(x1, y1);\n            ctx.lineTo(x2, y1);\n            ctx.lineTo(x2, y2);\n            ctx.lineTo(x1, y2);\n            ctx.closePath();\n            ctx.fill();\n        }\n        var _d = this, stroke = _d.stroke, strokeWidth = _d.strokeWidth, startLine = _d.startLine, endLine = _d.endLine;\n        var strokeActive = !!((startLine || endLine) && stroke && strokeWidth);\n        if (strokeActive) {\n            var _e = this, strokeOpacity = _e.strokeOpacity, lineDash = _e.lineDash, lineDashOffset = _e.lineDashOffset, lineCap = _e.lineCap, lineJoin = _e.lineJoin;\n            ctx.strokeStyle = stroke;\n            ctx.globalAlpha = opacity * strokeOpacity;\n            ctx.lineWidth = strokeWidth;\n            if (lineDash) {\n                ctx.setLineDash(lineDash);\n            }\n            if (lineDashOffset) {\n                ctx.lineDashOffset = lineDashOffset;\n            }\n            if (lineCap) {\n                ctx.lineCap = lineCap;\n            }\n            if (lineJoin) {\n                ctx.lineJoin = lineJoin;\n            }\n            ctx.beginPath();\n            if (startLine) {\n                ctx.moveTo(x1, y1);\n                ctx.lineTo(x2, y1);\n            }\n            if (endLine) {\n                ctx.moveTo(x2, y2);\n                ctx.lineTo(x1, y2);\n            }\n            ctx.stroke();\n        }\n        (_a = this.fillShadow) === null || _a === void 0 ? void 0 : _a.markClean();\n        _super.prototype.render.call(this, renderCtx);\n    };\n    Range.className = 'Range';\n    Range.defaultStyles = __assign(__assign({}, Shape.defaultStyles), { strokeWidth: 1 });\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR })\n    ], Range.prototype, \"x1\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR })\n    ], Range.prototype, \"y1\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR })\n    ], Range.prototype, \"x2\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR })\n    ], Range.prototype, \"y2\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR })\n    ], Range.prototype, \"startLine\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR })\n    ], Range.prototype, \"endLine\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MINOR })\n    ], Range.prototype, \"isRange\", void 0);\n    return Range;\n}(Shape));\nexport { Range };\n", "var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { PointerEvents } from '../../scene/node';\nimport { Group } from '../../scene/group';\nimport { Text } from '../../scene/shape/text';\nimport { ContinuousScale } from '../../scale/continuousScale';\nimport { createId } from '../../util/id';\nimport { ChartAxisDirection } from '../chartAxisDirection';\nimport { labeldDirectionHandling, POSITION_TOP_COORDINATES, calculateLabelTranslation, } from './crossLineLabelPosition';\nimport { checkDatum } from '../../util/value';\nimport { Layers } from '../layers';\nimport { Range } from '../../scene/shape/range';\nimport { OPT_ARRAY, OPT_BOOLEAN, OPT_NUMBER, OPT_STRING, OPT_COLOR_STRING, STRING, Validate, OPT_LINE_DASH, OPT_FONT_STYLE, OPT_FONT_WEIGHT, NUMBER, OPTIONAL, predicateWithMessage, } from '../../util/validation';\nimport { calculateLabelRotation } from '../label';\nvar CROSSLINE_LABEL_POSITIONS = [\n    'top',\n    'left',\n    'right',\n    'bottom',\n    'topLeft',\n    'topRight',\n    'bottomLeft',\n    'bottomRight',\n    'inside',\n    'insideLeft',\n    'insideRight',\n    'insideTop',\n    'insideBottom',\n    'insideTopLeft',\n    'insideBottomLeft',\n    'insideTopRight',\n    'insideBottomRight',\n];\nvar OPT_CROSSLINE_LABEL_POSITION = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, function (v) { return CROSSLINE_LABEL_POSITIONS.includes(v); }); }, \"expecting an optional crossLine label position keyword such as 'topLeft', 'topRight' or 'inside'\");\nvar OPT_CROSSLINE_TYPE = predicateWithMessage(function (v, ctx) { return OPTIONAL(v, ctx, function (v) { return v === 'range' || v === 'line'; }); }, \"expecting a crossLine type keyword such as 'range' or 'line'\");\nvar CrossLineLabel = /** @class */ (function () {\n    function CrossLineLabel() {\n        this.enabled = undefined;\n        this.text = undefined;\n        this.fontStyle = undefined;\n        this.fontWeight = undefined;\n        this.fontSize = 14;\n        this.fontFamily = 'Verdana, sans-serif';\n        /**\n         * The padding between the label and the line.\n         */\n        this.padding = 5;\n        /**\n         * The color of the labels.\n         */\n        this.color = 'rgba(87, 87, 87, 1)';\n        this.position = undefined;\n        this.rotation = undefined;\n        this.parallel = undefined;\n    }\n    __decorate([\n        Validate(OPT_BOOLEAN)\n    ], CrossLineLabel.prototype, \"enabled\", void 0);\n    __decorate([\n        Validate(OPT_STRING)\n    ], CrossLineLabel.prototype, \"text\", void 0);\n    __decorate([\n        Validate(OPT_FONT_STYLE)\n    ], CrossLineLabel.prototype, \"fontStyle\", void 0);\n    __decorate([\n        Validate(OPT_FONT_WEIGHT)\n    ], CrossLineLabel.prototype, \"fontWeight\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], CrossLineLabel.prototype, \"fontSize\", void 0);\n    __decorate([\n        Validate(STRING)\n    ], CrossLineLabel.prototype, \"fontFamily\", void 0);\n    __decorate([\n        Validate(NUMBER(0))\n    ], CrossLineLabel.prototype, \"padding\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], CrossLineLabel.prototype, \"color\", void 0);\n    __decorate([\n        Validate(OPT_CROSSLINE_LABEL_POSITION)\n    ], CrossLineLabel.prototype, \"position\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(-360, 360))\n    ], CrossLineLabel.prototype, \"rotation\", void 0);\n    __decorate([\n        Validate(OPT_BOOLEAN)\n    ], CrossLineLabel.prototype, \"parallel\", void 0);\n    return CrossLineLabel;\n}());\nvar CrossLine = /** @class */ (function () {\n    function CrossLine() {\n        this.id = createId(this);\n        this.enabled = undefined;\n        this.type = undefined;\n        this.range = undefined;\n        this.value = undefined;\n        this.fill = undefined;\n        this.fillOpacity = undefined;\n        this.stroke = undefined;\n        this.strokeWidth = undefined;\n        this.strokeOpacity = undefined;\n        this.lineDash = undefined;\n        this.label = new CrossLineLabel();\n        this.scale = undefined;\n        this.clippedRange = [-Infinity, Infinity];\n        this.gridLength = 0;\n        this.sideFlag = -1;\n        this.parallelFlipRotation = 0;\n        this.regularFlipRotation = 0;\n        this.direction = ChartAxisDirection.X;\n        this.group = new Group({ name: \"\" + this.id, layer: true, zIndex: CrossLine.LINE_LAYER_ZINDEX });\n        this.crossLineRange = new Range();\n        this.crossLineLabel = new Text();\n        this.labelPoint = undefined;\n        this.data = [];\n        this.startLine = false;\n        this.endLine = false;\n        this.isRange = false;\n        var _a = this, group = _a.group, crossLineRange = _a.crossLineRange, crossLineLabel = _a.crossLineLabel;\n        group.append([crossLineRange, crossLineLabel]);\n        crossLineRange.pointerEvents = PointerEvents.None;\n    }\n    CrossLine.prototype.update = function (visible) {\n        if (!this.enabled) {\n            return;\n        }\n        this.group.visible = visible;\n        if (!visible) {\n            return;\n        }\n        var dataCreated = this.createNodeData();\n        if (!dataCreated) {\n            this.group.visible = false;\n            return;\n        }\n        this.updateNodes();\n        this.group.zIndex = this.getZIndex(this.isRange);\n    };\n    CrossLine.prototype.updateNodes = function () {\n        this.updateRangeNode();\n        if (this.label.enabled) {\n            this.updateLabel();\n            this.positionLabel();\n        }\n    };\n    CrossLine.prototype.createNodeData = function () {\n        var _a, _b, _c;\n        var _d, _e;\n        var _f = this, scale = _f.scale, gridLength = _f.gridLength, sideFlag = _f.sideFlag, direction = _f.direction, _g = _f.label.position, position = _g === void 0 ? 'top' : _g, clippedRange = _f.clippedRange, _h = _f.strokeWidth, strokeWidth = _h === void 0 ? 0 : _h;\n        if (!scale) {\n            return false;\n        }\n        var bandwidth = (_d = scale.bandwidth) !== null && _d !== void 0 ? _d : 0;\n        var clippedRangeClamper = function (x) {\n            return Math.max(Math.min.apply(Math, __spread(clippedRange)), Math.min(Math.max.apply(Math, __spread(clippedRange)), x));\n        };\n        var _j = __read([0, sideFlag * gridLength], 2), xStart = _j[0], xEnd = _j[1];\n        var _k = __read(this.getRange(), 2), yStart = _k[0], yEnd = _k[1];\n        var _l = __read([\n            Number(scale.convert(yStart, { strict: false })),\n            scale.convert(yEnd, { strict: false }) + bandwidth,\n        ], 2), clampedYStart = _l[0], clampedYEnd = _l[1];\n        clampedYStart = clippedRangeClamper(clampedYStart);\n        clampedYEnd = clippedRangeClamper(clampedYEnd);\n        _a = __read([Number(scale.convert(yStart)), scale.convert(yEnd) + bandwidth], 2), yStart = _a[0], yEnd = _a[1];\n        var validRange = !isNaN(clampedYStart) &&\n            !isNaN(clampedYEnd) &&\n            (yStart === clampedYStart || yEnd === clampedYEnd || clampedYStart !== clampedYEnd) &&\n            Math.abs(clampedYEnd - clampedYStart) > 0;\n        if (validRange) {\n            var reverse = clampedYStart !== Math.min(clampedYStart, clampedYEnd);\n            if (reverse) {\n                _b = __read([\n                    Math.min(clampedYStart, clampedYEnd),\n                    Math.max(clampedYStart, clampedYEnd),\n                ], 2), clampedYStart = _b[0], clampedYEnd = _b[1];\n                _c = __read([yEnd, yStart], 2), yStart = _c[0], yEnd = _c[1];\n            }\n        }\n        this.isRange = validRange;\n        this.startLine = !isNaN(yStart) && strokeWidth > 0 && yStart === clampedYStart;\n        this.endLine = !isNaN(yEnd) && strokeWidth > 0 && yEnd === clampedYEnd;\n        if (!validRange && !this.startLine && !this.endLine) {\n            return false;\n        }\n        this.data = [clampedYStart, clampedYEnd];\n        if (this.label.enabled) {\n            var yDirection = direction === ChartAxisDirection.Y;\n            var _m = ((_e = labeldDirectionHandling[position]) !== null && _e !== void 0 ? _e : {}).c, c = _m === void 0 ? POSITION_TOP_COORDINATES : _m;\n            var _o = c({ yDirection: yDirection, xStart: xStart, xEnd: xEnd, yStart: clampedYStart, yEnd: clampedYEnd }), labelX = _o.x, labelY = _o.y;\n            this.labelPoint = {\n                x: labelX,\n                y: labelY,\n            };\n        }\n        return true;\n    };\n    CrossLine.prototype.updateRangeNode = function () {\n        var _a;\n        var _b = this, crossLineRange = _b.crossLineRange, sideFlag = _b.sideFlag, gridLength = _b.gridLength, data = _b.data, startLine = _b.startLine, endLine = _b.endLine, isRange = _b.isRange, fill = _b.fill, fillOpacity = _b.fillOpacity, stroke = _b.stroke, strokeWidth = _b.strokeWidth, lineDash = _b.lineDash;\n        crossLineRange.x1 = 0;\n        crossLineRange.x2 = sideFlag * gridLength;\n        crossLineRange.y1 = data[0];\n        crossLineRange.y2 = data[1];\n        crossLineRange.startLine = startLine;\n        crossLineRange.endLine = endLine;\n        crossLineRange.isRange = isRange;\n        crossLineRange.fill = fill;\n        crossLineRange.fillOpacity = fillOpacity !== null && fillOpacity !== void 0 ? fillOpacity : 1;\n        crossLineRange.stroke = stroke;\n        crossLineRange.strokeWidth = strokeWidth !== null && strokeWidth !== void 0 ? strokeWidth : 1;\n        crossLineRange.strokeOpacity = (_a = this.strokeOpacity) !== null && _a !== void 0 ? _a : 1;\n        crossLineRange.lineDash = lineDash;\n    };\n    CrossLine.prototype.updateLabel = function () {\n        var _a = this, crossLineLabel = _a.crossLineLabel, label = _a.label;\n        if (!label.text) {\n            return;\n        }\n        crossLineLabel.fontStyle = label.fontStyle;\n        crossLineLabel.fontWeight = label.fontWeight;\n        crossLineLabel.fontSize = label.fontSize;\n        crossLineLabel.fontFamily = label.fontFamily;\n        crossLineLabel.fill = label.color;\n        crossLineLabel.text = label.text;\n    };\n    CrossLine.prototype.positionLabel = function () {\n        var _a = this, crossLineLabel = _a.crossLineLabel, _b = _a.labelPoint, _c = _b === void 0 ? {} : _b, _d = _c.x, x = _d === void 0 ? undefined : _d, _e = _c.y, y = _e === void 0 ? undefined : _e, _f = _a.label, parallel = _f.parallel, rotation = _f.rotation, _g = _f.position, position = _g === void 0 ? 'top' : _g, _h = _f.padding, padding = _h === void 0 ? 0 : _h, direction = _a.direction, parallelFlipRotation = _a.parallelFlipRotation, regularFlipRotation = _a.regularFlipRotation;\n        if (x === undefined || y === undefined) {\n            return;\n        }\n        var _j = calculateLabelRotation({\n            rotation: rotation,\n            parallel: parallel,\n            regularFlipRotation: regularFlipRotation,\n            parallelFlipRotation: parallelFlipRotation,\n        }), autoRotation = _j.autoRotation, labelRotation = _j.labelRotation;\n        crossLineLabel.rotation = autoRotation + labelRotation;\n        crossLineLabel.textBaseline = 'middle';\n        crossLineLabel.textAlign = 'center';\n        var bbox = this.computeLabelBBox();\n        if (!bbox) {\n            return;\n        }\n        var yDirection = direction === ChartAxisDirection.Y;\n        var _k = calculateLabelTranslation({ yDirection: yDirection, padding: padding, position: position, bbox: bbox }), xTranslation = _k.xTranslation, yTranslation = _k.yTranslation;\n        crossLineLabel.translationX = x + xTranslation;\n        crossLineLabel.translationY = y + yTranslation;\n    };\n    CrossLine.prototype.getZIndex = function (isRange) {\n        if (isRange === void 0) { isRange = false; }\n        if (isRange) {\n            return CrossLine.RANGE_LAYER_ZINDEX;\n        }\n        return CrossLine.LINE_LAYER_ZINDEX;\n    };\n    CrossLine.prototype.getRange = function () {\n        var _a;\n        var _b = this, value = _b.value, range = _b.range, scale = _b.scale;\n        var isContinuous = scale instanceof ContinuousScale;\n        var _c = __read(range !== null && range !== void 0 ? range : [value, undefined], 2), start = _c[0], end = _c[1];\n        if (!isContinuous && end === undefined) {\n            end = start;\n        }\n        _a = __read([checkDatum(start, isContinuous), checkDatum(end, isContinuous)], 2), start = _a[0], end = _a[1];\n        if (isContinuous && start === end) {\n            end = undefined;\n        }\n        if (start === undefined && end !== undefined) {\n            start = end;\n            end = undefined;\n        }\n        return [start, end];\n    };\n    CrossLine.prototype.computeLabelBBox = function () {\n        return this.crossLineLabel.computeTransformedBBox();\n    };\n    CrossLine.prototype.calculatePadding = function (padding, seriesRect) {\n        var _a, _b, _c, _d, _e, _f;\n        var _g = this, isRange = _g.isRange, startLine = _g.startLine, endLine = _g.endLine;\n        if (!isRange && !startLine && !endLine) {\n            return;\n        }\n        var crossLineLabelBBox = this.computeLabelBBox();\n        var labelX = crossLineLabelBBox === null || crossLineLabelBBox === void 0 ? void 0 : crossLineLabelBBox.x;\n        var labelY = crossLineLabelBBox === null || crossLineLabelBBox === void 0 ? void 0 : crossLineLabelBBox.y;\n        if (labelX == undefined || labelY == undefined) {\n            return;\n        }\n        var labelWidth = (_a = crossLineLabelBBox === null || crossLineLabelBBox === void 0 ? void 0 : crossLineLabelBBox.width) !== null && _a !== void 0 ? _a : 0;\n        var labelHeight = (_b = crossLineLabelBBox === null || crossLineLabelBBox === void 0 ? void 0 : crossLineLabelBBox.height) !== null && _b !== void 0 ? _b : 0;\n        if (labelWidth > seriesRect.width || labelHeight > seriesRect.height) {\n            // If label is bigger than seriesRect, trying to pad is just going to cause\n            // layout instability.\n            return;\n        }\n        if (labelX + labelWidth >= seriesRect.x + seriesRect.width) {\n            var paddingRight = labelX + labelWidth - (seriesRect.x + seriesRect.width);\n            padding.right = ((_c = padding.right) !== null && _c !== void 0 ? _c : 0) >= paddingRight ? padding.right : paddingRight;\n        }\n        else if (labelX <= seriesRect.x) {\n            var paddingLeft = seriesRect.x - labelX;\n            padding.left = ((_d = padding.left) !== null && _d !== void 0 ? _d : 0) >= paddingLeft ? padding.left : paddingLeft;\n        }\n        if (labelY + labelHeight >= seriesRect.y + seriesRect.height) {\n            var paddingBottom = labelY + labelHeight - (seriesRect.y + seriesRect.height);\n            padding.bottom = ((_e = padding.bottom) !== null && _e !== void 0 ? _e : 0) >= paddingBottom ? padding.bottom : paddingBottom;\n        }\n        else if (labelY <= seriesRect.y) {\n            var paddingTop = seriesRect.y - labelY;\n            padding.top = ((_f = padding.top) !== null && _f !== void 0 ? _f : 0) >= paddingTop ? padding.top : paddingTop;\n        }\n    };\n    CrossLine.LINE_LAYER_ZINDEX = Layers.SERIES_CROSSLINE_LINE_ZINDEX;\n    CrossLine.RANGE_LAYER_ZINDEX = Layers.SERIES_CROSSLINE_RANGE_ZINDEX;\n    CrossLine.className = 'CrossLine';\n    __decorate([\n        Validate(OPT_BOOLEAN)\n    ], CrossLine.prototype, \"enabled\", void 0);\n    __decorate([\n        Validate(OPT_CROSSLINE_TYPE)\n    ], CrossLine.prototype, \"type\", void 0);\n    __decorate([\n        Validate(OPT_ARRAY(2))\n    ], CrossLine.prototype, \"range\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], CrossLine.prototype, \"fill\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0, 1))\n    ], CrossLine.prototype, \"fillOpacity\", void 0);\n    __decorate([\n        Validate(OPT_COLOR_STRING)\n    ], CrossLine.prototype, \"stroke\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER())\n    ], CrossLine.prototype, \"strokeWidth\", void 0);\n    __decorate([\n        Validate(OPT_NUMBER(0, 1))\n    ], CrossLine.prototype, \"strokeOpacity\", void 0);\n    __decorate([\n        Validate(OPT_LINE_DASH)\n    ], CrossLine.prototype, \"lineDash\", void 0);\n    return CrossLine;\n}());\nexport { CrossLine };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Node, RedrawType, SceneChangeDetection } from './node';\nvar Image = /** @class */ (function (_super) {\n    __extends(Image, _super);\n    function Image(sourceImage) {\n        var _this = _super.call(this) || this;\n        _this.x = 0;\n        _this.y = 0;\n        _this.width = 0;\n        _this.height = 0;\n        _this.opacity = 1;\n        _this.sourceImage = sourceImage;\n        return _this;\n    }\n    Image.prototype.render = function (renderCtx) {\n        var ctx = renderCtx.ctx, forceRender = renderCtx.forceRender, stats = renderCtx.stats;\n        if (this.dirty === RedrawType.NONE && !forceRender) {\n            if (stats)\n                stats.nodesSkipped++;\n            return;\n        }\n        this.computeTransformMatrix();\n        this.matrix.toContext(ctx);\n        var image = this.sourceImage;\n        ctx.globalAlpha = this.opacity;\n        ctx.drawImage(image, 0, 0, image.width, image.height, this.x, this.y, this.width, this.height);\n        _super.prototype.render.call(this, renderCtx);\n    };\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], Image.prototype, \"x\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], Image.prototype, \"y\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], Image.prototype, \"width\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], Image.prototype, \"height\", void 0);\n    __decorate([\n        SceneChangeDetection({ redraw: RedrawType.MAJOR })\n    ], Image.prototype, \"opacity\", void 0);\n    return Image;\n}(Node));\nexport { Image };\n", "import { Image } from '../../scene/image';\nvar BackgroundImage = /** @class */ (function () {\n    function BackgroundImage() {\n        var _this = this;\n        this._image = document.createElement('img');\n        this.loadedSynchronously = true;\n        this.left = undefined;\n        this.top = undefined;\n        this.right = undefined;\n        this.bottom = undefined;\n        this.width = undefined;\n        this.height = undefined;\n        this.opacity = 1;\n        this.containerWidth = 0;\n        this.containerHeight = 0;\n        this.onload = undefined;\n        this.onImageLoad = function () {\n            if (_this.loadedSynchronously) {\n                return;\n            }\n            _this.node.visible = false; // Ensure marked dirty.\n            _this.performLayout(_this.containerWidth, _this.containerHeight);\n            if (_this.onload) {\n                _this.onload();\n            }\n        };\n        this.node = new Image(this._image);\n        this._image.onload = this.onImageLoad;\n    }\n    Object.defineProperty(BackgroundImage.prototype, \"url\", {\n        get: function () {\n            return this._image.src;\n        },\n        set: function (value) {\n            this._image.src = value;\n            this.loadedSynchronously = this.complete;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BackgroundImage.prototype, \"complete\", {\n        get: function () {\n            // In tests image is nodejs-canvas Image, which doesn't report its status in the 'complete' method correctly.\n            return this._image.width > 0 && this._image.height > 0;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BackgroundImage.prototype.performLayout = function (containerWidth, containerHeight) {\n        this.containerWidth = containerWidth;\n        this.containerHeight = containerHeight;\n        if (!this.complete) {\n            this.node.visible = false;\n            return;\n        }\n        var position = this.calculatePosition(this._image.width, this._image.height);\n        Object.assign(this.node, position);\n        this.node.visible = true;\n        this.node.opacity = this.opacity;\n    };\n    BackgroundImage.prototype.calculatePosition = function (naturalWidth, naturalHeight) {\n        var left = this.left;\n        var right = this.right;\n        var width = this.width;\n        var top = this.top;\n        var bottom = this.bottom;\n        var height = this.height;\n        if (left != null) {\n            if (right != null) {\n                width = this.containerWidth - left - right;\n            }\n            else if (width != null) {\n                right = this.containerWidth - left + width;\n            }\n        }\n        else if (right != null) {\n            if (width != null) {\n                left = this.containerWidth - right - width;\n            }\n        }\n        if (top != null) {\n            if (bottom != null) {\n                height = this.containerHeight - bottom - top;\n            }\n            else if (height != null) {\n                bottom = this.containerHeight - top - height;\n            }\n        }\n        else if (bottom != null) {\n            if (height != null) {\n                top = this.containerHeight - bottom - height;\n            }\n        }\n        // If width and height still undetermined, derive them from natural size.\n        if (width == null) {\n            if (height == null) {\n                width = naturalWidth;\n                height = naturalHeight;\n            }\n            else {\n                width = Math.ceil((naturalWidth * height) / naturalHeight);\n            }\n        }\n        else if (height == null) {\n            height = Math.ceil((naturalHeight * width) / naturalWidth);\n        }\n        if (left == null) {\n            if (right == null) {\n                left = Math.floor((this.containerWidth - width) / 2);\n            }\n            else {\n                left = this.containerWidth - right - width;\n            }\n        }\n        if (top == null) {\n            if (bottom == null) {\n                top = Math.floor((this.containerHeight - height) / 2);\n            }\n            else {\n                top = this.containerHeight - height - bottom;\n            }\n        }\n        return { x: left, y: top, width: width, height: height };\n    };\n    return BackgroundImage;\n}());\nexport { BackgroundImage };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nimport { CartesianChart } from './cartesianChart';\nimport { PolarChart } from './polarChart';\nimport { HierarchyChart } from './hierarchyChart';\nimport { Caption } from '../caption';\nimport { getSeries, initialiseSeriesModules, seriesDefaults } from './series/seriesTypes';\nimport { PieTitle, DoughnutInnerLabel, DoughnutInnerCircle } from './series/polar/pieSeries';\nimport { LogAxis } from './axis/logAxis';\nimport { NumberAxis } from './axis/numberAxis';\nimport { CategoryAxis } from './axis/categoryAxis';\nimport { GroupedCategoryAxis } from './axis/groupedCategoryAxis';\nimport { TimeAxis } from './axis/timeAxis';\nimport { ChartUpdateType } from './chartUpdateType';\nimport { DropShadow } from '../scene/dropShadow';\nimport { jsonDiff, jsonMerge, jsonApply } from '../util/json';\nimport { prepareOptions, isAgCartesianChartOptions, isAgHierarchyChartOptions, isAgPolarChartOptions, optionsType, noDataCloneMergeOptions, } from './mapping/prepare';\nimport { CrossLine } from './crossline/crossLine';\nimport { windowValue } from '../util/window';\nimport { Logger } from '../util/logger';\nimport { BackgroundImage } from './background/backgroundImage';\n// Deliberately imported via `module-support` so that internal module registration happens.\nimport { REGISTERED_MODULES } from '../module-support';\nfunction chartType(options) {\n    if (isAgCartesianChartOptions(options)) {\n        return 'cartesian';\n    }\n    else if (isAgPolarChartOptions(options)) {\n        return 'polar';\n    }\n    else if (isAgHierarchyChartOptions(options)) {\n        return 'hierarchy';\n    }\n    throw new Error(\"AG Chart - unknown type of chart for options with type: \" + options.type);\n}\n/**\n * Factory for creating and updating instances of AgChartInstance.\n *\n * @docsInterface\n */\nvar AgChart = /** @class */ (function () {\n    function AgChart() {\n    }\n    /**\n     * Create a new `AgChartInstance` based upon the given configuration options.\n     */\n    AgChart.create = function (options) {\n        return AgChartInternal.createOrUpdate(options);\n    };\n    /**\n     * Update an existing `AgChartInstance`. Options provided should be complete and not\n     * partial.\n     * <br/>\n     * <br/>\n     * **NOTE**: As each call could trigger a chart redraw, multiple calls to update options in\n     * quick succession could result in undesirable flickering, so callers should batch up and/or\n     * debounce changes to avoid unintended partial update renderings.\n     */\n    AgChart.update = function (chart, options) {\n        if (!AgChartInstanceProxy.isInstance(chart)) {\n            throw new Error('AG Charts - invalid chart reference passed');\n        }\n        AgChartInternal.createOrUpdate(options, chart);\n    };\n    /**\n     * Update an existing `AgChartInstance` by applying a partial set of option changes.\n     * <br/>\n     * <br/>\n     * **NOTE**: As each call could trigger a chart redraw, each individual delta options update\n     * should leave the chart in a valid options state. Also, multiple calls to update options in\n     * quick succession could result in undesirable flickering, so callers should batch up and/or\n     * debounce changes to avoid unintended partial update renderings.\n     */\n    AgChart.updateDelta = function (chart, deltaOptions) {\n        if (!AgChartInstanceProxy.isInstance(chart)) {\n            throw new Error('AG Charts - invalid chart reference passed');\n        }\n        return AgChartInternal.updateUserDelta(chart, deltaOptions);\n    };\n    /**\n     * Starts a browser-based image download for the given `AgChartInstance`.\n     */\n    AgChart.download = function (chart, options) {\n        if (!(chart instanceof AgChartInstanceProxy)) {\n            throw new Error('AG Charts - invalid chart reference passed');\n        }\n        return AgChartInternal.download(chart, options);\n    };\n    /**\n     * Returns a base64-encoded image data URL for the given `AgChartInstance`.\n     */\n    AgChart.getImageDataURL = function (chart, options) {\n        if (!(chart instanceof AgChartInstanceProxy)) {\n            throw new Error('AG Charts - invalid chart reference passed');\n        }\n        return AgChartInternal.getImageDataURL(chart, options);\n    };\n    return AgChart;\n}());\nexport { AgChart };\n/**\n * Proxy class, to allow library users to keep a stable reference to their chart, even if we need\n * to switch concrete class (e.g. when switching between CartesianChart vs. PolarChart).\n */\nvar AgChartInstanceProxy = /** @class */ (function () {\n    function AgChartInstanceProxy(chart) {\n        this.chart = chart;\n    }\n    AgChartInstanceProxy.isInstance = function (x) {\n        var _a, _b;\n        if (x instanceof AgChartInstanceProxy) {\n            // Simple case.\n            return true;\n        }\n        if (((_a = x.constructor) === null || _a === void 0 ? void 0 : _a.name) === 'AgChartInstanceProxy' && x.chart != null) {\n            // instanceof can fail if mixing bundles (e.g. grid all-modules vs. standalone).\n            return true;\n        }\n        var signatureProps = Object.keys((_b = x.constructor) === null || _b === void 0 ? void 0 : _b.prototype);\n        var heuristicTypeCheck = Object.keys(AgChartInstanceProxy.prototype).every(function (prop) {\n            return signatureProps.includes(prop);\n        });\n        if (heuristicTypeCheck && x.chart != null) {\n            // minimised code case - the constructor name is mangled but prototype names are not :P\n            return true;\n        }\n        return false;\n    };\n    AgChartInstanceProxy.prototype.getOptions = function () {\n        return this.chart.getOptions();\n    };\n    AgChartInstanceProxy.prototype.destroy = function () {\n        this.chart.destroy();\n    };\n    return AgChartInstanceProxy;\n}());\nvar AgChartInternal = /** @class */ (function () {\n    function AgChartInternal() {\n    }\n    AgChartInternal.createOrUpdate = function (userOptions, proxy) {\n        var _this = this;\n        debug('>>> createOrUpdate() user options', userOptions);\n        var mixinOpts = {};\n        if (AgChartInternal.DEBUG() === true) {\n            mixinOpts['debug'] = true;\n        }\n        var overrideDevicePixelRatio = userOptions.overrideDevicePixelRatio;\n        delete userOptions['overrideDevicePixelRatio'];\n        initialiseSeriesModules();\n        var processedOptions = prepareOptions(userOptions, mixinOpts, seriesDefaults);\n        var chart = proxy === null || proxy === void 0 ? void 0 : proxy.chart;\n        if (chart == null || chartType(userOptions) !== chartType(chart.processedOptions)) {\n            chart = AgChartInternal.createChartInstance(processedOptions, overrideDevicePixelRatio, chart);\n        }\n        if (proxy == null) {\n            proxy = new AgChartInstanceProxy(chart);\n        }\n        else {\n            proxy.chart = chart;\n        }\n        var chartToUpdate = chart;\n        chartToUpdate.queuedUserOptions.push(userOptions);\n        var dequeue = function () {\n            // If there are a lot of update calls, `requestFactoryUpdate()` may skip callbacks,\n            // so we need to remove all queue items up to the last successfully applied item.\n            var queuedOptionsIdx = chartToUpdate.queuedUserOptions.indexOf(userOptions);\n            chartToUpdate.queuedUserOptions.splice(0, queuedOptionsIdx);\n        };\n        chartToUpdate.requestFactoryUpdate(function () { return __awaiter(_this, void 0, void 0, function () {\n            var deltaOptions;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // Chart destroyed, skip processing.\n                        if (chartToUpdate.destroyed)\n                            return [2 /*return*/];\n                        deltaOptions = jsonDiff(chartToUpdate.processedOptions, processedOptions);\n                        if (deltaOptions == null) {\n                            dequeue();\n                            return [2 /*return*/];\n                        }\n                        return [4 /*yield*/, AgChartInternal.updateDelta(chartToUpdate, deltaOptions, userOptions)];\n                    case 1:\n                        _a.sent();\n                        dequeue();\n                        return [2 /*return*/];\n                }\n            });\n        }); });\n        return proxy;\n    };\n    AgChartInternal.updateUserDelta = function (proxy, deltaOptions) {\n        var _a;\n        var chart = proxy.chart, queuedUserOptions = proxy.chart.queuedUserOptions;\n        var lastUpdateOptions = (_a = queuedUserOptions[queuedUserOptions.length - 1]) !== null && _a !== void 0 ? _a : chart.userOptions;\n        var userOptions = jsonMerge([lastUpdateOptions, deltaOptions]);\n        debug('>>> updateUserDelta() user delta', deltaOptions);\n        debug('base options', lastUpdateOptions);\n        AgChartInternal.createOrUpdate(userOptions, proxy);\n    };\n    /**\n     * Returns the content of the current canvas as an image.\n     * @param opts The download options including `width` and `height` of the image as well as `fileName` and `fileFormat`.\n     */\n    AgChartInternal.download = function (proxy, opts) {\n        var _this = this;\n        var asyncDownload = function () { return __awaiter(_this, void 0, void 0, function () {\n            var maybeClone, chart;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, AgChartInternal.prepareResizedChart(proxy, opts)];\n                    case 1:\n                        maybeClone = _a.sent();\n                        chart = maybeClone.chart;\n                        chart.scene.download(opts === null || opts === void 0 ? void 0 : opts.fileName, opts === null || opts === void 0 ? void 0 : opts.fileFormat);\n                        if (maybeClone !== proxy) {\n                            maybeClone.destroy();\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n        asyncDownload();\n    };\n    AgChartInternal.getImageDataURL = function (proxy, opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var maybeClone, chart, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, AgChartInternal.prepareResizedChart(proxy, opts)];\n                    case 1:\n                        maybeClone = _a.sent();\n                        chart = maybeClone.chart;\n                        result = chart.scene.canvas.getDataURL(opts === null || opts === void 0 ? void 0 : opts.fileFormat);\n                        if (maybeClone !== proxy) {\n                            maybeClone.destroy();\n                        }\n                        return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    AgChartInternal.prepareResizedChart = function (proxy, opts) {\n        return __awaiter(this, void 0, void 0, function () {\n            var chart, _a, width, height, currentWidth, currentHeight, unchanged, options, clonedChart;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        chart = proxy.chart;\n                        _a = opts || {}, width = _a.width, height = _a.height;\n                        currentWidth = chart.width;\n                        currentHeight = chart.height;\n                        unchanged = (width === undefined && height === undefined) ||\n                            (chart.scene.canvas.pixelRatio === 1 && currentWidth === width && currentHeight === height);\n                        if (unchanged) {\n                            return [2 /*return*/, proxy];\n                        }\n                        width = width !== null && width !== void 0 ? width : currentWidth;\n                        height = height !== null && height !== void 0 ? height : currentHeight;\n                        options = __assign(__assign({}, chart.userOptions), { container: document.createElement('div'), width: width,\n                            height: height, autoSize: false, overrideDevicePixelRatio: 1 });\n                        clonedChart = AgChartInternal.createOrUpdate(options);\n                        return [4 /*yield*/, clonedChart.chart.waitForUpdate()];\n                    case 1:\n                        _b.sent();\n                        return [2 /*return*/, clonedChart];\n                }\n            });\n        });\n    };\n    AgChartInternal.createChartInstance = function (options, overrideDevicePixelRatio, oldChart) {\n        var transferableResource = oldChart === null || oldChart === void 0 ? void 0 : oldChart.destroy({ keepTransferableResources: true });\n        if (isAgCartesianChartOptions(options)) {\n            return new CartesianChart(document, overrideDevicePixelRatio, transferableResource);\n        }\n        else if (isAgHierarchyChartOptions(options)) {\n            return new HierarchyChart(document, overrideDevicePixelRatio, transferableResource);\n        }\n        else if (isAgPolarChartOptions(options)) {\n            return new PolarChart(document, overrideDevicePixelRatio, transferableResource);\n        }\n        throw new Error(\"AG Charts - couldn't apply configuration, check type of options: \" + options['type']);\n    };\n    AgChartInternal.updateDelta = function (chart, processedOptions, userOptions) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (processedOptions.type == null) {\n                            processedOptions = __assign(__assign({}, processedOptions), { type: chart.processedOptions.type || optionsType(processedOptions) });\n                        }\n                        return [4 /*yield*/, chart.awaitUpdateCompletion()];\n                    case 1:\n                        _a.sent();\n                        if (chart.destroyed)\n                            return [2 /*return*/];\n                        debug('applying delta', processedOptions);\n                        applyChartOptions(chart, processedOptions, userOptions);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AgChartInternal.DEBUG = function () { var _a; return (_a = windowValue('agChartsDebug')) !== null && _a !== void 0 ? _a : false; };\n    return AgChartInternal;\n}());\nfunction debug(message) {\n    var optionalParams = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        optionalParams[_i - 1] = arguments[_i];\n    }\n    if ([true, 'opts'].includes(AgChartInternal.DEBUG())) {\n        Logger.debug.apply(Logger, __spread([message], optionalParams));\n    }\n}\nfunction applyChartOptions(chart, processedOptions, userOptions) {\n    var _a, _b, _c, _d;\n    var completeOptions = jsonMerge([(_a = chart.processedOptions) !== null && _a !== void 0 ? _a : {}, processedOptions], noDataCloneMergeOptions);\n    var modulesChanged = applyModules(chart, completeOptions);\n    var skip = ['type', 'data', 'series', 'autoSize', 'listeners', 'theme', 'legend.listeners'];\n    if (isAgCartesianChartOptions(processedOptions)) {\n        // Append axes to defaults.\n        skip.push('axes');\n    }\n    else if (isAgPolarChartOptions(processedOptions) || isAgHierarchyChartOptions(processedOptions)) {\n        // Use defaults.\n    }\n    else {\n        throw new Error(\"AG Charts - couldn't apply configuration, check type of options and chart: \" + processedOptions['type']);\n    }\n    // Needs to be done before applying the series to detect if a seriesNode[Double]Click listener has been added\n    if (processedOptions.listeners) {\n        registerListeners(chart, processedOptions.listeners);\n    }\n    applyOptionValues(chart, processedOptions, { skip: skip });\n    var forceNodeDataRefresh = false;\n    if (processedOptions.series && processedOptions.series.length > 0) {\n        applySeries(chart, processedOptions);\n        forceNodeDataRefresh = true;\n    }\n    if (isAgCartesianChartOptions(processedOptions) && processedOptions.axes) {\n        var axesPresent = applyAxes(chart, processedOptions);\n        if (axesPresent) {\n            forceNodeDataRefresh = true;\n        }\n    }\n    var seriesOpts = processedOptions.series;\n    var seriesDataUpdate = !!processedOptions.data || (seriesOpts === null || seriesOpts === void 0 ? void 0 : seriesOpts.some(function (s) { return s.data != null; }));\n    var otherRefreshUpdate = processedOptions.legend || processedOptions.title || processedOptions.subtitle;\n    forceNodeDataRefresh = forceNodeDataRefresh || seriesDataUpdate || !!otherRefreshUpdate;\n    if (processedOptions.data) {\n        chart.data = processedOptions.data;\n    }\n    // Needs to be done last to avoid overrides by width/height properties.\n    if (processedOptions.autoSize != null) {\n        chart.autoSize = processedOptions.autoSize;\n    }\n    if ((_b = processedOptions.legend) === null || _b === void 0 ? void 0 : _b.listeners) {\n        Object.assign(chart.legend.listeners, (_c = processedOptions.legend.listeners) !== null && _c !== void 0 ? _c : {});\n    }\n    if (processedOptions.listeners) {\n        chart.updateAllSeriesListeners();\n    }\n    chart.processedOptions = completeOptions;\n    chart.userOptions = jsonMerge([(_d = chart.userOptions) !== null && _d !== void 0 ? _d : {}, userOptions], noDataCloneMergeOptions);\n    var majorChange = forceNodeDataRefresh || modulesChanged;\n    var updateType = majorChange ? ChartUpdateType.PROCESS_DATA : ChartUpdateType.PERFORM_LAYOUT;\n    debug('chart update type', { updateType: ChartUpdateType[updateType] });\n    chart.update(updateType, { forceNodeDataRefresh: forceNodeDataRefresh });\n}\nfunction applyModules(chart, options) {\n    var e_1, _a;\n    var matchingChartType = function (module) {\n        return ((chart instanceof CartesianChart && module.chartTypes.includes('cartesian')) ||\n            (chart instanceof PolarChart && module.chartTypes.includes('polar')) ||\n            (chart instanceof HierarchyChart && module.chartTypes.includes('hierarchy')));\n    };\n    var modulesChanged = false;\n    var rootModules = REGISTERED_MODULES.filter(function (m) { return m.type === 'root'; });\n    try {\n        for (var rootModules_1 = __values(rootModules), rootModules_1_1 = rootModules_1.next(); !rootModules_1_1.done; rootModules_1_1 = rootModules_1.next()) {\n            var next = rootModules_1_1.value;\n            var shouldBeEnabled = matchingChartType(next) && options[next.optionsKey] != null;\n            var isEnabled = chart.isModuleEnabled(next);\n            if (shouldBeEnabled === isEnabled)\n                continue;\n            modulesChanged = true;\n            if (shouldBeEnabled) {\n                chart.addModule(next);\n            }\n            else {\n                chart.removeModule(next);\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (rootModules_1_1 && !rootModules_1_1.done && (_a = rootModules_1.return)) _a.call(rootModules_1);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return modulesChanged;\n}\nfunction applySeries(chart, options) {\n    var optSeries = options.series;\n    if (!optSeries) {\n        return;\n    }\n    var matchingTypes = chart.series.length === optSeries.length && chart.series.every(function (s, i) { var _a; return s.type === ((_a = optSeries[i]) === null || _a === void 0 ? void 0 : _a.type); });\n    // Try to optimise series updates if series count and types didn't change.\n    if (matchingTypes) {\n        chart.series.forEach(function (s, i) {\n            var _a, _b;\n            var previousOpts = ((_b = (_a = chart.processedOptions) === null || _a === void 0 ? void 0 : _a.series) === null || _b === void 0 ? void 0 : _b[i]) || {};\n            var seriesDiff = jsonDiff(previousOpts, optSeries[i] || {});\n            if (!seriesDiff) {\n                return;\n            }\n            debug(\"applying series diff idx \" + i, seriesDiff);\n            applySeriesValues(s, seriesDiff, { path: \"series[\" + i + \"]\", index: i });\n            s.markNodeDataDirty();\n        });\n        return;\n    }\n    chart.series = createSeries(optSeries);\n}\nfunction applyAxes(chart, options) {\n    var optAxes = options.axes;\n    if (!optAxes) {\n        return false;\n    }\n    var matchingTypes = chart.axes.length === optAxes.length && chart.axes.every(function (a, i) { return a.type === optAxes[i].type; });\n    // Try to optimise series updates if series count and types didn't change.\n    if (matchingTypes) {\n        var oldOpts_1 = chart.processedOptions;\n        if (isAgCartesianChartOptions(oldOpts_1)) {\n            chart.axes.forEach(function (a, i) {\n                var _a;\n                var previousOpts = ((_a = oldOpts_1.axes) === null || _a === void 0 ? void 0 : _a[i]) || {};\n                var axisDiff = jsonDiff(previousOpts, optAxes[i]);\n                debug(\"applying axis diff idx \" + i, axisDiff);\n                var path = \"axes[\" + i + \"]\";\n                var skip = ['axes[].type'];\n                applyOptionValues(a, axisDiff, { path: path, skip: skip });\n            });\n            return true;\n        }\n    }\n    chart.axes = createAxis(chart, optAxes);\n    return true;\n}\nfunction createSeries(options) {\n    var e_2, _a;\n    var series = [];\n    var index = 0;\n    try {\n        for (var _b = __values(options || []), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var seriesOptions = _c.value;\n            var path = \"series[\" + index++ + \"]\";\n            var seriesInstance = getSeries(seriesOptions.type);\n            applySeriesValues(seriesInstance, seriesOptions, { path: path, index: index });\n            series.push(seriesInstance);\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return series;\n}\nfunction createAxis(chart, options) {\n    var e_3, _a;\n    var axes = [];\n    var skip = ['axes[].type'];\n    var moduleContext = chart.getModuleContext();\n    var index = 0;\n    try {\n        for (var _b = __values(options || []), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var axisOptions = _c.value;\n            var axis = void 0;\n            switch (axisOptions.type) {\n                case 'number':\n                    axis = new NumberAxis(moduleContext);\n                    break;\n                case LogAxis.type:\n                    axis = new LogAxis(moduleContext);\n                    break;\n                case CategoryAxis.type:\n                    axis = new CategoryAxis(moduleContext);\n                    break;\n                case GroupedCategoryAxis.type:\n                    axis = new GroupedCategoryAxis(moduleContext);\n                    break;\n                case TimeAxis.type:\n                    axis = new TimeAxis(moduleContext);\n                    break;\n                default:\n                    throw new Error('AG Charts - unknown axis type: ' + axisOptions['type']);\n            }\n            var path = \"axes[\" + index++ + \"]\";\n            applyAxisModules(axis, axisOptions);\n            applyOptionValues(axis, axisOptions, { path: path, skip: skip });\n            axes.push(axis);\n        }\n    }\n    catch (e_3_1) { e_3 = { error: e_3_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_3) throw e_3.error; }\n    }\n    return axes;\n}\nfunction applyAxisModules(axis, options) {\n    var e_4, _a;\n    var modulesChanged = false;\n    var rootModules = REGISTERED_MODULES.filter(function (m) { return m.type === 'axis'; });\n    try {\n        for (var rootModules_2 = __values(rootModules), rootModules_2_1 = rootModules_2.next(); !rootModules_2_1.done; rootModules_2_1 = rootModules_2.next()) {\n            var next = rootModules_2_1.value;\n            var shouldBeEnabled = options[next.optionsKey] != null;\n            var isEnabled = axis.isModuleEnabled(next);\n            if (shouldBeEnabled === isEnabled)\n                continue;\n            modulesChanged = true;\n            if (shouldBeEnabled) {\n                axis.addModule(next);\n            }\n            else {\n                axis.removeModule(next);\n            }\n        }\n    }\n    catch (e_4_1) { e_4 = { error: e_4_1 }; }\n    finally {\n        try {\n            if (rootModules_2_1 && !rootModules_2_1.done && (_a = rootModules_2.return)) _a.call(rootModules_2);\n        }\n        finally { if (e_4) throw e_4.error; }\n    }\n    return modulesChanged;\n}\nfunction registerListeners(source, listeners) {\n    source.clearEventListeners();\n    for (var property in listeners) {\n        var listener = listeners[property];\n        if (typeof listener !== 'function')\n            continue;\n        source.addEventListener(property, listener);\n    }\n}\nvar JSON_APPLY_OPTIONS = {\n    constructors: {\n        title: Caption,\n        subtitle: Caption,\n        footnote: Caption,\n        shadow: DropShadow,\n        innerCircle: DoughnutInnerCircle,\n        'axes[].crossLines[]': CrossLine,\n        'series[].innerLabels[]': DoughnutInnerLabel,\n        'background.image': BackgroundImage,\n    },\n    allowedTypes: {\n        'legend.pagination.marker.shape': ['primitive', 'function'],\n        'series[].marker.shape': ['primitive', 'function'],\n        'axis[].tick.count': ['primitive', 'class-instance'],\n    },\n};\nfunction applyOptionValues(target, options, _a) {\n    var _b = _a === void 0 ? {} : _a, skip = _b.skip, path = _b.path;\n    var applyOpts = __assign(__assign(__assign({}, JSON_APPLY_OPTIONS), { skip: skip }), (path ? { path: path } : {}));\n    return jsonApply(target, options, applyOpts);\n}\nfunction applySeriesValues(target, options, _a) {\n    var _b = _a === void 0 ? {} : _a, path = _b.path, index = _b.index;\n    var skip = ['series[].listeners'];\n    var ctrs = (JSON_APPLY_OPTIONS === null || JSON_APPLY_OPTIONS === void 0 ? void 0 : JSON_APPLY_OPTIONS.constructors) || {};\n    var seriesTypeOverrides = {\n        constructors: __assign(__assign({}, ctrs), { title: target.type === 'pie' ? PieTitle : ctrs['title'] }),\n    };\n    var applyOpts = __assign(__assign(__assign(__assign(__assign({}, JSON_APPLY_OPTIONS), seriesTypeOverrides), { skip: __spread(['series[].type'], (skip || [])) }), (path ? { path: path } : {})), { idx: index !== null && index !== void 0 ? index : -1 });\n    var result = jsonApply(target, options, applyOpts);\n    var listeners = options === null || options === void 0 ? void 0 : options.listeners;\n    if (listeners != null) {\n        registerListeners(target, listeners);\n    }\n    return result;\n}\n", "// DO NOT UPDATE MANUALLY: Generated from script during build time\nexport var VERSION = '7.3.0';\n", "export { Caption } from './caption';\nexport { DropShadow } from './scene/dropShadow';\nexport { Group } from './scene/group';\nexport { Scene } from './scene/scene';\nexport { Node, PointerEvents, RedrawType } from './scene/node';\nexport { Selection } from './scene/selection';\nexport { Arc } from './scene/shape/arc';\nexport { Line } from './scene/shape/line';\nexport { Path } from './scene/shape/path';\nexport { Rect } from './scene/shape/rect';\nexport { Sector } from './scene/shape/sector';\nexport { Shape } from './scene/shape/shape';\nexport { Text } from './scene/shape/text';\nexport { BandScale } from './scale/bandScale';\nexport { LinearScale } from './scale/linearScale';\nexport { toRadians } from './util/angle';\nexport { Label } from './chart/label';\nexport { Marker } from './chart/marker/marker';\nexport { Circle } from './chart/marker/circle';\nexport { Diamond } from './chart/marker/diamond';\nexport { Square } from './chart/marker/square';\nexport { Tooltip, toTooltipHtml } from './chart/tooltip/tooltip';\nexport { HdpiCanvas } from './canvas/hdpiCanvas';\nexport { BBox } from './scene/bbox';\nexport { Image } from './scene/image';\nexport { Path2D } from './scene/path2D';\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { themes as themeFactories } from './chart/mapping/themes';\nexport { getChartTheme } from './chart/mapping/themes';\nexport { ChartTheme } from './chart/themes/chartTheme';\nexport var themes = Object.entries(themeFactories).reduce(function (obj, _a) {\n    var _b = __read(_a, 2), name = _b[0], factory = _b[1];\n    obj[name] = factory();\n    return obj;\n}, {});\n", "export * from './scale/timeScale';\nexport * from './scale/bandScale';\nexport * from './scale/continuousScale';\nexport * from './scale/colorScale';\nexport * from './scale/linearScale';\n", "export * from './util/value';\nexport * from './util/id';\nexport * from './util/padding';\nexport * from './util/json';\nexport * from './util/angle';\nexport { extent } from './util/array';\nexport { tickFormat } from './util/numberFormat';\nexport * from './util/sanitize';\nimport ticks from './util/ticks';\nexport { ticks };\nexport { Color } from './util/color';\n", "// Documented APIs.\nexport * from './chart/agChartOptions';\nimport * as time_1 from './util/time/index';\nexport { time_1 as time };\nexport { AgChart } from './chart/agChartV2';\nexport { VERSION } from './version';\n// Undocumented APIs used by examples.\nexport { Marker } from './chart/marker/marker';\nimport * as _Scene_1 from './integrated-charts-scene';\nexport { _Scene_1 as _Scene };\nimport * as _Theme_1 from './integrated-charts-theme';\nexport { _Theme_1 as _Theme };\nimport * as _Scale_1 from './sparklines-scale';\nexport { _Scale_1 as _Scale };\nimport * as _Util_1 from './sparklines-util';\nexport { _Util_1 as _Util };\nimport * as _ModuleSupport_1 from './module-support';\nexport { _ModuleSupport_1 as _ModuleSupport };\n", "// ag-charts-react v7.3.0\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AgChartsReact = void 0;\nconst react_1 = require(\"react\");\nconst PropTypes = require(\"prop-types\");\nconst ag_charts_community_1 = require(\"ag-charts-community\");\nclass AgChartsReact extends react_1.Component {\n    constructor(props) {\n        super(props);\n        this.props = props;\n        this.chartRef = react_1.createRef();\n    }\n    render() {\n        return react_1.createElement(\"div\", {\n            style: this.createStyleForDiv(),\n            ref: this.chartRef\n        });\n    }\n    createStyleForDiv() {\n        var _a;\n        return Object.assign({ height: \"100%\" }, ((_a = this.props.containerStyle) !== null && _a !== void 0 ? _a : {}));\n    }\n    componentDidMount() {\n        const options = this.applyContainerIfNotSet(this.props.options);\n        const chart = ag_charts_community_1.AgChart.create(options);\n        this.chart = chart;\n        chart.chart.waitForUpdate()\n            .then(() => { var _a, _b; return (_b = (_a = this.props).onChartReady) === null || _b === void 0 ? void 0 : _b.call(_a, chart); });\n    }\n    applyContainerIfNotSet(propsOptions) {\n        if (propsOptions.container) {\n            return propsOptions;\n        }\n        return Object.assign(Object.assign({}, propsOptions), { container: this.chartRef.current });\n    }\n    shouldComponentUpdate(nextProps) {\n        this.processPropsChanges(this.props, nextProps);\n        // we want full control of the dom, as AG Charts doesn't use React internally,\n        // so for performance reasons we tell React we don't need render called after\n        // property changes.\n        return false;\n    }\n    processPropsChanges(prevProps, nextProps) {\n        if (this.chart) {\n            ag_charts_community_1.AgChart.update(this.chart, this.applyContainerIfNotSet(nextProps.options));\n        }\n    }\n    componentWillUnmount() {\n        if (this.chart) {\n            this.chart.destroy();\n            this.chart = undefined;\n        }\n    }\n}\nexports.AgChartsReact = AgChartsReact;\nAgChartsReact.propTypes = {\n    options: PropTypes.object\n};\n", "exports.AgChartsReact = require('./lib/agChartsReact').AgChartsReact;\n"],
  "mappings": "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",
  "names": ["target", "key", "key", "type", "i", "checker", "d", "b", "TimeInterval", "encode", "decode", "_a", "range", "CountableTimeInterval", "offset", "encode", "decode", "encode", "offset", "decode", "encode", "offset", "decode", "encode", "decode", "encode", "decode", "encode", "decode", "year", "month", "encode", "decode", "encode", "decode", "encode", "decode", "encode", "decode", "encode", "decode", "year", "month", "encode", "decode", "HdpiCanvas", "_a", "_b", "document", "_c", "_d", "type", "element", "BBox", "_a", "_b", "key", "__read", "Matrix", "target", "opts", "_a", "key", "_a", "RedrawType", "ChangeDetectable", "type", "__extends", "__read", "d", "b", "target", "key", "PointerEvents", "Node", "_a", "_b", "_c", "type", "opts", "_d", "key", "__read", "__spread", "__extends", "__assign", "__decorate", "__values", "__read", "__spread", "d", "b", "target", "key", "Group", "opts", "_a", "_b", "type", "_c", "_d", "HdpiOffscreenCanvas", "_a", "_b", "_c", "_d", "_a", "__assign", "__read", "__spread", "__values", "Scene", "opts", "_b", "_c", "document", "_d", "type", "start", "end", "key", "Observable", "type", "isDate", "target", "getter", "_a", "_b", "_c", "_d", "__values", "setter", "key", "opts", "warnDeprecated", "target", "__read", "Color", "_a", "target", "_a", "_b", "_c", "Layers", "ChartAxisDirection", "_a", "_b", "_c", "_d", "__decorate", "__values", "target", "key", "TooltipPosition", "Tooltip", "document", "element", "opts", "__assign", "__extends", "__decorate", "__values", "__read", "__spread", "d", "b", "target", "key", "SeriesNodePickMode", "SeriesNodeBaseClickEvent", "SeriesNodeClickEvent", "SeriesNodeDoubleClickEvent", "SeriesItemHighlightStyle", "SeriesHighlightStyle", "TextHighlightStyle", "HighlightStyle", "SeriesTooltip", "SeriesTooltipInteraction", "Series", "_a", "_b", "_c", "_d", "extent", "__decorate", "target", "key", "Padding", "Selection", "Gradient", "__extends", "d", "b", "LinearGradient", "_a", "__extends", "__decorate", "d", "b", "target", "key", "Shape", "offset", "_a", "_b", "_c", "opts", "_a", "_b", "redraw", "changeCb", "__extends", "__decorate", "d", "b", "target", "key", "Text", "_a", "__values", "__values", "Command", "Path2D", "_a", "opts", "_a", "_b", "redraw", "changeCb", "convertor", "__extends", "__decorate", "d", "b", "target", "key", "Path", "_c", "_d", "__extends", "__decorate", "__values", "d", "b", "target", "key", "Marker", "_a", "_b", "_c", "__extends", "d", "b", "Square", "_a", "target", "key", "opts", "__extends", "__decorate", "d", "b", "target", "key", "MarkerLabel", "__extends", "d", "b", "Circle", "_a", "__extends", "d", "b", "Cross", "__extends", "d", "b", "Diamond", "__extends", "d", "b", "Heart", "_a", "__extends", "d", "b", "Plus", "__extends", "d", "b", "Triangle", "ChartUpdateType", "_a", "_b", "_c", "_d", "__values", "__decorate", "target", "key", "PaginationLabel", "PaginationMarkerStyle", "PaginationMarker", "_a", "Pagination", "_b", "Marker", "__decorate", "__read", "__spread", "__values", "target", "key", "v", "LegendLabel", "LegendMarker", "_a", "LegendItem", "LegendListeners", "Legend", "type", "_b", "_c", "_d", "Marker", "lastPassPaginationBBox", "width", "height", "legendData", "series", "__values", "SizeMonitor", "_a", "_b", "element", "i", "ln", "datum", "d", "labels", "l", "_a", "_b", "cb", "__awaiter", "__generator", "_a", "__extends", "__decorate", "d", "b", "target", "key", "SeriesMarker", "__read", "ContinuousScale", "range", "_a", "_b", "_c", "d", "__read", "BandScale", "_a", "__extends", "__decorate", "d", "b", "target", "key", "Line", "_a", "__extends", "__decorate", "d", "b", "target", "key", "ArcType", "Arc", "__decorate", "target", "key", "Caption", "a", "b", "_a", "_b", "__extends", "d", "NumericTicks", "year", "offset", "day", "__extends", "__values", "__read", "__spread", "_a", "d", "b", "DefaultTimeFormats", "TimeScale", "format", "extent", "_b", "target", "_a", "__read", "_b", "type", "_c", "__spread", "__extends", "__decorate", "__read", "__spread", "d", "b", "target", "key", "LogScale", "_a", "_b", "t", "extent", "v", "opts", "_a", "_b", "__decorate", "target", "key", "Label", "__decorate", "__read", "__spread", "target", "key", "v", "ctx", "Tags", "AxisLine", "AxisTick", "AxisLabel", "Axis", "_a", "_b", "range", "format", "_c", "_d", "i", "group", "tick", "label", "__extends", "__read", "d", "b", "LinearScale", "_a", "_b", "_c", "_d", "__extends", "__assign", "__decorate", "__read", "__spread", "__values", "d", "b", "target", "key", "ChartAxis", "_a", "_b", "keys", "_c", "_d", "__extends", "__decorate", "__read", "__spread", "d", "b", "target", "key", "CategoryAxis", "_a", "target", "_a", "__spread", "__assign", "prop", "__values", "opts", "type", "nextProp", "types", "_b", "_c", "_d", "property", "idx", "element", "__read", "__extends", "__decorate", "__awaiter", "__generator", "__read", "__spread", "__values", "_a", "d", "b", "target", "key", "CartesianSeriesNodeBaseClickEvent", "CartesianSeriesNodeClickEvent", "CartesianSeriesNodeDoubleClickEvent", "CartesianSeries", "opts", "_b", "_c", "_d", "dataNodeGroup", "markerGroup", "labelGroup", "paths", "directions", "CartesianSeriesMarker", "__decorate", "target", "key", "Overlay", "_a", "_b", "element", "ChartOverlays", "__read", "__spread", "__values", "Listeners", "type", "_a", "_b", "BaseManager", "type", "__extends", "__assign", "__awaiter", "__generator", "__values", "d", "b", "InteractionManager", "element", "_a", "_b", "type", "types", "opts", "__read", "CursorManager", "element", "_a", "_b", "isEqual", "__extends", "__read", "d", "b", "HighlightManager", "_a", "_b", "__values", "__read", "TooltipManager", "_a", "_b", "_c", "_d", "isEqual", "_a", "_b", "_c", "_d", "__extends", "__assign", "__values", "__read", "d", "b", "ZoomManager", "__assign", "LayoutService", "type", "_a", "ctx", "UpdateService", "type", "__decorate", "target", "key", "ChartHighlight", "__extends", "__assign", "__decorate", "__awaiter", "__generator", "__values", "__read", "__spread", "d", "b", "target", "key", "Chart", "document", "_a", "_b", "element", "type", "opts", "_c", "_d", "series", "range", "pad", "TreeNode", "Dimensions", "_a", "TreeLayout", "node", "__extends", "__decorate", "__read", "__spread", "d", "b", "target", "key", "GroupedCategoryAxisLabel", "GroupedCategoryAxis", "_a", "range", "_b", "label", "__extends", "__assign", "__awaiter", "__generator", "__values", "__read", "d", "b", "CartesianChart", "document", "_a", "_b", "_c", "_d", "key", "axis", "opts", "__extends", "d", "b", "PolarSeries", "_a", "_b", "_c", "__extends", "__awaiter", "__generator", "d", "b", "PolarChart", "document", "_a", "_b", "__extends", "__awaiter", "__generator", "d", "b", "HierarchyChart", "document", "_a", "_a", "__read", "format", "_b", "__extends", "__decorate", "__read", "d", "b", "target", "key", "NumberAxis", "_a", "__extends", "__decorate", "d", "b", "target", "key", "LogAxis", "_a", "_a", "__values", "__assign", "__read", "__spread", "_b", "_c", "_d", "DataModel", "opts", "key", "def", "group", "distinctValues", "range", "sumValues", "extent", "type", "__extends", "__decorate", "d", "b", "target", "key", "TimeAxis", "_a", "format", "__extends", "__decorate", "__awaiter", "__generator", "__read", "__spread", "__values", "d", "b", "target", "key", "AreaSeriesLabel", "AreaSeriesTooltip", "AreaSeriesTag", "AreaSeries", "_a", "_b", "_c", "_d", "opts", "format", "__extends", "__decorate", "d", "b", "target", "key", "Rect", "_a", "_b", "_c", "_d", "__extends", "__decorate", "__awaiter", "__generator", "__read", "__spread", "d", "b", "target", "key", "v", "BarSeriesNodeTag", "BarSeriesLabel", "BarSeriesTooltip", "BarSeries", "_a", "_b", "_c", "_d", "range", "opts", "format", "enabled", "__extends", "__decorate", "__awaiter", "__generator", "__read", "__spread", "d", "b", "target", "key", "HistogramSeriesNodeTag", "HistogramSeriesLabel", "HistogramBin", "_a", "_b", "HistogramSeriesTooltip", "HistogramSeries", "_c", "_d", "opts", "__extends", "__decorate", "__awaiter", "__generator", "__values", "__read", "d", "b", "target", "key", "LineSeriesLabel", "LineSeriesTooltip", "LineSeries", "_a", "_b", "_c", "_d", "opts", "format", "__extends", "__assign", "__decorate", "__awaiter", "__generator", "__read", "__spread", "__values", "d", "b", "target", "key", "ScatterSeriesNodeBaseClickEvent", "ScatterSeriesNodeClickEvent", "ScatterSeriesNodeDoubleClickEvent", "ScatterSeriesTooltip", "ScatterSeries", "_a", "_b", "_c", "_d", "opts", "_e", "format", "__extends", "__decorate", "init_sector", "d", "b", "target", "key", "Sector", "__extends", "__assign", "__decorate", "__awaiter", "__generator", "__read", "__spread", "init_sector", "d", "b", "target", "key", "PieSeriesNodeBaseClickEvent", "PieSeriesNodeClickEvent", "PieSeriesNodeDoubleClickEvent", "PieNodeTag", "PieSeriesCalloutLabel", "PieSeriesSectorLabel", "PieSeriesCalloutLine", "PieSeriesTooltip", "PieTitle", "DoughnutInnerLabel", "DoughnutInnerCircle", "PieSeries", "_a", "_b", "_c", "_d", "format", "group", "offset", "box", "bbox", "i", "__extends", "d", "b", "HierarchySeries", "__extends", "__decorate", "d", "b", "target", "key", "DropShadow", "init_number", "init_color", "init_number", "init_color", "ColorScale", "_a", "range", "__extends", "__assign", "__decorate", "__awaiter", "__generator", "d", "b", "target", "key", "TreemapSeriesTooltip", "TreemapSeriesNodeBaseClickEvent", "TreemapSeriesNodeClickEvent", "TreemapSeriesNodeDoubleClickEvent", "TreemapSeriesLabel", "TreemapValueLabel", "TextNodeTag", "TreemapTextHighlightStyle", "TreemapHighlightStyle", "TreemapSeries", "_a", "_b", "_c", "group", "_d", "format", "chartType", "target", "key", "__assign", "__read", "ChartTheme", "_a", "_b", "palette", "type", "seriesDefaults", "__extends", "__assign", "d", "b", "DarkTheme", "__values", "BaseModuleInstance", "_a", "_b", "_c", "__extends", "__decorate", "d", "b", "target", "key", "RangeHandle", "_a", "__extends", "__decorate", "d", "b", "target", "key", "RangeMask", "_a", "__extends", "__assign", "d", "b", "RangeSelector", "_a", "_b", "NavigatorMask", "NavigatorHandle", "__extends", "__decorate", "d", "b", "target", "key", "Navigator", "_a", "_b", "offset", "__extends", "__decorate", "d", "b", "target", "key", "Background", "_a", "mod", "chartType", "is2dArray", "__assign", "type", "transform", "__extends", "palette", "d", "b", "MaterialLight", "__extends", "palette", "d", "b", "MaterialDark", "__extends", "palette", "d", "b", "PastelLight", "__extends", "palette", "d", "b", "PastelDark", "__extends", "palette", "d", "b", "SolarLight", "__extends", "palette", "d", "b", "SolarDark", "__extends", "palette", "d", "b", "VividLight", "__extends", "palette", "d", "b", "VividDark", "_a", "palette", "__assign", "_a", "__values", "_b", "_c", "series", "__assign", "__read", "__spread", "types", "_a", "_b", "_c", "_d", "__values", "seriesDefaults", "type", "__assign", "axisType", "__read", "__spread", "_a", "_b", "_c", "_d", "__extends", "__assign", "__decorate", "d", "b", "target", "key", "Range", "_a", "_b", "_c", "_d", "__decorate", "__read", "__spread", "target", "key", "v", "CrossLineLabel", "CrossLine", "_a", "group", "_b", "_c", "_d", "range", "isContinuous", "__extends", "__decorate", "d", "b", "target", "key", "Image", "BackgroundImage", "debug", "__spread", "_a", "_b", "_c", "_d", "__values", "target", "__assign", "__awaiter", "__generator", "__read", "AgChart", "AgChartInstanceProxy", "AgChartInternal", "opts", "init_sector", "themes", "__read", "_a", "_b", "_a", "_b"]
}
